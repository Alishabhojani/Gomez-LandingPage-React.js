(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{4465:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}((function(t){return r.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}))},4444:function(t,e,n){"use strict";n.d(e,{BH:function(){return s},LL:function(){return m},ZR:function(){return p},tV:function(){return o},ne:function(){return S},vZ:function(){return y},pd:function(){return T},m9:function(){return A},z$:function(){return a},ru:function(){return c},d:function(){return h},xb:function(){return v},w1:function(){return f},uI:function(){return u},b$:function(){return l},Mn:function(){return d},xO:function(){return w},zd:function(){return E}});const r=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],o=i+1<t.length,s=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,c=e>>2,l=(3&e)<<4|s>>4;let h=(15&s)<<2|u>>6,f=63&u;a||(f=64,o||(h=64)),r.push(n[c],n[l],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const s=i<t.length?n[t.charAt(i)]:64;++i;const a=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==o||null==s||null==a)throw Error();const u=e<<2|o>>4;if(r.push(u),64!==s){const t=o<<4&240|s>>2;if(r.push(t),64!==a){const t=s<<6&192|a;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},o=function(t){try{return i.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};class s{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function a(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function l(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function h(){return a().indexOf("Electron/")>=0}function f(){const t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function d(){return a().indexOf("MSAppHost/")>=0}class p extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,p.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,m.prototype.create)}}class m{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],o=i?function(t,e){return t.replace(g,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new p(r,s,n)}}const g=/\{\$([^}]+)}/g;function v(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function y(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],o=e[i];if(b(n)&&b(o)){if(!y(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function b(t){return null!==t&&"object"===typeof t}function w(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function E(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e}function T(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function S(t,e){const n=new _(t,e);return n.subscribe.bind(n)}class _{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function x(){}function A(t){return t&&t._delegate?t._delegate:t}},9742:function(t,e){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=u(t),s=o[0],a=o[1],c=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),l=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[l++]=255&e);1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e);return c},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(c(t,a,a+s>u?u:a+s));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8764:function(t,e,n){"use strict";var r=n(9742),i=n(645),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50;var s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,n){if("number"===typeof t){if("string"===typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,n)}function c(t,e,n){if("string"===typeof t)return function(t,e){"string"===typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|m(t,e),r=a(n),i=r.write(t,e);i!==n&&(r=r.slice(0,i));return r}(t,e);if(ArrayBuffer.isView(t))return f(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(z(t,ArrayBuffer)||t&&z(t.buffer,ArrayBuffer))return d(t,e,n);if("undefined"!==typeof SharedArrayBuffer&&(z(t,SharedArrayBuffer)||t&&z(t.buffer,SharedArrayBuffer)))return d(t,e,n);if("number"===typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return u.from(r,e,n);var i=function(t){if(u.isBuffer(t)){var e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!==typeof t.length||$(t.length)?a(0):f(t);if("Buffer"===t.type&&Array.isArray(t.data))return f(t.data)}(t);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!==typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),a(t<0?0:0|p(t))}function f(t){for(var e=t.length<0?0:0|p(t.length),n=a(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function d(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,u.prototype),r}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function m(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||z(t,ArrayBuffer))return t.byteLength;if("string"!==typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(t).length;default:if(i)return r?-1:F(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),$(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"===typeof e)return e&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){h=!1;break}if(h)return o}return-1}function w(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if($(a))return s;t[n+s]=a}return s}function E(t,e,n,r){return B(F(e,t.length-n),t,n,r)}function T(t,e,n,r){return B(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return T(t,e,n,r)}function _(t,e,n,r){return B(j(e),t,n,r)}function x(t,e,n,r){return B(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,c=t[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128===(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],s=t[i+2],128===(192&o)&&128===(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=C));return n}(r)}e.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(n){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,n){return function(t,e,n){return l(t),t<=0?a(t):void 0!==e?"string"===typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(z(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),z(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(z(o,Uint8Array)&&(o=u.from(o)),!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?I(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,n,r,i){if(z(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),c=this.slice(r,i),l=t.slice(e,n),h=0;h<a;++h)if(c[h]!==l[h]){o=c[h],s=l[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":return T(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function R(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=H[t[o]];return i}function O(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(t,e,n,r,o){return e=+e,n>>>=0,o||D(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,o){return e=+e,n>>>=0,o||D(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e>>>=0,n>>>=0,r)||L(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e>>>=0,n>>>=0,r)||L(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeFloatLE=function(t,e,n){return M(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return M(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,r);else if(this===t&&n<e&&e<r)for(var o=i-1;o>=0;--o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,r),e);return i},u.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var i=t.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(t=i)}}else"number"===typeof t?t&=255:"boolean"===typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:u.from(t,r),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var V=/[^+/0-9A-Za-z-_]/g;function F(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function B(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function z(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function $(t){return t!==t}var H=function(){for(var t="0123456789abcdef",e=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)e[r+i]=t[n]+t[i];return e}()},4737:function(t,e,n){"use strict";n.d(e,{hJ:function(){return _t},v0:function(){return Ge},Aj:function(){return Lt},rh:function(){return pe}});var r=n(4444),i=n(2238);function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;Object.create;var s=n(3333),a=n(8463);function u(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=u,l=new r.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),h=new s.Yd("@firebase/auth");function f(t,...e){h.logLevel<=s.in.ERROR&&h.error(`Auth (${i.Jn}): ${t}`,...e)}function d(t,...e){throw v(t,...e)}function p(t,...e){return v(t,...e)}function m(t,e,n){const i=Object.assign(Object.assign({},c()),{[e]:n});return new r.LL("auth","Firebase",i).create(e,{appName:t.name})}function g(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&d(t,"argument-error"),m(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v(t,...e){if("string"!==typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return l.create(t,...e)}function y(t,e,...n){if(!t)throw v(e,...n)}function b(t){const e="INTERNAL ASSERTION FAILED: "+t;throw f(e),new Error(e)}function w(t,e){t||b(e)}const E=new Map;function T(t){w(t instanceof Function,"Expected a class definition");let e=E.get(t);return e?(w(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E.set(t,e),e)}function S(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function _(){return"http:"===x()||"https:"===x()}function x(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class A{constructor(t,e){this.shortDelay=t,this.longDelay=e,w(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,r.uI)()||(0,r.b$)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(_()||(0,r.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function I(t,e){w(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class C{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},P=new A(3e4,6e4);function R(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function O(t,e,n,i,o={}){return N(t,o,(()=>{let o={},s={};i&&("GET"===e?s=i:o={body:JSON.stringify(i)});const a=(0,r.xO)(Object.assign({key:t.config.apiKey},s)).slice(1),u=new(C.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&u.set("X-Firebase-Locale",t.languageCode),C.fetch()(D(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))}async function N(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},k),e);try{const e=new M(t),r=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw U(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const e=r.ok?o.errorMessage:o.error.message,[n,s]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw U(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw U(t,"email-already-in-use",o);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw m(t,a,s);d(t,a)}}catch(o){if(o instanceof r.ZR)throw o;d(t,"network-request-failed")}}async function L(t,e,n,r,i={}){const o=await O(t,e,n,r,i);return"mfaPendingCredential"in o&&d(t,"multi-factor-auth-required",{_serverResponse:o}),o}function D(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?I(t.config,i):`${t.config.apiScheme}://${i}`}class M{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(p(this.auth,"timeout"))),P.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function U(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=p(t,e,r);return i.customData._tokenResponse=n,i}function V(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function F(t){return 1e3*Number(t)}function j(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return f("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,r.tV)(n);return t?JSON.parse(t):(f("Failed to decode base64 JWT payload"),null)}catch(o){return f("Caught error parsing JWT payload as JSON",o),null}}async function B(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof r.ZR&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}class z{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&this.schedule(!0))}this.schedule()}}class ${constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=V(this.lastLoginAt),this.creationTime=V(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function H(t){var e;const n=t.auth,r=await t.getIdToken(),i=await B(t,async function(t,e){return O(t,"POST","/v1/accounts:lookup",e)}(n,{idToken:r}));y(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?s.providerUserInfo.map((t=>{var{providerId:e}=t,n=o(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const u=(c=t.providerData,l=a,[...c.filter((t=>!l.some((e=>e.providerId===t.providerId)))),...l]);var c,l;const h=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(null===u||void 0===u?void 0:u.length),d=!!h&&f,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new $(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}class q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){y(t.idToken,"internal-error"),y("undefined"!==typeof t.idToken,"internal-error"),y("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):function(t){const e=j(t);return y(e,"internal-error"),y("undefined"!==typeof e.exp,"internal-error"),y("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return y(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:o}=await async function(t,e){const n=await N(t,{},(()=>{const n=(0,r.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=D(t,i,"/v1/token",`key=${o}`);return C.fetch()(s,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,o=new q;return n&&(y("string"===typeof n,"internal-error",{appName:t}),o.refreshToken=n),r&&(y("string"===typeof r,"internal-error",{appName:t}),o.accessToken=r),i&&(y("number"===typeof i,"internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new q,this.toJSON())}_performRefresh(){return b("not implemented")}}function W(t,e){y("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class K{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=o(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new $(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await B(this,this.stsTokenManager.getToken(this.auth,t));return y(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t,e=!1){const n=(0,r.m9)(t),i=await n.getIdToken(e),o=j(i);y(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:o,token:i,authTime:V(F(o.auth_time)),issuedAtTime:V(F(o.iat)),expirationTime:V(F(o.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=(0,r.m9)(t);await H(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(y(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new K(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await H(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await B(this,async function(t,e){return O(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,o,s,a,u,c;const l=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,f=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,d=null!==(o=e.photoURL)&&void 0!==o?o:void 0,p=null!==(s=e.tenantId)&&void 0!==s?s:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(u=e.createdAt)&&void 0!==u?u:void 0,v=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:E,providerData:T,stsTokenManager:S}=e;y(b&&S,t,"internal-error");const _=q.fromJSON(this.name,S);y("string"===typeof b,t,"internal-error"),W(l,t.name),W(h,t.name),y("boolean"===typeof w,t,"internal-error"),y("boolean"===typeof E,t,"internal-error"),W(f,t.name),W(d,t.name),W(p,t.name),W(m,t.name),W(g,t.name),W(v,t.name);const x=new K({uid:b,auth:t,email:h,emailVerified:w,displayName:l,isAnonymous:E,photoURL:d,phoneNumber:f,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:v});return T&&Array.isArray(T)&&(x.providerData=T.map((t=>Object.assign({},t)))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(t,e,n=!1){const r=new q;r.updateFromServerResponse(e);const i=new K({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await H(i),i}}class G{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}G.type="NONE";const Y=G;function X(t,e,n){return`firebase:${t}:${e}:${n}`}class J{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=X(this.userKey,r.apiKey,i),this.fullPersistenceKey=X("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?K._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new J(T(Y),t,n);const r=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=r[0]||T(Y);const o=X(n,t.config.apiKey,t.name);let s=null;for(const c of e)try{const e=await c._get(o);if(e){const n=K._fromJSON(t,e);c!==i&&(s=n),i=c;break}}catch(u){}const a=r.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(o)}catch(u){}}))),new J(i,t,n)):new J(i,t,n)}}function Q(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nt(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(it(e))return"Blackberry";if(ot(e))return"Webos";if(tt(e))return"Safari";if((e.includes("chrome/")||et(e))&&!e.includes("edge/"))return"Chrome";if(rt(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Z(t=(0,r.z$)()){return/firefox\//i.test(t)}function tt(t=(0,r.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function et(t=(0,r.z$)()){return/crios\//i.test(t)}function nt(t=(0,r.z$)()){return/iemobile/i.test(t)}function rt(t=(0,r.z$)()){return/android/i.test(t)}function it(t=(0,r.z$)()){return/blackberry/i.test(t)}function ot(t=(0,r.z$)()){return/webos/i.test(t)}function st(t=(0,r.z$)()){return/iphone|ipad|ipod/i.test(t)}function at(t=(0,r.z$)()){return st(t)||rt(t)||ot(t)||it(t)||/windows phone/i.test(t)||nt(t)}function ut(t,e=[]){let n;switch(t){case"Browser":n=Q((0,r.z$)());break;case"Worker":n=`${Q((0,r.z$)())}-${t}`;break;default:n=t}const o=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.Jn}/${o}`}class ct{constructor(t,e){this.app=t,this.config=e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ht(this),this.idTokenSubscription=new ht(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=e.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=T(e)),this._initializationPromise=this.queue((async()=>{var n,r;this._deleted||(this.persistenceManager=await J.create(this,t),this._deleted||((null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)))})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(t)):void 0}async initializeCurrentUser(t){var e;let n=await this.assertedPersistence.getCurrentUser();if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,i=null===n||void 0===n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(t);r&&r!==i||!(null===o||void 0===o?void 0:o.user)||(n=o.user)}return n?n._redirectEventId?(y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(n){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await H(t)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?(0,r.m9)(t):null;return e&&y(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){if(!this._deleted)return t&&y(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(T(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new r.LL("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&T(t)||this._popupRedirectResolver;y(e,this,"argument-error"),this.redirectPersistenceManager=await J.create(this,[T(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"===typeof e?e:e.next.bind(e),o=this._isInitialized?Promise.resolve():this._initializationPromise;return y(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"===typeof e?t.addObserver(e,n,r):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ut(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function lt(t){return(0,r.m9)(t)}class ht{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,r.ne)((t=>this.observer=t))}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class ft{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return b("not implemented")}_getIdTokenResponse(t){return b("not implemented")}_linkToIdToken(t,e){return b("not implemented")}_getReauthenticationResolver(t){return b("not implemented")}}async function dt(t,e){return O(t,"POST","/v1/accounts:update",e)}class pt extends ft{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new pt(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new pt(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return async function(t,e){return L(t,"POST","/v1/accounts:signInWithPassword",R(t,e))}(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return L(t,"POST","/v1/accounts:signInWithEmailLink",R(t,e))}(t,{email:this._email,oobCode:this._password});default:d(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return dt(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return L(t,"POST","/v1/accounts:signInWithEmailLink",R(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:d(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function mt(t,e){return L(t,"POST","/v1/accounts:signInWithIdp",R(t,e))}class gt extends ft{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new gt(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):d("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=o(e,["providerId","signInMethod"]);if(!n||!r)return null;const s=new gt(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){return mt(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,mt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,mt(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=(0,r.xO)(e)}return t}}const vt={USER_NOT_FOUND:"user-not-found"};class yt extends ft{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new yt({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new yt({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return L(t,"POST","/v1/accounts:signInWithPhoneNumber",R(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await L(t,"POST","/v1/accounts:signInWithPhoneNumber",R(t,e));if(n.temporaryProof)throw U(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return L(t,"POST","/v1/accounts:signInWithPhoneNumber",R(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),vt)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new yt({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class bt{constructor(t){var e,n,i,o,s,a;const u=(0,r.zd)((0,r.pd)(t)),c=null!==(e=u.apiKey)&&void 0!==e?e:null,l=null!==(n=u.oobCode)&&void 0!==n?n:null,h=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);y(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=(0,r.zd)((0,r.pd)(t)).link,n=e?(0,r.zd)((0,r.pd)(e)).deep_link_id:null,i=(0,r.zd)((0,r.pd)(t)).deep_link_id;return(i?(0,r.zd)((0,r.pd)(i)).link:null)||i||n||e||t}(t);try{return new bt(e)}catch(n){return null}}}class wt{constructor(){this.providerId=wt.PROVIDER_ID}static credential(t,e){return pt._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=bt.parseLink(e);return y(n,"argument-error"),pt._fromEmailAndCode(t,n.code,n.tenantId)}}wt.PROVIDER_ID="password",wt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",wt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Et{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Tt extends Et{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class St extends Tt{constructor(){super("facebook.com")}static credential(t){return gt._fromParams({providerId:St.PROVIDER_ID,signInMethod:St.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return St.credentialFromTaggedObject(t)}static credentialFromError(t){return St.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return St.credential(t.oauthAccessToken)}catch(e){return null}}}St.FACEBOOK_SIGN_IN_METHOD="facebook.com",St.PROVIDER_ID="facebook.com";class _t extends Tt{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return gt._fromParams({providerId:_t.PROVIDER_ID,signInMethod:_t.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return _t.credentialFromTaggedObject(t)}static credentialFromError(t){return _t.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return _t.credential(e,n)}catch(r){return null}}}_t.GOOGLE_SIGN_IN_METHOD="google.com",_t.PROVIDER_ID="google.com";class xt extends Tt{constructor(){super("github.com")}static credential(t){return gt._fromParams({providerId:xt.PROVIDER_ID,signInMethod:xt.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xt.credentialFromTaggedObject(t)}static credentialFromError(t){return xt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xt.credential(t.oauthAccessToken)}catch(e){return null}}}xt.GITHUB_SIGN_IN_METHOD="github.com",xt.PROVIDER_ID="github.com";class At extends Tt{constructor(){super("twitter.com")}static credential(t,e){return gt._fromParams({providerId:At.PROVIDER_ID,signInMethod:At.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return At.credentialFromTaggedObject(t)}static credentialFromError(t){return At.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return At.credential(e,n)}catch(r){return null}}}At.TWITTER_SIGN_IN_METHOD="twitter.com",At.PROVIDER_ID="twitter.com";class It{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,r=!1){const i=await K._fromIdTokenResponse(t,n,r),o=Ct(n);return new It({user:i,providerId:o,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=Ct(n);return new It({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function Ct(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class kt extends r.ZR{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,kt.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new kt(t,e,n,r)}}function Pt(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw kt._fromErrorAndOperation(t,n,e,r);throw n}))}async function Rt(t,e,n=!1){const r=await B(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return It._forOperation(t,"link",r)}async function Ot(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await B(t,Pt(r,i,e,t),n);y(o.idToken,r,"internal-error");const s=j(o.idToken);y(s,r,"internal-error");const{sub:a}=s;return y(t.uid===a,r,"user-mismatch"),It._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===(null===o||void 0===o?void 0:o.code)&&d(r,"user-mismatch"),o}}async function Nt(t,e,n=!1){const r="signIn",i=await Pt(t,r,e),o=await It._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function Lt(t,e,n,i){return(0,r.m9)(t).onAuthStateChanged(e,n,i)}new WeakMap;const Dt="__sak";class Mt{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Dt,"1"),this.storage.removeItem(Dt),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ut extends Mt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=(0,r.z$)();return tt(t)||st(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=at(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},o=this.storage.getItem(n);(0,r.w1)()&&10===document.documentMode&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,10):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ut.type="LOCAL";const Vt=Ut;class Ft extends Mt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Ft.type="SESSION";const jt=Ft;class Bt{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new Bt(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async t=>t(e.origin,i))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function zt(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}Bt.receivers=[];class $t{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const u=zt("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===u)switch(e.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(e.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:e},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Ht(){return window}function qt(){return"undefined"!==typeof Ht().WorkerGlobalScope&&"function"===typeof Ht().importScripts}const Wt="firebaseLocalStorageDb",Kt="firebaseLocalStorage",Gt="fbase_key";class Yt{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Xt(t,e){return t.transaction([Kt],e?"readwrite":"readonly").objectStore(Kt)}function Jt(){const t=indexedDB.open(Wt,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(Kt,{keyPath:Gt})}catch(r){n(r)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(Kt)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(Wt);return new Yt(t).toPromise()}(),e(await Jt()))}))}))}async function Qt(t,e,n){const r=Xt(t,!0).put({[Gt]:e,value:n});return new Yt(r).toPromise()}function Zt(t,e){const n=Xt(t,!0).delete(e);return new Yt(n).toPromise()}class te{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Jt()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(n){if(e++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bt._getInstance(qt()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new $t(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jt();return await Qt(t,Dt,"1"),await Zt(t,Dt),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>Qt(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=Xt(t,!1).get(e),r=await new Yt(n).toPromise();return void 0===r?null:r.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>Zt(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Xt(t,!1).getAll();return new Yt(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}te.type="LOCAL";const ee=te;function ne(t){return new Promise(((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=p("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}))}function re(t){return`__${t}${Math.floor(1e6*Math.random())}`}re("rcb"),new A(3e4,6e4);const ie="recaptcha";async function oe(t,e,n){var r;const i=await n.verify();try{let o;if(y("string"===typeof i,t,"argument-error"),y(n.type===ie,t,"argument-error"),o="string"===typeof e?{phoneNumber:e}:e,"session"in o){const e=o.session;if("phoneNumber"in o){y("enroll"===e.type,t,"internal-error");return(await function(t,e){return O(t,"POST","/v2/accounts/mfaEnrollment:start",R(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo}{y("signin"===e.type,t,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;y(n,t,"missing-multi-factor-info");return(await function(t,e){return O(t,"POST","/v2/accounts/mfaSignIn:start",R(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return O(t,"POST","/v1/accounts:sendVerificationCode",R(t,e))}(t,{phoneNumber:o.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}}class se{constructor(t){this.providerId=se.PROVIDER_ID,this.auth=lt(t)}verifyPhoneNumber(t,e){return oe(this.auth,t,(0,r.m9)(e))}static credential(t,e){return yt._fromVerification(t,e)}static credentialFromResult(t){const e=t;return se.credentialFromTaggedObject(e)}static credentialFromError(t){return se.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?yt._fromTokenResponse(e,n):null}}function ae(t,e){return e?T(e):(y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}se.PROVIDER_ID="phone",se.PHONE_SIGN_IN_METHOD="phone";class ue extends ft{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return mt(t,this._buildIdpRequest())}_linkToIdToken(t,e){return mt(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return mt(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function ce(t){return Nt(t.auth,new ue(t),t.bypassAuthState)}function le(t){const{auth:e,user:n}=t;return y(n,e,"internal-error"),Ot(n,new ue(t),t.bypassAuthState)}async function he(t){const{auth:e,user:n}=t;return y(n,e,"internal-error"),Rt(n,new ue(t),t.bypassAuthState)}class fe{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=t;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ce;case"linkViaPopup":case"linkViaRedirect":return he;case"reauthViaPopup":case"reauthViaRedirect":return le;default:d(this.auth,"internal-error")}}resolve(t){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const de=new A(2e3,1e4);async function pe(t,e,n){const r=lt(t);g(t,e,Et);const i=ae(r,n);return new me(r,"signInViaPopup",e,i).executeNotNull()}class me extends fe{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,me.currentPopupAction&&me.currentPopupAction.cancel(),me.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return y(t,this.auth,"internal-error"),t}async onExecution(){w(1===this.filter.length,"Popup operations only handle one event");const t=zt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(p(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,me.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(t,de.get())};t()}}me.currentPopupAction=null;const ge=new Map;class ve extends fe{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=ge.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=be(e),r=ye(t);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}ge.set(this.auth._key(),t)}return this.bypassAuthState||ge.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ye(t){return T(t._redirectPersistence)}function be(t){return X("pendingRedirect",t.config.apiKey,t.name)}async function we(t,e,n=!1){const r=lt(t),i=ae(r,e),o=new ve(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}class Ee{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Se(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Se(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(p(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Te(t))}saveEventToCache(t){this.cachedEventUids.add(Te(t)),this.lastProcessedEventTime=Date.now()}}function Te(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function Se({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null===e||void 0===e?void 0:e.code)}const _e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xe=/^https?/;async function Ae(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t,e={}){return O(t,"GET","/v1/projects",e)}(t);for(const r of e)try{if(Ie(r))return}catch(n){}d(t,"unauthorized-domain")}function Ie(t){const e=S(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!xe.test(n))return!1;if(_e.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ce=new A(3e4,6e4);function ke(){const t=Ht().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Pe=null;function Re(t){return Pe=Pe||function(t){return new Promise(((e,n)=>{var r,i,o;function s(){ke(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ke(),n(p(t,"network-request-failed"))},timeout:Ce.get()})}if(null===(i=null===(r=Ht().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(o=Ht().gapi)||void 0===o?void 0:o.load)){const e=re("iframefcb");return Ht()[e]=()=>{gapi.load?s():n(p(t,"network-request-failed"))},ne(`https://apis.google.com/js/api.js?onload=${e}`)}s()}})).catch((t=>{throw Pe=null,t}))}(t),Pe}const Oe=new A(5e3,15e3),Ne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Le=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function De(t){const e=t.config;y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?I(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,o={apiKey:e.apiKey,appName:t.name,v:i.Jn},s=Le.get(t.config.apiHost);s&&(o.eid=s);const a=t._getFrameworks();return a.length&&(o.fw=a.join(",")),`${n}?${(0,r.xO)(o).slice(1)}`}const Me={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ue{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function Ve(t,e,n,i=500,o=600){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const c=Object.assign(Object.assign({},Me),{width:i.toString(),height:o.toString(),top:s,left:a}),l=(0,r.z$)().toLowerCase();n&&(u=et(l)?"_blank":n),Z(l)&&(e=e||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce(((t,[e,n])=>`${t}${e}=${n},`),"");if(function(t=(0,r.z$)()){var e;return st(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",u),new Ue(null);const f=window.open(e||"",u,h);y(f,t,"popup-blocked");try{f.focus()}catch(d){}return new Ue(f)}const Fe="__/auth/handler",je="emulator/auth/handler";function Be(t,e,n,o,s,a){y(t.config.authDomain,t,"auth-domain-config-required"),y(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:o,v:i.Jn,eventId:s};if(e instanceof Et){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",(0,r.xb)(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))u[t]=e}if(e instanceof Tt){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(u.scopes=t.join(","))}t.tenantId&&(u.tid=t.tenantId);const c=u;for(const r of Object.keys(c))void 0===c[r]&&delete c[r];return`${function({config:t}){if(!t.emulator)return`https://${t.authDomain}/${Fe}`;return I(t,je)}(t)}?${(0,r.xO)(c).slice(1)}`}const ze="webStorageSupport";const $e=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jt,this._completeRedirectFn=we}async _openPopup(t,e,n,r){var i;w(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ve(t,Be(t,e,n,S(),r),zt())}async _openRedirect(t,e,n,r){var i;return await this._originValidation(t),i=Be(t,e,n,S(),r),Ht().location.href=i,new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n}async initAndGetManager(t){const e=await async function(t){const e=await Re(t),n=Ht().gapi;return y(n,t,"internal-error"),e.open({where:document.body,url:De(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ne,dontclear:!0},(e=>new Promise((async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=p(t,"network-request-failed"),o=Ht().setTimeout((()=>{r(i)}),Oe.get());function s(){Ht().clearTimeout(o),n(e)}e.ping(s).then(s,(()=>{r(i)}))}))))}(t),n=new Ee(t);return e.register("authEvent",(e=>{y(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ze,{type:ze},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&e(!!i),d(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Ae(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return at()||tt()||st()}};var He,qe="@firebase/auth",We="0.19.3";class Ke{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{var n;t((null===(n=e)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ge(t=(0,i.Mq)()){const e=(0,i.qX)(t,"auth");return e.isInitialized()?e.getImmediate():function(t,e){const n=(0,i.qX)(t,"auth");if(n.isInitialized()){const t=n.getImmediate(),i=n.getOptions();if((0,r.vZ)(i,null!==e&&void 0!==e?e:{}))return t;d(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:$e,persistence:[ee,Vt,jt]})}He="Browser",(0,i.Xd)(new a.wA("auth",((t,{options:e})=>{const n=t.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(t=>{y(r&&!r.includes(":"),"invalid-api-key",{appName:t.name}),y(!(null===i||void 0===i?void 0:i.includes(":")),"argument-error",{appName:t.name});const n={apiKey:r,authDomain:i,clientPlatform:He,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ut(He)},o=new ct(t,n);return function(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(T);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null===e||void 0===e?void 0:e.popupRedirectResolver)}(o,e),o})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),(0,i.Xd)(new a.wA("auth-internal",(t=>(t=>new Ke(t))(lt(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.KN)(qe,We,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(He)),(0,i.KN)(qe,We,"esm2017")},5321:function(t,e,n){"use strict";n.d(e,{JU:function(){return Gc},QT:function(){return Vl},ad:function(){return Qc},cf:function(){return jl},qs:function(){return $l}});var r,i=n(2238),o=n(8463),s=n(3333),a=n(4444),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},c={},l=l||{},h=u||self;function f(){}function d(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function E(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function T(){this.s=this.s,this.o=this.o}var S={};T.prototype.s=!1,T.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++g)}(this);delete S[t]}},T.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},x=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"===typeof t?t.split(""):t;for(let o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function A(t){return Array.prototype.concat.apply([],arguments)}function I(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function C(t){return/^[\s\xa0]*$/.test(t)}var k,P=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function R(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var N=h.navigator;if(N){var L=N.userAgent;if(L){k=L;break t}}k=""}function D(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function M(t){const e={};for(const n in t)e[n]=t[n];return e}var U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<U.length;e++)n=U[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function F(t){return F[" "](t),t}F[" "]=f;var j,B=R(k,"Opera"),z=R(k,"Trident")||R(k,"MSIE"),$=R(k,"Edge"),H=$||z,q=R(k,"Gecko")&&!(R(k.toLowerCase(),"webkit")&&!R(k,"Edge"))&&!(R(k,"Trident")||R(k,"MSIE"))&&!R(k,"Edge"),W=R(k.toLowerCase(),"webkit")&&!R(k,"Edge");function K(){var t=h.document;return t?t.documentMode:void 0}t:{var G="",Y=function(){var t=k;return q?/rv:([^\);]+)(\)|;)/.exec(t):$?/Edge\/([\d\.]+)/.exec(t):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):W?/WebKit\/(\S+)/.exec(t):B?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Y&&(G=Y?Y[1]:""),z){var X=K();if(null!=X&&X>parseFloat(G)){j=String(X);break t}}j=G}var J,Q={};function Z(){return function(t){var e=Q;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){let t=0;const e=P(String(j)).split("."),n=P("9").split("."),r=Math.max(e.length,n.length);for(let s=0;0==t&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;t=O(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||O(0==i[2].length,0==o[2].length)||O(i[2],o[2]),i=i[3],o=o[3]}while(0==t)}return 0<=t}))}if(h.document&&z){var tt=K();J=tt||(parseInt(j,10)||void 0)}else J=void 0;var et=J,nt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{h.addEventListener("test",f,e),h.removeEventListener("test",f,e)}catch(n){}return t}();function rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function it(t,e){if(rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(q){t:{try{F(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ot[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&it.Z.h.call(this)}}rt.prototype.h=function(){this.defaultPrevented=!0},E(it,rt);var ot={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),at=0;function ut(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++at,this.ca=this.fa=!1}function ct(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function lt(t){this.src=t,this.g={},this.h=0}function ht(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=_(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ct(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ft(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}lt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=ft(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new ut(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var dt="closure_lm_"+(1e6*Math.random()|0),pt={};function mt(t,e,n,r,i){if(r&&r.once)return vt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)mt(t,e[o],n,r,i);return null}return n=_t(n),t&&t[st]?t.N(e,n,p(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=Tt(t);if(a||(t[dt]=a=new lt(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}var e=Et;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nt||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=_t(n),t&&t[st]?t.O(e,n,p(r)?!!r.capture:!!r,i):gt(t,e,n,!0,r,i)}function yt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=_t(n),t&&t[st]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=ft(o=t.g[e],n,r,i))&&(ct(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=Tt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ft(e,n,r,i)),(n=-1<t?e[t]:null)&&bt(n))}function bt(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[st])ht(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tt(e))?(ht(n,t),0==n.h&&(n.src=null,e[dt]=null)):ct(t)}}}function wt(t){return t in pt?pt[t]:pt[t]="on"+t}function Et(t,e){if(t.ca)t=!0;else{e=new it(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&bt(t),t=n.call(r,e)}return t}function Tt(t){return(t=t[dt])instanceof lt?t:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function _t(t){return"function"===typeof t?t:(t[St]||(t[St]=function(e){return t.handleEvent(e)}),t[St])}function xt(){T.call(this),this.i=new lt(this),this.P=this,this.I=null}function At(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"===typeof e)e=new rt(e,t);else if(e instanceof rt)e.target=e.target||t;else{var i=e;V(e=new rt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=It(s,r,!0,e)&&i}if(i=It(s=e.g=t,r,!0,e)&&i,i=It(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=It(s=e.g=n[o],r,!1,e)&&i}function It(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&ht(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}E(xt,T),xt.prototype[st]=!0,xt.prototype.removeEventListener=function(t,e,n,r){yt(this,t,e,n,r)},xt.prototype.M=function(){if(xt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ct(n[r]);delete e.g[t],e.h--}}this.I=null},xt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},xt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ct=h.JSON.stringify;function kt(){var t=Mt;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Pt,Rt=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Ot),(t=>t.reset()));class Ot{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Nt(t){h.setTimeout((()=>{throw t}),0)}function Lt(t,e){Pt||function(){var t=h.Promise.resolve(void 0);Pt=function(){t.then(Ut)}}(),Dt||(Pt(),Dt=!0),Mt.add(t,e)}var Dt=!1,Mt=new class{constructor(){this.h=this.g=null}add(t,e){const n=Rt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function Ut(){for(var t;t=kt();){try{t.h.call(t.g)}catch(n){Nt(n)}var e=Rt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Dt=!1}function Vt(t,e){xt.call(this),this.h=t||1,this.g=e||h,this.j=b(this.kb,this),this.l=Date.now()}function Ft(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function jt(t,e,n){if("function"===typeof t)n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:h.setTimeout(t,e||0)}function Bt(t){t.g=jt((()=>{t.g=null,t.i&&(t.i=!1,Bt(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}E(Vt,xt),(r=Vt.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),At(this,"tick"),this.da&&(Ft(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Vt.Z.M.call(this),Ft(this),delete this.g};class zt extends T{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Bt(this)}M(){super.M(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $t(t){T.call(this),this.h=t,this.g={}}E($t,T);var Ht=[];function qt(t,e,n,r){Array.isArray(n)||(n&&(Ht[0]=n.toString()),n=Ht);for(var i=0;i<n.length;i++){var o=mt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Wt(t){D(t.g,(function(t,e){this.g.hasOwnProperty(e)&&bt(t)}),t),t.g={}}function Kt(){this.g=!0}function Gt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ct(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}$t.prototype.M=function(){$t.Z.M.call(this),Wt(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kt.prototype.Aa=function(){this.g=!1},Kt.prototype.info=function(){};var Yt={},Xt=null;function Jt(){return Xt=Xt||new xt}function Qt(t){rt.call(this,Yt.Ma,t)}function Zt(t){const e=Jt();At(e,new Qt(e,t))}function te(t,e){rt.call(this,Yt.STAT_EVENT,t),this.stat=e}function ee(t){const e=Jt();At(e,new te(e,t))}function ne(t,e){rt.call(this,Yt.Na,t),this.size=e}function re(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){t()}),e)}Yt.Ma="serverreachability",E(Qt,rt),Yt.STAT_EVENT="statevent",E(te,rt),Yt.Na="timingevent",E(ne,rt);var ie={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},oe={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function se(){}function ae(t){return t.h||(t.h=t.i())}function ue(){}se.prototype.h=null;var ce,le={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function he(){rt.call(this,"d")}function fe(){rt.call(this,"c")}function de(){}function pe(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new $t(this),this.P=ge,t=H?125:void 0,this.W=new Vt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}E(he,rt),E(fe,rt),E(de,se),de.prototype.g=function(){return new XMLHttpRequest},de.prototype.i=function(){return{}},ce=new de;var ge=45e3,ve={},ye={};function be(t,e,n){t.K=1,t.v=ze(Me(e)),t.s=n,t.U=!0,we(t,null)}function we(t,e){t.F=Date.now(),_e(t),t.A=Me(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),en(n.h,"t",r),t.C=0,n=t.l.H,t.h=new me,t.g=rr(t.l,n?e:null,!t.s),0<t.O&&(t.L=new zt(b(t.Ia,t,t.g),t.O)),qt(t.V,t.g,"readystatechange",t.gb),e=t.H?M(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Zt(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Ee(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function Te(t,e,n){let r,i=!0;for(;!t.I&&t.C<n.length;){if(r=Se(t,n),r==ye){4==e&&(t.o=4,ee(14),i=!1),Gt(t.j,t.m,null,"[Incomplete Response]");break}if(r==ve){t.o=4,ee(15),Gt(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Gt(t.j,t.m,r,null),ke(t,r)}Ee(t)&&r!=ye&&r!=ve&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ee(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yn(e),e.L=!0,ee(11))):(Gt(t.j,t.m,n,"[Invalid Chunked Response]"),Ce(t),Ie(t))}function Se(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ye:(n=Number(e.substring(n,r)),isNaN(n)?ve:(r+=1)+n>e.length?ye:(e=e.substr(r,n),t.C=r+n,e))}function _e(t){t.Y=Date.now()+t.P,xe(t,t.P)}function xe(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=re(b(t.eb,t),e)}function Ae(t){t.B&&(h.clearTimeout(t.B),t.B=null)}function Ie(t){0==t.l.G||t.I||Qn(t.l,t)}function Ce(t){Ae(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Ft(t.W),Wt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ke(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||cn(n.i,t)))if(n.I=t.N,!t.J&&cn(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Jn(n),jn(n)}Gn(n),ee(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=re(b(n.ab,n),6e3));if(1>=un(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else tr(n,11)}else if((t.J||n.g==t)&&Jn(n),!C(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const e=c[3];null!=e&&(n.ma=e,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=c[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var o=r.i;!o.g&&(R(t,"spdy")||R(t,"quic")||R(t,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(ln(o,o.h),o.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.sa=t,Be(r.F,r.D,t))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var s=t;if((r=n).oa=nr(r,r.H?r.la:null,r.W),s.J){hn(r.i,s);var a=s,u=r.K;u&&a.setTimeout(u),a.B&&(Ae(a),_e(a)),r.g=s}else Kn(r);0<n.l.length&&$n(n)}else"stop"!=c[0]&&"close"!=c[0]||tr(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?tr(n,7):Fn(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Zt(4)}catch(c){}}function Pe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"===typeof t)x(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(d(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Re(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Re)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Oe(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ne(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ne(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ne(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=pe.prototype).setTimeout=function(t){this.P=t},r.gb=function(t){t=t.target;const e=this.L;e&&3==Ln(t)?e.l():this.Ia(t)},r.Ia=function(t){try{if(t==this.g)t:{const l=Ln(this.g);var e=this.g.Da();const f=this.g.ba();if(!(3>l)&&(3!=l||H||this.g&&(this.h.h||this.g.ga()||Dn(this.g)))){this.I||4!=l||7==e||Zt(8==e||0>=f?3:2),Ae(this);var n=this.g.ba();this.N=n;e:if(Ee(this)){var r=Dn(this.g);t="";var i=r.length,o=4==Ln(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ce(this),Ie(this);var s="";break e}this.h.i=new h.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){e:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(a)){var c=a;break e}}c=null}if(!(n=c)){this.i=!1,this.o=3,ee(12),Ce(this),Ie(this);break t}Gt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ke(this,n)}this.U?(Te(this,l,s),H&&this.i&&3==l&&(qt(this.V,this.W,"tick",this.fb),this.W.start())):(Gt(this.j,this.m,s,null),ke(this,s)),4==l&&Ce(this),this.i&&!this.I&&(4==l?Qn(this.l,this):(this.i=!1,_e(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,ee(12)):(this.o=0,ee(13)),Ce(this),Ie(this)}}}catch(l){}},r.fb=function(){if(this.g){var t=Ln(this.g),e=this.g.ga();this.C<e.length&&(Ae(this),Te(this,t,e),this.i&&4!=t&&_e(this))}},r.cancel=function(){this.I=!0,Ce(this)},r.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Zt(3),ee(17)),Ce(this),this.o=2,Ie(this)):xe(this,this.Y-t)},(r=Re.prototype).R=function(){Oe(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},r.T=function(){return Oe(this),this.g.concat()},r.get=function(t,e){return Ne(this.h,t)?this.h[t]:e},r.set=function(t,e){Ne(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},r.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Le=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function De(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof De){this.g=void 0!==e?e:t.g,Ue(this,t.j),this.s=t.s,Ve(this,t.i),Fe(this,t.m),this.l=t.l,e=t.h;var n=new Je;n.i=e.i,e.g&&(n.g=new Re(e.g),n.h=e.h),je(this,n),this.o=t.o}else t&&(n=String(t).match(Le))?(this.g=!!e,Ue(this,n[1]||"",!0),this.s=$e(n[2]||""),Ve(this,n[3]||"",!0),Fe(this,n[4]),this.l=$e(n[5]||"",!0),je(this,n[6]||"",!0),this.o=$e(n[7]||"")):(this.g=!!e,this.h=new Je(null,this.g))}function Me(t){return new De(t)}function Ue(t,e,n){t.j=n?$e(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ve(t,e,n){t.i=n?$e(e,!0):e}function Fe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function je(t,e,n){e instanceof Je?(t.h=e,function(t,e){e&&!t.j&&(Qe(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ze(this,e),en(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=He(e,Ye)),t.h=new Je(e,t.g))}function Be(t,e,n){t.h.set(e,n)}function ze(t){return Be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function $e(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function He(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,qe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}De.prototype.toString=function(){var t=[],e=this.j;e&&t.push(He(e,We,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(He(e,We,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(He(n,"/"==n.charAt(0)?Ge:Ke,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",He(n,Xe)),t.join("")};var We=/[#\/\?@]/g,Ke=/[#\?:]/g,Ge=/[#\?]/g,Ye=/[#\?@]/g,Xe=/#/g;function Je(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qe(t){t.g||(t.g=new Re,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ze(t,e){Qe(t),e=nn(t,e),Ne(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ne((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Oe(t)))}function tn(t,e){return Qe(t),e=nn(t,e),Ne(t.g.h,e)}function en(t,e,n){Ze(t,e),0<n.length&&(t.i=null,t.g.set(nn(t,e),I(n)),t.h+=n.length)}function nn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(r=Je.prototype).add=function(t,e){Qe(this),this.i=null,t=nn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},r.forEach=function(t,e){Qe(this),this.g.forEach((function(n,r){x(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.T=function(){Qe(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.R=function(t){Qe(this);var e=[];if("string"===typeof t)tn(this,t)&&(e=A(e,this.g.get(nn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=A(e,t[n])}return e},r.set=function(t,e){return Qe(this),this.i=null,tn(this,t=nn(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},r.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};function rn(t){this.l=t||sn,h.PerformanceNavigationTiming?t=0<(t=h.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(h.g&&h.g.Ea&&h.g.Ea()&&h.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var on,sn=10;function an(t){return!!t.h||!!t.g&&t.g.size>=t.j}function un(t){return t.h?1:t.g?t.g.size:0}function cn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ln(t,e){t.g?t.g.add(e):t.h=e}function hn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function fn(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return I(t.i)}function dn(){}function pn(){this.g=new dn}function mn(t,e,n){const r=n||"";try{Pe(t,(function(t,n){let i=t;p(t)&&(i=Ct(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function gn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function vn(t){this.l=t.$b||null,this.j=t.ib||!1}function yn(t,e){xt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=bn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rn.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},dn.prototype.stringify=function(t){return h.JSON.stringify(t,void 0)},dn.prototype.parse=function(t){return h.JSON.parse(t,void 0)},E(vn,se),vn.prototype.g=function(){return new yn(this.l,this.j)},vn.prototype.i=(on={},function(){return on}),E(yn,xt);var bn=0;function wn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function En(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tn(t)}function Tn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(r=yn.prototype).open=function(t,e){if(this.readyState!=bn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tn(this)},r.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||h).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,En(this)),this.readyState=bn},r.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?En(this):Tn(this),3==this.readyState&&wn(this)}},r.Ua=function(t){this.g&&(this.response=this.responseText=t,En(this))},r.Ta=function(t){this.g&&(this.response=t,En(this))},r.ha=function(){this.g&&En(this)},r.setRequestHeader=function(t,e){this.v.append(t,e)},r.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Sn=h.JSON.parse;function _n(t){xt.call(this),this.headers=new Re,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xn,this.K=this.L=!1}E(_n,xt);var xn="",An=/^https?$/i,In=["POST","PUT"];function Cn(t){return"content-type"==t.toLowerCase()}function kn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Pn(t),On(t)}function Pn(t){t.D||(t.D=!0,At(t,"complete"),At(t,"error"))}function Rn(t){if(t.h&&"undefined"!=typeof l&&(!t.C[1]||4!=Ln(t)||2!=t.ba()))if(t.v&&4==Ln(t))jt(t.Fa,0,t);else if(At(t,"readystatechange"),4==Ln(t)){t.h=!1;try{const u=t.ba();t:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===u){var i=String(t.H).match(Le)[1]||null;if(!i&&h.self&&h.self.location){var o=h.self.location.protocol;i=o.substr(0,o.length-1)}r=!An.test(i?i.toLowerCase():"")}n=r}if(n)At(t,"complete"),At(t,"success");else{t.m=6;try{var s=2<Ln(t)?t.g.statusText:""}catch(a){s=""}t.j=s+" ["+t.ba()+"]",Pn(t)}}finally{On(t)}}}function On(t,e){if(t.g){Nn(t);const r=t.g,i=t.C[0]?f:null;t.g=null,t.C=null,e||At(t,"ready");try{r.onreadystatechange=i}catch(n){}}}function Nn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(h.clearTimeout(t.A),t.A=null)}function Ln(t){return t.g?t.g.readyState:0}function Dn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case xn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){let e="";return D(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Be(t,e,n))}function Un(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Vn(t){this.za=0,this.l=[],this.h=new Kt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Un("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Un("baseRetryDelayMs",5e3,t),this.$a=Un("retryDelaySeedMs",1e4,t),this.Ya=Un("forwardChannelMaxRetries",2,t),this.ra=Un("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new rn(t&&t.concurrentRequestLimit),this.Ca=new pn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Fn(t){if(Bn(t),3==t.G){var e=t.V++,n=Me(t.F);Be(n,"SID",t.J),Be(n,"RID",e),Be(n,"TYPE","terminate"),qn(t,n),(e=new pe(t,t.h,e,void 0)).K=2,e.v=ze(Me(n)),n=!1,h.navigator&&h.navigator.sendBeacon&&(n=h.navigator.sendBeacon(e.v.toString(),"")),!n&&h.Image&&((new Image).src=e.v,n=!0),n||(e.g=rr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),_e(e)}er(t)}function jn(t){t.g&&(Yn(t),t.g.cancel(),t.g=null)}function Bn(t){jn(t),t.u&&(h.clearTimeout(t.u),t.u=null),Jn(t),t.i.cancel(),t.m&&("number"===typeof t.m&&h.clearTimeout(t.m),t.m=null)}function zn(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&$n(t)}function $n(t){an(t.i)||t.m||(t.m=!0,Lt(t.Ha,t),t.C=0)}function Hn(t,e){var n;n=e?e.m:t.V++;const r=Me(t.F);Be(r,"SID",t.J),Be(r,"RID",n),Be(r,"AID",t.U),qn(t,r),t.o&&t.s&&Mn(r,t.o,t.s),n=new pe(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Wn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),ln(t.i,n),be(n,r,e)}function qn(t,e){t.j&&Pe({},(function(t,n){Be(e,n,t)}))}function Wn(t,e,n){n=Math.min(t.l.length,n);var r=t.j?b(t.j.Oa,t.j,t):null;t:{var i=t.l;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let s=0;s<n;s++){let n=i[s].h;const a=i[s].g;if(n-=e,0>n)e=Math.max(0,i[s].h-100),o=!1;else try{mn(a,t,"req"+n+"_")}catch(Dr){r&&r(a)}}if(o){r=t.join("&");break t}}}return t=t.l.splice(0,n),e.D=t,r}function Kn(t){t.g||t.u||(t.Y=1,Lt(t.Ga,t),t.A=0)}function Gn(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=re(b(t.Ga,t),Zn(t,t.A)),t.A++,!0)}function Yn(t){null!=t.B&&(h.clearTimeout(t.B),t.B=null)}function Xn(t){t.g=new pe(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Me(t.oa);Be(e,"RID","rpc"),Be(e,"SID",t.J),Be(e,"CI",t.N?"0":"1"),Be(e,"AID",t.U),qn(t,e),Be(e,"TYPE","xmlhttp"),t.o&&t.s&&Mn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ze(Me(e)),n.s=null,n.U=!0,we(n,t)}function Jn(t){null!=t.v&&(h.clearTimeout(t.v),t.v=null)}function Qn(t,e){var n=null;if(t.g==e){Jn(t),Yn(t),t.g=null;var r=2}else{if(!cn(t.i,e))return;n=e.D,hn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;At(r=Jt(),new ne(r,n,e,i)),$n(t)}else Kn(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(un(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=re(b(t.Ha,t,e),Zn(t,t.C)),t.C++,!0))}(t,e)||2==r&&Gn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:tr(t,5);break;case 4:tr(t,10);break;case 3:tr(t,6);break;default:tr(t,2)}}function Zn(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function tr(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=b(t.jb,t);n||(n=new De("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Ue(n,"https"),ze(n)),function(t,e){const n=new Kt;if(h.Image){const r=new Image;r.onload=w(gn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=w(gn,n,r,"TestLoadImage: error",!1,e),r.onabort=w(gn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=w(gn,n,r,"TestLoadImage: timeout",!1,e),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ee(2);t.G=0,t.j&&t.j.va(e),er(t),Bn(t)}function er(t){t.G=0,t.I=-1,t.j&&(0==fn(t.i).length&&0==t.l.length||(t.i.i.length=0,I(t.l),t.l.length=0),t.j.ua())}function nr(t,e,n){let r=function(t){return t instanceof De?Me(t):new De(t,void 0)}(n);if(""!=r.i)e&&Ve(r,e+"."+r.i),Fe(r,r.m);else{const t=h.location;r=function(t,e,n,r){var i=new De(null,void 0);return t&&Ue(i,t),e&&Ve(i,e),n&&Fe(i,n),r&&(i.l=r),i}(t.protocol,e?e+"."+t.hostname:t.hostname,+t.port,n)}return t.aa&&D(t.aa,(function(t,e){Be(r,e,t)})),e=t.D,n=t.sa,e&&n&&Be(r,e,n),Be(r,"VER",t.ma),qn(t,r),r}function rr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new _n(new vn({ib:!0})):new _n(t.qa)).L=t.H,e}function ir(){}function or(){if(z&&!(10<=Number(et)))throw Error("Environmental error: no available transport.")}function sr(t,e){xt.call(this),this.g=new Vn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!C(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!C(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new cr(this)}function ar(t){he.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ur(){fe.call(this),this.status=1}function cr(t){this.g=t}(r=_n.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ce.g(),this.C=this.u?ae(this.u):ae(ce),this.g.onreadystatechange=b(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void kn(this,o)}t=n||"";const i=new Re(this.headers);r&&Pe(r,(function(t,e){i.set(e,t)})),r=function(t){t:{var e=Cn;const n=t.length,r="string"===typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.T()),n=h.FormData&&t instanceof h.FormData,!(0<=_(In,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Nn(this),0<this.B&&((this.K=function(t){return z&&Z()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=b(this.pa,this)):this.A=jt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){kn(this,o)}},r.pa=function(){"undefined"!=typeof l&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,At(this,"timeout"),this.abort(8))},r.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,At(this,"complete"),At(this,"abort"),On(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),On(this,!0)),_n.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?Rn(this):this.cb())},r.cb=function(){Rn(this)},r.ba=function(){try{return 2<Ln(this)?this.g.status:-1}catch(on){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(on){return""}},r.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Sn(e)}},r.Da=function(){return this.m},r.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=Vn.prototype).ma=8,r.G=1,r.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},r.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new pe(this,this.h,t,void 0);let o=this.s;if(this.P&&(o?(o=M(o),V(o,this.P)):o=this.P),null===this.o&&(i.H=o),this.ja)t:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"===typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.l.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Wn(this,i,e),Be(n=Me(this.F),"RID",t),Be(n,"CVER",22),this.D&&Be(n,"X-HTTP-Session-Id",this.D),qn(this,n),this.o&&o&&Mn(n,this.o,o),ln(this.i,i),this.Ra&&Be(n,"TYPE","init"),this.ja?(Be(n,"$req",e),Be(n,"SID","null"),i.$=!0,be(i,n,null)):be(i,n,e),this.G=2}}else 3==this.G&&(t?Hn(this,t):0==this.l.length||an(this.i)||Hn(this))},r.Ga=function(){if(this.u=null,Xn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=re(b(this.bb,this),t)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ee(10),jn(this),Xn(this))},r.ab=function(){null!=this.v&&(this.v=null,jn(this),Gn(this),ee(19))},r.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ee(2)):(this.h.info("Failed to ping google.com"),ee(1))},(r=ir.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},or.prototype.g=function(t,e){return new sr(t,e)},E(sr,xt),sr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Lt(b(t.hb,t,e))),ee(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=nr(t,null,t.W),$n(t)},sr.prototype.close=function(){Fn(this.g)},sr.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,zn(this.g,e)}else this.v?((e={}).__data__=Ct(t),zn(this.g,e)):zn(this.g,t)},sr.prototype.M=function(){this.g.j=null,delete this.j,Fn(this.g),delete this.g,sr.Z.M.call(this)},E(ar,he),E(ur,fe),E(cr,ir),cr.prototype.xa=function(){At(this.g,"a")},cr.prototype.wa=function(t){At(this.g,new ar(t))},cr.prototype.va=function(t){At(this.g,new ur(t))},cr.prototype.ua=function(){At(this.g,"b")},or.prototype.createWebChannel=or.prototype.g,sr.prototype.send=sr.prototype.u,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,oe.COMPLETE="complete",ue.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",xt.prototype.listen=xt.prototype.N,_n.prototype.listenOnce=_n.prototype.O,_n.prototype.getLastError=_n.prototype.La,_n.prototype.getLastErrorCode=_n.prototype.Da,_n.prototype.getStatus=_n.prototype.ba,_n.prototype.getResponseJson=_n.prototype.Qa,_n.prototype.getResponseText=_n.prototype.ga,_n.prototype.send=_n.prototype.ea;var lr=c.createWebChannelTransport=function(){return new or},hr=c.getStatEventTarget=function(){return Jt()},fr=c.ErrorCode=ie,dr=c.EventType=oe,pr=c.Event=Yt,mr=c.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gr=c.FetchXmlHttpFactory=vn,vr=c.WebChannel=ue,yr=c.XhrIo=_n;n(4155);const br="@firebase/firestore";class wr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");let Er="9.6.0";const Tr=new s.Yd("@firebase/firestore");function Sr(){return Tr.logLevel}function _r(t,...e){if(Tr.logLevel<=s.in.DEBUG){const n=e.map(Ir);Tr.debug(`Firestore (${Er}): ${t}`,...n)}}function xr(t,...e){if(Tr.logLevel<=s.in.ERROR){const n=e.map(Ir);Tr.error(`Firestore (${Er}): ${t}`,...n)}}function Ar(t,...e){if(Tr.logLevel<=s.in.WARN){const n=e.map(Ir);Tr.warn(`Firestore (${Er}): ${t}`,...n)}}function Ir(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Cr(t="Unexpected state"){const e=`FIRESTORE (${Er}) INTERNAL ASSERTION FAILED: `+t;throw xr(e),new Error(e)}function kr(t,e){t||Cr()}function Pr(t,e){return t}const Rr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Or extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Lr{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Dr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(wr.UNAUTHENTICATED)))}shutdown(){}}class Mr{constructor(t){this.t=t,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Nr,t.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},s=t=>{_r("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((t=>s(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?s(t):(_r("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Nr)}}),0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(_r("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(kr("string"==typeof e.accessToken),new Lr(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return kr(null===t||"string"==typeof t),new wr(t)}}class Ur{constructor(t,e,n){this.type="FirstParty",this.user=wr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Vr{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new Ur(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable((()=>e(wr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fr{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jr{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=n=>{t.enqueueRetryable((()=>(t=>(null!=t.error&&_r("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`),e(t.token)))(n)))};const n=t=>{_r("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.g.onInit((t=>n(t))),setTimeout((()=>{if(!this.appCheck){const t=this.g.getImmediate({optional:!0});t?n(t):_r("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(kr("string"==typeof t.token),new Fr(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Br{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.p(t),this.T=t=>e.writeSequenceNumber(t))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function zr(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}Br.I=-1;class $r{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=zr(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length))}return n}}function Hr(t,e){return t<e?-1:t>e?1:0}function qr(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class Wr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Or(Rr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Or(Rr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Or(Rr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Or(Rr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Wr.fromMillis(Date.now())}static fromDate(t){return Wr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Wr(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Hr(this.nanoseconds,t.nanoseconds):Hr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Kr(t)}static min(){return new Kr(new Wr(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Gr(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xr(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Jr{constructor(t,e,n){void 0===e?e=0:e>t.length&&Cr(),void 0===n?n=t.length-e:n>t.length-e&&Cr(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Jr.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Jr?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Qr extends Jr{construct(t,e,n){return new Qr(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Or(Rr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new Qr(e)}static emptyPath(){return new Qr([])}}const Zr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends Jr{construct(t,e,n){return new ti(t,e,n)}static isValidIdentifier(t){return Zr.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ti(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Or(Rr.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let o=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new Or(Rr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Or(Rr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(o=!o,r++):"."!==e||o?(n+=e,r++):(i(),r++)}if(i(),o)throw new Or(Rr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ti(e)}static emptyPath(){return new ti([])}}class ei{constructor(t){this.fields=t,t.sort(ti.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return qr(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class ni{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ni(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new ni(e)}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Hr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ni.EMPTY_BYTE_STRING=new ni("");const ri=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(t){if(kr(!!t),"string"==typeof t){let e=0;const n=ri.exec(t);if(kr(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:oi(t.seconds),nanos:oi(t.nanos)}}function oi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function si(t){return"string"==typeof t?ni.fromBase64String(t):ni.fromUint8Array(t)}function ai(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ui(t){const e=t.mapValue.fields.__previous_value__;return ai(e)?ui(e):e}function ci(t){const e=ii(t.mapValue.fields.__local_write_time__.timestampValue);return new Wr(e.seconds,e.nanos)}function li(t){return null==t}function hi(t){return 0===t&&1/t==-1/0}function fi(t){return"number"==typeof t&&Number.isInteger(t)&&!hi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}class di{constructor(t){this.path=t}static fromPath(t){return new di(Qr.fromString(t))}static fromName(t){return new di(Qr.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===Qr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Qr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new di(new Qr(t.slice()))}}function pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ai(t)?4:10:Cr()}function mi(t,e){const n=pi(t);if(n!==pi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ci(t).isEqual(ci(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=ii(t.timestampValue),r=ii(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return si(t.bytesValue).isEqual(si(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return oi(t.geoPointValue.latitude)===oi(e.geoPointValue.latitude)&&oi(t.geoPointValue.longitude)===oi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return oi(t.integerValue)===oi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=oi(t.doubleValue),r=oi(e.doubleValue);return n===r?hi(n)===hi(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return qr(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Gr(n)!==Gr(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!mi(n[i],r[i])))return!1;return!0}(t,e);default:return Cr()}}function gi(t,e){return void 0!==(t.values||[]).find((t=>mi(t,e)))}function vi(t,e){const n=pi(t),r=pi(e);if(n!==r)return Hr(n,r);switch(n){case 0:return 0;case 1:return Hr(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=oi(t.integerValue||t.doubleValue),r=oi(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return yi(t.timestampValue,e.timestampValue);case 4:return yi(ci(t),ci(e));case 5:return Hr(t.stringValue,e.stringValue);case 6:return function(t,e){const n=si(t),r=si(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=Hr(n[i],r[i]);if(0!==t)return t}return Hr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=Hr(oi(t.latitude),oi(e.latitude));return 0!==n?n:Hr(oi(t.longitude),oi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=vi(n[i],r[i]);if(t)return t}return Hr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){const n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const t=Hr(r[s],o[s]);if(0!==t)return t;const e=vi(n[r[s]],i[o[s]]);if(0!==e)return e}return Hr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Cr()}}function yi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Hr(t,e);const n=ii(t),r=ii(e),i=Hr(n.seconds,r.seconds);return 0!==i?i:Hr(n.nanos,r.nanos)}function bi(t){return wi(t)}function wi(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=ii(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?si(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,di.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=wi(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${wi(t.fields[i])}`;return n+"}"}(t.mapValue):Cr();var e,n}function Ei(t){return!!t&&"integerValue"in t}function Ti(t){return!!t&&"arrayValue"in t}function Si(t){return!!t&&"nullValue"in t}function _i(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xi(t){return!!t&&"mapValue"in t}function Ai(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yr(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Ai(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ai(t.arrayValue.values[n]);return e}return Object.assign({},t)}class Ii{constructor(t){this.value=t}static empty(){return new Ii({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!xi(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ai(e)}setAll(t){let e=ti.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=Ai(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());xi(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return mi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];xi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Yr(e,((e,n)=>t[e]=n));for(const r of n)delete t[r]}clone(){return new Ii(Ai(this.value))}}function Ci(t){const e=[];return Yr(t.fields,((t,n)=>{const r=new ti([t]);if(xi(n)){const t=Ci(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new ei(e)}class ki{constructor(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(t){return new ki(t,0,Kr.min(),Ii.empty(),0)}static newFoundDocument(t,e,n){return new ki(t,1,e,n,0)}static newNoDocument(t,e){return new ki(t,2,e,Ii.empty(),0)}static newUnknownDocument(t,e){return new ki(t,3,e,Ii.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ki&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new ki(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pi{constructor(t,e=null,n=[],r=[],i=null,o=null,s=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.R=null}}function Ri(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Pi(t,e,n,r,i,o,s)}function Oi(t){const e=Pr(t);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>function(t){return t.field.canonicalString()+t.op.toString()+bi(t.value)}(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),li(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=qi(e.startAt)),e.endAt&&(t+="|ub:",t+=qi(e.endAt)),e.R=t}return e.R}function Ni(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Ki(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!mi(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yi(t.startAt,e.startAt)&&Yi(t.endAt,e.endAt)}function Li(t){return di.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Di extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,n):new Mi(t,e,n):"array-contains"===e?new ji(t,n):"in"===e?new Bi(t,n):"not-in"===e?new zi(t,n):"array-contains-any"===e?new $i(t,n):new Di(t,e,n)}static P(t,e,n){return"in"===e?new Ui(t,n):new Vi(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(vi(e,this.value)):null!==e&&pi(this.value)===pi(e)&&this.v(vi(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Cr()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Mi extends Di{constructor(t,e,n){super(t,e,n),this.key=di.fromName(n.referenceValue)}matches(t){const e=di.comparator(t.key,this.key);return this.v(e)}}class Ui extends Di{constructor(t,e){super(t,"in",e),this.keys=Fi("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Vi extends Di{constructor(t,e){super(t,"not-in",e),this.keys=Fi("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Fi(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>di.fromName(t.referenceValue)))}class ji extends Di{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ti(e)&&gi(e.arrayValue,this.value)}}class Bi extends Di{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&gi(this.value.arrayValue,e)}}class zi extends Di{constructor(t,e){super(t,"not-in",e)}matches(t){if(gi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!gi(this.value.arrayValue,e)}}class $i extends Di{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ti(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>gi(this.value.arrayValue,t)))}}class Hi{constructor(t,e){this.position=t,this.before=e}}function qi(t){return`${t.before?"b":"a"}:${t.position.map((t=>bi(t))).join(",")}`}class Wi{constructor(t,e="asc"){this.field=t,this.dir=e}}function Ki(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Gi(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?di.comparator(di.fromName(s.referenceValue),n.key):vi(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Yi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}class Xi{constructor(t,e=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.S=null,this.D=null,this.startAt,this.endAt}}function Ji(t,e,n,r,i,o,s,a){return new Xi(t,e,n,r,i,o,s,a)}function Qi(t){return new Xi(t)}function Zi(t){return!li(t.limit)&&"F"===t.limitType}function to(t){return!li(t.limit)&&"L"===t.limitType}function eo(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function no(t){for(const e of t.filters)if(e.V())return e.field;return null}function ro(t){return null!==t.collectionGroup}function io(t){const e=Pr(t);if(null===e.S){e.S=[];const t=no(e),n=eo(e);if(null!==t&&null===n)t.isKeyField()||e.S.push(new Wi(t)),e.S.push(new Wi(ti.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.S.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Wi(ti.keyField(),t))}}}return e.S}function oo(t){const e=Pr(t);if(!e.D)if("F"===e.limitType)e.D=Ri(e.path,e.collectionGroup,io(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const i of io(e)){const e="desc"===i.dir?"asc":"desc";t.push(new Wi(i.field,e))}const n=e.endAt?new Hi(e.endAt.position,!e.endAt.before):null,r=e.startAt?new Hi(e.startAt.position,!e.startAt.before):null;e.D=Ri(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e.D}function so(t,e,n){return new Xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ao(t,e){return Ni(oo(t),oo(e))&&t.limitType===e.limitType}function uo(t){return`${Oi(oo(t))}|lt:${t.limitType}`}function co(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>{return`${(e=t).field.canonicalString()} ${e.op} ${bi(e.value)}`;var e})).join(", ")}]`),li(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: "+qi(t.startAt)),t.endAt&&(e+=", endAt: "+qi(t.endAt)),`Target(${e})`}(oo(t))}; limitType=${t.limitType})`}function lo(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):di.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Gi(t.startAt,io(t),e))&&(!t.endAt||!Gi(t.endAt,io(t),e))}(t,e)}function ho(t){return(e,n)=>{let r=!1;for(const i of io(t)){const t=fo(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function fo(t,e,n){const r=t.field.isKeyField()?di.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?vi(r,i):Cr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Cr()}}function po(t,e){if(t.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hi(e)?"-0":e}}function mo(t){return{integerValue:""+t}}function go(t,e){return fi(e)?mo(e):po(t,e)}class vo{constructor(){this._=void 0}}function yo(t,e,n){return t instanceof Eo?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof To?So(t,e):t instanceof _o?xo(t,e):function(t,e){const n=wo(t,e),r=Io(n)+Io(t.N);return Ei(n)&&Ei(t.N)?mo(r):po(t.k,r)}(t,e)}function bo(t,e,n){return t instanceof To?So(t,e):t instanceof _o?xo(t,e):n}function wo(t,e){return t instanceof Ao?Ei(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class Eo extends vo{}class To extends vo{constructor(t){super(),this.elements=t}}function So(t,e){const n=Co(e);for(const r of t.elements)n.some((t=>mi(t,r)))||n.push(r);return{arrayValue:{values:n}}}class _o extends vo{constructor(t){super(),this.elements=t}}function xo(t,e){let n=Co(e);for(const r of t.elements)n=n.filter((t=>!mi(t,r)));return{arrayValue:{values:n}}}class Ao extends vo{constructor(t,e){super(),this.k=t,this.N=e}}function Io(t){return oi(t.integerValue||t.doubleValue)}function Co(t){return Ti(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ko{constructor(t,e){this.version=t,this.transformResults=e}}class Po{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Po}static exists(t){return new Po(void 0,t)}static updateTime(t){return new Po(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ro(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Oo{}function No(t,e,n){t instanceof Vo?function(t,e,n){const r=t.value.clone(),i=Bo(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(t,e,n){if(!Ro(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=Bo(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(jo(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Lo(t,e,n){t instanceof Vo?function(t,e,n){if(!Ro(t.precondition,e))return;const r=t.value.clone(),i=zo(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Uo(e),r).setHasLocalMutations()}(t,e,n):t instanceof Fo?function(t,e,n){if(!Ro(t.precondition,e))return;const r=zo(t.fieldTransforms,n,e),i=e.data;i.setAll(jo(t)),i.setAll(r),e.convertToFoundDocument(Uo(e),i).setHasLocalMutations()}(t,e,n):function(t,e){Ro(t.precondition,e)&&e.convertToNoDocument(Kr.min())}(t,e)}function Do(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=wo(r.transform,t||null);null!=i&&(null==n&&(n=Ii.empty()),n.set(r.field,i))}return n||null}function Mo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&qr(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof To&&e instanceof To||t instanceof _o&&e instanceof _o?qr(t.elements,e.elements,mi):t instanceof Ao&&e instanceof Ao?mi(t.N,e.N):t instanceof Eo&&e instanceof Eo}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Uo(t){return t.isFoundDocument()?t.version:Kr.min()}class Vo extends Oo{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Fo extends Oo{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function jo(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Bo(t,e,n){const r=new Map;kr(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,bo(s,a,n[i]))}return r}function zo(t,e,n){const r=new Map;for(const i of t){const t=i.transform,o=n.data.field(i.field);r.set(i.field,yo(t,o,e))}return r}class $o extends Oo{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class Ho extends Oo{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class qo{constructor(t){this.count=t}}var Wo,Ko;function Go(t){switch(t){default:return Cr();case Rr.CANCELLED:case Rr.UNKNOWN:case Rr.DEADLINE_EXCEEDED:case Rr.RESOURCE_EXHAUSTED:case Rr.INTERNAL:case Rr.UNAVAILABLE:case Rr.UNAUTHENTICATED:return!1;case Rr.INVALID_ARGUMENT:case Rr.NOT_FOUND:case Rr.ALREADY_EXISTS:case Rr.PERMISSION_DENIED:case Rr.FAILED_PRECONDITION:case Rr.ABORTED:case Rr.OUT_OF_RANGE:case Rr.UNIMPLEMENTED:case Rr.DATA_LOSS:return!0}}function Yo(t){if(void 0===t)return xr("GRPC error has no .code"),Rr.UNKNOWN;switch(t){case Wo.OK:return Rr.OK;case Wo.CANCELLED:return Rr.CANCELLED;case Wo.UNKNOWN:return Rr.UNKNOWN;case Wo.DEADLINE_EXCEEDED:return Rr.DEADLINE_EXCEEDED;case Wo.RESOURCE_EXHAUSTED:return Rr.RESOURCE_EXHAUSTED;case Wo.INTERNAL:return Rr.INTERNAL;case Wo.UNAVAILABLE:return Rr.UNAVAILABLE;case Wo.UNAUTHENTICATED:return Rr.UNAUTHENTICATED;case Wo.INVALID_ARGUMENT:return Rr.INVALID_ARGUMENT;case Wo.NOT_FOUND:return Rr.NOT_FOUND;case Wo.ALREADY_EXISTS:return Rr.ALREADY_EXISTS;case Wo.PERMISSION_DENIED:return Rr.PERMISSION_DENIED;case Wo.FAILED_PRECONDITION:return Rr.FAILED_PRECONDITION;case Wo.ABORTED:return Rr.ABORTED;case Wo.OUT_OF_RANGE:return Rr.OUT_OF_RANGE;case Wo.UNIMPLEMENTED:return Rr.UNIMPLEMENTED;case Wo.DATA_LOSS:return Rr.DATA_LOSS;default:return Cr()}}(Ko=Wo||(Wo={}))[Ko.OK=0]="OK",Ko[Ko.CANCELLED=1]="CANCELLED",Ko[Ko.UNKNOWN=2]="UNKNOWN",Ko[Ko.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ko[Ko.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ko[Ko.NOT_FOUND=5]="NOT_FOUND",Ko[Ko.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ko[Ko.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ko[Ko.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ko[Ko.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ko[Ko.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ko[Ko.ABORTED=10]="ABORTED",Ko[Ko.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ko[Ko.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ko[Ko.INTERNAL=13]="INTERNAL",Ko[Ko.UNAVAILABLE=14]="UNAVAILABLE",Ko[Ko.DATA_LOSS=15]="DATA_LOSS";class Xo{constructor(t,e){this.comparator=t,this.root=e||Qo.EMPTY}insert(t,e){return new Xo(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Qo.BLACK,null,null))}remove(t){return new Xo(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jo(this.root,t,this.comparator,!0)}}class Jo{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qo{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Qo.RED,this.left=null!=r?r:Qo.EMPTY,this.right=null!=i?i:Qo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new Qo(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Qo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Qo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Cr();if(this.right.isRed())throw Cr();const t=this.left.check();if(t!==this.right.check())throw Cr();return t+(this.isRed()?0:1)}}Qo.EMPTY=null,Qo.RED=!0,Qo.BLACK=!1,Qo.EMPTY=new class{constructor(){this.size=0}get key(){throw Cr()}get value(){throw Cr()}get color(){throw Cr()}get left(){throw Cr()}get right(){throw Cr()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Qo(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zo{constructor(t){this.comparator=t,this.data=new Xo(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new ts(this.data.getIterator())}getIteratorFrom(t){return new ts(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Zo))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Zo(this.comparator);return e.data=t,e}}class ts{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const es=new Xo(di.comparator);function ns(){return es}const rs=new Xo(di.comparator);function is(){return rs}const os=new Xo(di.comparator);function ss(){return os}const as=new Zo(di.comparator);function us(...t){let e=as;for(const n of t)e=e.add(n);return e}const cs=new Zo(Hr);function ls(){return cs}class hs{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,fs.createSynthesizedTargetChangeForCurrentChange(t,e)),new hs(Kr.min(),n,ls(),ns(),us())}}class fs{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e){return new fs(ni.EMPTY_BYTE_STRING,e,us(),us(),us())}}class ds{constructor(t,e,n,r){this.$=t,this.removedTargetIds=e,this.key=n,this.F=r}}class ps{constructor(t,e){this.targetId=t,this.O=e}}class ms{constructor(t,e,n=ni.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class gs{constructor(){this.M=0,this.L=bs(),this.B=ni.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=us(),e=us(),n=us();return this.L.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Cr()}})),new fs(this.B,this.U,t,e,n)}H(){this.q=!1,this.L=bs()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class vs{constructor(t){this.et=t,this.nt=new Map,this.st=ns(),this.it=ys(),this.rt=new Zo(Hr)}ot(t){for(const e of t.$)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ut(t){this.forEachTarget(t,(e=>{const n=this.ht(e);switch(t.state){case 0:this.lt(e)&&n.W(t.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(t.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(e);break;case 3:this.lt(e)&&(n.tt(),n.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),n.W(t.resumeToken));break;default:Cr()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach(((t,n)=>{this.lt(n)&&e(n)}))}dt(t){const e=t.targetId,n=t.O.count,r=this.wt(e);if(r){const t=r.target;if(Li(t))if(0===n){const n=new di(t.path);this.ct(e,n,ki.newNoDocument(n,Kr.min()))}else kr(1===n);else this._t(e)!==n&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach(((n,r)=>{const i=this.wt(r);if(i){if(n.current&&Li(i.target)){const e=new di(i.target.path);null!==this.st.get(e)||this.yt(r,e)||this.ct(r,e,ki.newNoDocument(e,t))}n.j&&(e.set(r,n.G()),n.H())}}));let n=us();this.it.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.wt(t);return!e||2===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))}));const r=new hs(t,e,this.rt,this.st,n);return this.st=ns(),this.it=ys(),this.rt=new Zo(Hr),r}at(t,e){if(!this.lt(t))return;const n=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,n),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,n){if(!this.lt(t))return;const r=this.ht(t);this.yt(t,e)?r.J(e,1):r.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),n&&(this.st=this.st.insert(e,n))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new gs,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new Zo(Hr),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||_r("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new gs),this.et.getRemoteKeysForTarget(t).forEach((e=>{this.ct(t,e,null)}))}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function ys(){return new Xo(di.comparator)}function bs(){return new Xo(di.comparator)}const ws={asc:"ASCENDING",desc:"DESCENDING"},Es={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ts{constructor(t,e){this.databaseId=t,this.C=e}}function Ss(t,e){return t.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _s(t,e){return t.C?e.toBase64():e.toUint8Array()}function xs(t,e){return Ss(t,e.toTimestamp())}function As(t){return kr(!!t),Kr.fromTimestamp(function(t){const e=ii(t);return new Wr(e.seconds,e.nanos)}(t))}function Is(t,e){return function(t){return new Qr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Cs(t){const e=Qr.fromString(t);return kr(Xs(e)),e}function ks(t,e){return Is(t.databaseId,e.path)}function Ps(t,e){const n=Cs(e);if(n.get(1)!==t.databaseId.projectId)throw new Or(Rr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Or(Rr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new di(Ls(n))}function Rs(t,e){return Is(t.databaseId,e)}function Os(t){const e=Cs(t);return 4===e.length?Qr.emptyPath():Ls(e)}function Ns(t){return new Qr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ls(t){return kr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ds(t,e,n){return{name:ks(t,e),fields:n.value.mapValue.fields}}function Ms(t,e){let n;if(e instanceof Vo)n={update:Ds(t,e.key,e.value)};else if(e instanceof $o)n={delete:ks(t,e.key)};else if(e instanceof Fo)n={update:Ds(t,e.key,e.data),updateMask:Ys(e.fieldMask)};else{if(!(e instanceof Ho))return Cr();n={verify:ks(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Eo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof To)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _o)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ao)return{fieldPath:e.field.canonicalString(),increment:n.N};throw Cr()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:xs(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Cr()}(t,e.precondition)),n}function Us(t,e){return{documents:[Rs(t,e.path)]}}function Vs(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Rs(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Rs(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0===t.length)return;const e=t.map((t=>function(t){if("=="===t.op){if(_i(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NAN"}};if(Si(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(_i(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NOT_NAN"}};if(Si(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(t.field),op:Hs(t.op),value:t.value}}}(t)));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);i&&(n.structuredQuery.where=i);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:qs(t.field),direction:$s(t.dir)}}(t)))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(t,e){return t.C||li(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Bs(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Bs(e.endAt)),n}function Fs(t){let e=Os(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){kr(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let o=[];n.where&&(o=js(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((t=>function(t){return new Wi(Ws(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,li(e)?null:e}(n.limit));let u=null;n.startAt&&(u=zs(n.startAt));let c=null;return n.endAt&&(c=zs(n.endAt)),Ji(e,i,s,o,a,"F",u,c)}function js(t){return t?void 0!==t.unaryFilter?[Gs(t)]:void 0!==t.fieldFilter?[Ks(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((t=>js(t))).reduce(((t,e)=>t.concat(e))):Cr():[]}function Bs(t){return{before:t.before,values:t.position}}function zs(t){const e=!!t.before,n=t.values||[];return new Hi(n,e)}function $s(t){return ws[t]}function Hs(t){return Es[t]}function qs(t){return{fieldPath:t.canonicalString()}}function Ws(t){return ti.fromServerFormat(t.fieldPath)}function Ks(t){return Di.create(Ws(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Cr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Gs(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ws(t.unaryFilter.field);return Di.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ws(t.unaryFilter.field);return Di.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ws(t.unaryFilter.field);return Di.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ws(t.unaryFilter.field);return Di.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Cr()}}function Ys(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Xs(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Js(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Zs(e)),e=Qs(t.get(n),e);return Zs(e)}function Qs(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const e=t.charAt(i);switch(e){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=e}}return n}function Zs(t){return t+"\x01\x01"}class ta{constructor(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}}ta.store="owner",ta.key="owner";class ea{constructor(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}}ea.store="mutationQueues",ea.keyPath="userId";class na{constructor(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}na.store="mutations",na.keyPath="batchId",na.userMutationsIndex="userMutationsIndex",na.userMutationsKeyPath=["userId","batchId"];class ra{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,Js(e)]}static key(t,e,n){return[t,Js(e),n]}}ra.store="documentMutations",ra.PLACEHOLDER=new ra;class ia{constructor(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}}ia.store="remoteDocuments",ia.readTimeIndex="readTimeIndex",ia.readTimeIndexPath="readTime",ia.collectionReadTimeIndex="collectionReadTimeIndex",ia.collectionReadTimeIndexPath=["parentPath","readTime"];class oa{constructor(t){this.byteSize=t}}oa.store="remoteDocumentGlobal",oa.key="remoteDocumentGlobalKey";class sa{constructor(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}}sa.store="targets",sa.keyPath="targetId",sa.queryTargetsIndexName="queryTargetsIndex",sa.queryTargetsKeyPath=["canonicalId","targetId"];class aa{constructor(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n}}aa.store="targetDocuments",aa.keyPath=["targetId","path"],aa.documentTargetsIndex="documentTargetsIndex",aa.documentTargetsKeyPath=["path","targetId"];class ua{constructor(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}ua.key="targetGlobalKey",ua.store="targetGlobal";class ca{constructor(t,e){this.collectionId=t,this.parent=e}}ca.store="collectionParents",ca.keyPath=["collectionId","parent"];class la{constructor(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}}la.store="clientMetadata",la.keyPath="clientId";class ha{constructor(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}}ha.store="bundles",ha.keyPath="bundleId";class fa{constructor(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}}fa.store="namedQueries",fa.keyPath="name";ea.store,na.store,ra.store,ia.store,sa.store,ta.store,ua.store,aa.store,la.store,oa.store,ca.store,ha.store,fa.store;const da="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}class ma{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Cr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ma(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ma?e:ma.resolve(e)}catch(t){return ma.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ma.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ma.reject(e)}static resolve(t){return new ma(((e,n)=>{e(t)}))}static reject(t){return new ma(((e,n)=>{n(t)}))}static waitFor(t){return new ma(((e,n)=>{let r=0,i=0,o=!1;t.forEach((t=>{++r,t.next((()=>{++i,o&&i===r&&e()}),(t=>n(t)))})),o=!0,i===r&&e()}))}static or(t){let e=ma.resolve(!1);for(const n of t)e=e.next((t=>t?ma.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}}function ga(t){return"IndexedDbTransactionError"===t.name}class va{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&No(e,t,n[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Lo(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Lo(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach((e=>{const n=t.get(e.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Kr.min())}))}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),us())}isEqual(t){return this.batchId===t.batchId&&qr(this.mutations,t.mutations,((t,e)=>Mo(t,e)))&&qr(this.baseMutations,t.baseMutations,((t,e)=>Mo(t,e)))}}class ya{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){kr(t.mutations.length===n.length);let r=ss();const i=t.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ya(t,e,n,r)}}class ba{constructor(t,e,n,r,i=Kr.min(),o=Kr.min(),s=ni.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(t){return new ba(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class wa{constructor(t){this.Gt=t}}function Ea(t){const e=Fs({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?so(e,e.limit,"L"):e}class Ta{constructor(){this.zt=new Sa}addToCollectionParentIndex(t,e){return this.zt.add(e),ma.resolve()}getCollectionParents(t,e){return ma.resolve(this.zt.getEntries(e))}}class Sa{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Zo(Qr.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Zo(Qr.comparator)).toArray()}}class _a{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new _a(t,_a.DEFAULT_COLLECTION_PERCENTILE,_a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_a.DEFAULT_COLLECTION_PERCENTILE=10,_a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_a.DEFAULT=new _a(41943040,_a.DEFAULT_COLLECTION_PERCENTILE,_a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_a.DISABLED=new _a(-1,0,0);class xa{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new xa(0)}static re(){return new xa(-1)}}async function Aa(t){if(t.code!==Rr.FAILED_PRECONDITION||t.message!==da)throw t;_r("LocalStore","Unexpectedly lost primary lease")}class Ia{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return void(r[n]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1}forEach(t){Yr(this.inner,((e,n)=>{for(const[r,i]of n)t(r,i)}))}isEmpty(){return Xr(this.inner)}}class Ca{constructor(){this.changes=new Ia((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Kr.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:ki.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?ma.resolve(n.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ka{constructor(t,e,n){this.Je=t,this.An=e,this.Jt=n}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next((n=>this.Pn(t,e,n)))}Pn(t,e,n){return this.Je.getEntry(t,e).next((t=>{for(const e of n)e.applyToLocalView(t);return t}))}bn(t,e){t.forEach(((t,n)=>{for(const r of e)r.applyToLocalView(n)}))}vn(t,e){return this.Je.getEntries(t,e).next((e=>this.Vn(t,e).next((()=>e))))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>this.bn(e,t)))}getDocumentsMatchingQuery(t,e,n){return function(t){return di.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Sn(t,e.path):ro(e)?this.Dn(t,e,n):this.Cn(t,e,n)}Sn(t,e){return this.Rn(t,new di(e)).next((t=>{let e=is();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}Dn(t,e,n){const r=e.collectionGroup;let i=is();return this.Jt.getCollectionParents(t,r).next((o=>ma.forEach(o,(o=>{const s=function(t,e){return new Xi(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(r));return this.Cn(t,s,n).next((t=>{t.forEach(((t,e)=>{i=i.insert(t,e)}))}))})).next((()=>i))))}Cn(t,e,n){let r,i;return this.Je.getDocumentsMatchingQuery(t,e,n).next((n=>(r=n,this.An.getAllMutationBatchesAffectingQuery(t,e)))).next((e=>(i=e,this.Nn(t,i,r).next((t=>{r=t;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=ki.newInvalidDocument(n),r=r.insert(n,i)),Lo(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((t,n)=>{lo(e,n)||(r=r.remove(t))})),r)))}Nn(t,e,n){let r=us();for(const o of e)for(const t of o.mutations)t instanceof Fo&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.Je.getEntries(t,r).next((t=>(t.forEach(((t,e)=>{e.isFoundDocument()&&(i=i.insert(t,e))})),i)))}}class Pa{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.kn=n,this.xn=r}static $n(t,e){let n=us(),r=us();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Pa(t,e.fromCache,n,r)}}class Ra{Fn(t){this.On=t}getDocumentsMatchingQuery(t,e,n,r){return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Kr.min())?this.Mn(t,e):this.On.vn(t,r).next((i=>{const o=this.Ln(e,i);return(Zi(e)||to(e))&&this.Bn(e.limitType,o,r,n)?this.Mn(t,e):(Sr()<=s.in.DEBUG&&_r("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),co(e)),this.On.getDocumentsMatchingQuery(t,e,n).next((t=>(o.forEach((e=>{t=t.insert(e.key,e)})),t))))}))}Ln(t,e){let n=new Zo(ho(t));return e.forEach(((e,r)=>{lo(t,r)&&(n=n.add(r))})),n}Bn(t,e,n,r){if(n.size!==e.size)return!0;const i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mn(t,e){return Sr()<=s.in.DEBUG&&_r("QueryEngine","Using full collection scan to execute query:",co(e)),this.On.getDocumentsMatchingQuery(t,e,Kr.min())}}class Oa{constructor(t,e,n,r){this.persistence=t,this.Un=e,this.k=r,this.qn=new Xo(Hr),this.Kn=new Ia((t=>Oi(t)),Ni),this.jn=Kr.min(),this.An=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new ka(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.qn)))}}function Na(t,e,n,r){return new Oa(t,e,n,r)}async function La(t,e){const n=Pr(t);let r=n.An,i=n.Wn;const o=await n.persistence.runTransaction("Handle user change","readonly",(t=>{let o;return n.An.getAllMutationBatches(t).next((s=>(o=s,r=n.persistence.getMutationQueue(e),i=new ka(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)))).next((e=>{const n=[],r=[];let s=us();for(const t of o){n.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}for(const t of e){r.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}return i.vn(t,s).next((t=>({Gn:t,removedBatchIds:n,addedBatchIds:r})))}))}));return n.An=r,n.Wn=i,n.Un.Fn(n.Wn),o}function Da(t){const e=Pr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.He.getLastRemoteSnapshotVersion(t)))}function Ma(t,e,n,r,i){let o=us();return n.forEach((t=>o=o.add(t))),e.getEntries(t,o).next((t=>{let o=ns();return n.forEach(((n,s)=>{const a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Kr.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):_r("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Ua(t,e){const n=Pr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.An.getNextMutationBatchAfterBatchId(t,e))))}function Va(t,e){const n=Pr(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.He.getTargetData(t,e).next((i=>i?(r=i,ma.resolve(r)):n.He.allocateTargetId(t).next((i=>(r=new ba(e,i,0,t.currentSequenceNumber),n.He.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.qn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(t.targetId,t),n.Kn.set(e,t.targetId)),t}))}async function Fa(t,e,n){const r=Pr(t),i=r.qn.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!ga(t))throw t;_r("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}function ja(t,e,n){const r=Pr(t);let i=Kr.min(),o=us();return r.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const r=Pr(t),i=r.Kn.get(n);return void 0!==i?ma.resolve(r.qn.get(i)):r.He.getTargetData(e,n)}(r,t,oo(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(t,e.targetId).next((t=>{o=t}))})).next((()=>r.Un.getDocumentsMatchingQuery(t,e,n?i:Kr.min(),n?o:us()))).next((t=>({documents:t,zn:o})))))}class Ba{constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return ma.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var n;return this.Xn.set(e.id,{id:(n=e).id,version:n.version,createTime:As(n.createTime)}),ma.resolve()}getNamedQuery(t,e){return ma.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,function(t){return{name:t.name,query:Ea(t.bundledQuery),readTime:As(t.readTime)}}(e)),ma.resolve()}}class za{constructor(){this.ts=new Zo($a.es),this.ns=new Zo($a.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const n=new $a(t,e);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.os(new $a(t,e))}cs(t,e){t.forEach((t=>this.removeReference(t,e)))}us(t){const e=new di(new Qr([])),n=new $a(e,t),r=new $a(e,t+1),i=[];return this.ns.forEachInRange([n,r],(t=>{this.os(t),i.push(t.key)})),i}hs(){this.ts.forEach((t=>this.os(t)))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new di(new Qr([])),n=new $a(e,t),r=new $a(e,t+1);let i=us();return this.ns.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new $a(t,0),n=this.ts.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class $a{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return di.comparator(t.key,e.key)||Hr(t.fs,e.fs)}static ss(t,e){return Hr(t.fs,e.fs)||di.comparator(t.key,e.key)}}class Ha{constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new Zo($a.es)}checkEmpty(t){return ma.resolve(0===this.An.length)}addMutationBatch(t,e,n,r){const i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const o=new va(i,e,n,r);this.An.push(o);for(const s of r)this.ws=this.ws.add(new $a(s.key,i)),this.Jt.addToCollectionParentIndex(t,s.key.path.popLast());return ma.resolve(o)}lookupMutationBatch(t,e){return ma.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.gs(n),i=r<0?0:r;return ma.resolve(this.An.length>i?this.An[i]:null)}getHighestUnacknowledgedBatchId(){return ma.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return ma.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new $a(e,0),r=new $a(e,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],(t=>{const e=this._s(t.fs);i.push(e)})),ma.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Zo(Hr);return e.forEach((t=>{const e=new $a(t,0),r=new $a(t,Number.POSITIVE_INFINITY);this.ws.forEachInRange([e,r],(t=>{n=n.add(t.fs)}))})),ma.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;di.isDocumentKey(i)||(i=i.child(""));const o=new $a(new di(i),0);let s=new Zo(Hr);return this.ws.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.fs)),!0)}),o),ma.resolve(this.ys(s))}ys(t){const e=[];return t.forEach((t=>{const n=this._s(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){kr(0===this.ps(e.batchId,"removed")),this.An.shift();let n=this.ws;return ma.forEach(e.mutations,(r=>{const i=new $a(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.ws=n}))}ee(t){}containsKey(t,e){const n=new $a(e,0),r=this.ws.firstAfterOrEqual(n);return ma.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.An.length,ma.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}class qa{constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new Xo(di.comparator),this.size=0}addEntry(t,e,n){const r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ts(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Jt.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return ma.resolve(n?n.document.clone():ki.newInvalidDocument(e))}getEntries(t,e){let n=ns();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.clone():ki.newInvalidDocument(t))})),ma.resolve(n)}getDocumentsMatchingQuery(t,e,n){let r=ns();const i=new di(e.path.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:t,value:{document:i,readTime:s}}=o.getNext();if(!e.path.isPrefixOf(t.path))break;s.compareTo(n)<=0||lo(e,i)&&(r=r.insert(i.key,i.clone()))}return ma.resolve(r)}Es(t,e){return ma.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Wa(this)}getSize(t){return ma.resolve(this.size)}}class Wa extends Ca{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?e.push(this.De.addEntry(t,r.document,this.getReadTime(n))):this.De.removeEntry(n)})),ma.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}class Ka{constructor(t){this.persistence=t,this.Is=new Ia((t=>Oi(t)),Ni),this.lastRemoteSnapshotVersion=Kr.min(),this.highestTargetId=0,this.As=0,this.Rs=new za,this.targetCount=0,this.Ps=xa.ie()}forEachTarget(t,e){return this.Is.forEach(((t,n)=>e(n))),ma.resolve()}getLastRemoteSnapshotVersion(t){return ma.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ma.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.Ps.next(),ma.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.As&&(this.As=e),ma.resolve()}ce(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ps=new xa(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,ma.resolve()}updateTargetData(t,e){return this.ce(e),ma.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,ma.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Is.forEach(((o,s)=>{s.sequenceNumber<=e&&null===n.get(s.targetId)&&(this.Is.delete(o),i.push(this.removeMatchingKeysForTargetId(t,s.targetId)),r++)})),ma.waitFor(i).next((()=>r))}getTargetCount(t){return ma.resolve(this.targetCount)}getTargetData(t,e){const n=this.Is.get(e)||null;return ma.resolve(n)}addMatchingKeys(t,e,n){return this.Rs.rs(e,n),ma.resolve()}removeMatchingKeys(t,e,n){this.Rs.cs(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),ma.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),ma.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Rs.ls(e);return ma.resolve(n)}containsKey(t,e){return ma.resolve(this.Rs.containsKey(e))}}class Ga{constructor(t,e){this.bs={},this.Be=new Br(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Ka(this),this.Jt=new Ta,this.Je=function(t,e){return new qa(t,e)}(this.Jt,(t=>this.referenceDelegate.vs(t))),this.k=new wa(e),this.Ye=new Ba(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new Ha(this.Jt,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,n){_r("MemoryPersistence","Starting transaction:",t);const r=new Ya(this.Be.next());return this.referenceDelegate.Vs(),n(r).next((t=>this.referenceDelegate.Ss(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Ds(t,e){return ma.or(Object.values(this.bs).map((n=>()=>n.containsKey(t,e))))}}class Ya extends pa{constructor(t){super(),this.currentSequenceNumber=t}}class Xa{constructor(t){this.persistence=t,this.Cs=new za,this.Ns=null}static ks(t){return new Xa(t)}get xs(){if(this.Ns)return this.Ns;throw Cr()}addReference(t,e,n){return this.Cs.addReference(n,e),this.xs.delete(n.toString()),ma.resolve()}removeReference(t,e,n){return this.Cs.removeReference(n,e),this.xs.add(n.toString()),ma.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),ma.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach((t=>this.xs.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.xs.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ma.forEach(this.xs,(n=>{const r=di.fromPath(n);return this.$s(t,r).next((t=>{t||e.removeEntry(r)}))})).next((()=>(this.Ns=null,e.apply(t))))}updateLimboDocument(t,e){return this.$s(t,e).next((t=>{t?this.xs.delete(e.toString()):this.xs.add(e.toString())}))}vs(t){return 0}$s(t,e){return ma.or([()=>ma.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}class Ja{constructor(){this.activeTargetIds=ls()}Ms(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Qa{constructor(){this.pi=new Ja,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.pi.Ms(t),this.Ti[t]||"not-current"}updateQueryState(t,e,n){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new Ja,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class Za{Ei(t){}shutdown(){}}class tu{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){_r("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Pi(){_r("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const eu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class nu{constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Fi(t){this.ki(t)}Oi(t){this.xi(t)}}class ru extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.Mi=e+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,n,r,i){const o=this.Ui(t,e);_r("RestConnection","Sending: ",o,n);const s={};return this.qi(s,r,i),this.Ki(t,o,s,n).then((t=>(_r("RestConnection","Received: ",t),t)),(e=>{throw Ar("RestConnection",`${t} failed with error: `,e,"url: ",o,"request:",n),e}))}ji(t,e,n,r,i){return this.Bi(t,e,n,r,i)}qi(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Er,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}Ui(t,e){const n=eu[t];return`${this.Mi}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,n,r){return new Promise(((i,o)=>{const s=new yr;s.listenOnce(dr.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case fr.NO_ERROR:const e=s.getResponseJson();_r("Connection","XHR received:",JSON.stringify(e)),i(e);break;case fr.TIMEOUT:_r("Connection",'RPC "'+t+'" timed out'),o(new Or(Rr.DEADLINE_EXCEEDED,"Request time out"));break;case fr.HTTP_ERROR:const n=s.getStatus();if(_r("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const t=s.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Rr).indexOf(e)>=0?e:Rr.UNKNOWN}(t.status);o(new Or(e,t.message))}else o(new Or(Rr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Or(Rr.UNAVAILABLE,"Connection failed."));break;default:Cr()}}finally{_r("Connection",'RPC "'+t+'" completed.')}}));const a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))}Qi(t,e,n){const r=[this.Mi,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=lr(),o=hr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new gr({})),this.qi(s.initMessageHeaders,e,n),(0,a.uI)()||(0,a.b$)()||(0,a.d)()||(0,a.w1)()||(0,a.Mn)()||(0,a.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const u=r.join("");_r("Connection","Creating WebChannel: "+u,s);const c=i.createWebChannel(u,s);let l=!1,h=!1;const f=new nu({Vi:t=>{h?_r("Connection","Not sending because WebChannel is closed:",t):(l||(_r("Connection","Opening WebChannel transport."),c.open(),l=!0),_r("Connection","WebChannel sending:",t),c.send(t))},Si:()=>c.close()}),d=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return d(c,vr.EventType.OPEN,(()=>{h||_r("Connection","WebChannel transport opened.")})),d(c,vr.EventType.CLOSE,(()=>{h||(h=!0,_r("Connection","WebChannel transport closed"),f.Fi())})),d(c,vr.EventType.ERROR,(t=>{h||(h=!0,Ar("Connection","WebChannel transport errored:",t),f.Fi(new Or(Rr.UNAVAILABLE,"The operation could not be completed")))})),d(c,vr.EventType.MESSAGE,(t=>{var e;if(!h){const n=t.data[0];kr(!!n);const r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){_r("Connection","WebChannel received error:",i);const t=i.status;let e=function(t){const e=Wo[t];if(void 0!==e)return Yo(e)}(t),n=i.message;void 0===e&&(e=Rr.INTERNAL,n="Unknown error status: "+t+" with message "+i.message),h=!0,f.Fi(new Or(e,n)),c.close()}else _r("Connection","WebChannel received:",n),f.Oi(n)}})),d(o,pr.STAT_EVENT,(t=>{t.stat===mr.PROXY?_r("Connection","Detected buffering proxy"):t.stat===mr.NOPROXY&&_r("Connection","Detected no buffering proxy")})),setTimeout((()=>{f.$i()}),0),f}}function iu(){return"undefined"!=typeof document?document:null}function ou(t){return new Ts(t,!0)}class su{constructor(t,e,n=1e3,r=1.5,i=6e4){this.Oe=t,this.timerId=e,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,e-n);r>0&&_r("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,r,(()=>(this.Yi=Date.now(),t()))),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class au{constructor(t,e,n,r,i,o,s,a){this.Oe=t,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new su(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(()=>this.mr())))}gr(t){this.yr(),this.stream.send(t)}async mr(){if(this.lr())return this.close(0)}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(t,e){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():e&&e.code===Rr.RESOURCE_EXHAUSTED?(xr(e.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):e&&e.code===Rr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ni(e)}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.rr===e&&this.Ir(t,n)}),(e=>{t((()=>{const t=new Or(Rr.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Ar(t)}))}))}Ir(t,e){const n=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di((()=>{n((()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,(()=>(this.lr()&&(this.state=3),Promise.resolve()))),this.listener.Di())))})),this.stream.Ni((t=>{n((()=>this.Ar(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}dr(){this.state=5,this.ur.Zi((async()=>{this.state=0,this.start()}))}Ar(t){return _r("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Oe.enqueueAndForget((()=>this.rr===t?e():(_r("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uu extends au{constructor(t,e,n,r,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,o),this.k=i}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Cr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.C?(kr(void 0===e||"string"==typeof e),ni.fromBase64String(e||"")):(kr(void 0===e||e instanceof Uint8Array),ni.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){const e=void 0===t.code?Rr.UNKNOWN:Yo(t.code);return new Or(e,t.message||"")}(s);n=new ms(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ps(t,r.document.name),o=As(r.document.updateTime),s=new Ii({mapValue:{fields:r.document.fields}}),a=ki.newFoundDocument(i,o,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ds(u,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ps(t,r.document),o=r.readTime?As(r.readTime):Kr.min(),s=ki.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ds([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ps(t,r.document),o=r.removedTargetIds||[];n=new ds([],o,i,null)}else{if(!("filter"in e))return Cr();{e.filter;const t=e.filter;t.targetId;const r=t.count||0,i=new qo(r),o=t.targetId;n=new ps(o,i)}}return n}(this.k,t),n=function(t){if(!("targetChange"in t))return Kr.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Kr.min():e.readTime?As(e.readTime):Kr.min()}(t);return this.listener.Pr(e,n)}br(t){const e={};e.database=Ns(this.k),e.addTarget=function(t,e){let n;const r=e.target;return n=Li(r)?{documents:Us(t,r)}:{query:Vs(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=_s(t,e.resumeToken):e.snapshotVersion.compareTo(Kr.min())>0&&(n.readTime=Ss(t,e.snapshotVersion.toTimestamp())),n}(this.k,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Cr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,t);n&&(e.labels=n),this.gr(e)}vr(t){const e={};e.database=Ns(this.k),e.removeTarget=t,this.gr(e)}}class cu extends au{constructor(t,e,n,r,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,o),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(kr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function(t,e){return t&&t.length>0?(kr(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?As(t.updateTime):As(e);return n.isEqual(Kr.min())&&(n=As(e)),new ko(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=As(t.commitTime);return this.listener.Cr(n,e)}return kr(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=Ns(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>Ms(this.k,t)))};this.gr(e)}}class lu extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=n,this.k=r,this.$r=!1}Fr(){if(this.$r)throw new Or(Rr.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.Bi(t,e,n,r,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Rr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Or(Rr.UNKNOWN,t.toString())}))}ji(t,e,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.ji(t,e,n,r,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Rr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Or(Rr.UNKNOWN,t.toString())}))}terminate(){this.$r=!0}}class hu{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve()))))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Or=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(xr(e),this.Lr=!1):_r("OnlineStateTracker",e)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class fu{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei((t=>{n.enqueueAndForget((async()=>{Eu(this)&&(_r("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Pr(t);e.Gr.add(4),await pu(e),e.Jr.set("Unknown"),e.Gr.delete(4),await du(e)}(this))}))})),this.Jr=new hu(n,r)}}async function du(t){if(Eu(t))for(const e of t.zr)await e(!0)}async function pu(t){for(const e of t.zr)await e(!1)}function mu(t,e){const n=Pr(t);n.Wr.has(e.targetId)||(n.Wr.set(e.targetId,e),wu(n)?bu(n):Vu(n).lr()&&vu(n,e))}function gu(t,e){const n=Pr(t),r=Vu(n);n.Wr.delete(e),r.lr()&&yu(n,e),0===n.Wr.size&&(r.lr()?r._r():Eu(n)&&n.Jr.set("Unknown"))}function vu(t,e){t.Yr.X(e.targetId),Vu(t).br(e)}function yu(t,e){t.Yr.X(e),Vu(t).vr(e)}function bu(t){t.Yr=new vs({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Wr.get(e)||null}),Vu(t).start(),t.Jr.Br()}function wu(t){return Eu(t)&&!Vu(t).hr()&&t.Wr.size>0}function Eu(t){return 0===Pr(t).Gr.size}function Tu(t){t.Yr=void 0}async function Su(t){t.Wr.forEach(((e,n)=>{vu(t,e)}))}async function _u(t,e){Tu(t),wu(t)?(t.Jr.Kr(e),bu(t)):t.Jr.set("Unknown")}async function xu(t,e,n){if(t.Jr.set("Online"),e instanceof ms&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.Wr.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.Wr.delete(r),t.Yr.removeTarget(r))}(t,e)}catch(n){_r("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Au(t,n)}else if(e instanceof ds?t.Yr.ot(e):e instanceof ps?t.Yr.dt(e):t.Yr.ut(e),!n.isEqual(Kr.min()))try{const e=await Da(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.Yr.gt(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.Wr.get(r);i&&t.Wr.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((e=>{const n=t.Wr.get(e);if(!n)return;t.Wr.set(e,n.withResumeToken(ni.EMPTY_BYTE_STRING,n.snapshotVersion)),yu(t,e);const r=new ba(n.target,e,1,n.sequenceNumber);vu(t,r)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){_r("RemoteStore","Failed to raise snapshot:",e),await Au(t,e)}}async function Au(t,e,n){if(!ga(e))throw e;t.Gr.add(1),await pu(t),t.Jr.set("Offline"),n||(n=()=>Da(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_r("RemoteStore","Retrying IndexedDB access"),await n(),t.Gr.delete(1),await du(t)}))}function Iu(t,e){return e().catch((n=>Au(t,n,e)))}async function Cu(t){const e=Pr(t),n=Fu(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;ku(e);)try{const t=await Ua(e.localStore,r);if(null===t){0===e.Qr.length&&n._r();break}r=t.batchId,Pu(e,t)}catch(t){await Au(e,t)}Ru(e)&&Ou(e)}function ku(t){return Eu(t)&&t.Qr.length<10}function Pu(t,e){t.Qr.push(e);const n=Fu(t);n.lr()&&n.Sr&&n.Dr(e.mutations)}function Ru(t){return Eu(t)&&!Fu(t).hr()&&t.Qr.length>0}function Ou(t){Fu(t).start()}async function Nu(t){Fu(t).kr()}async function Lu(t){const e=Fu(t);for(const n of t.Qr)e.Dr(n.mutations)}async function Du(t,e,n){const r=t.Qr.shift(),i=ya.from(r,e,n);await Iu(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Cu(t)}async function Mu(t,e){e&&Fu(t).Sr&&await async function(t,e){if(Go(n=e.code)&&n!==Rr.ABORTED){const n=t.Qr.shift();Fu(t).wr(),await Iu(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await Cu(t)}var n}(t,e),Ru(t)&&Ou(t)}async function Uu(t,e){const n=Pr(t);e?(n.Gr.delete(2),await du(n)):e||(n.Gr.add(2),await pu(n),n.Jr.set("Unknown"))}function Vu(t){return t.Xr||(t.Xr=function(t,e,n){const r=Pr(t);return r.Fr(),new uu(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(t.datastore,t.asyncQueue,{Di:Su.bind(null,t),Ni:_u.bind(null,t),Pr:xu.bind(null,t)}),t.zr.push((async e=>{e?(t.Xr.wr(),wu(t)?bu(t):t.Jr.set("Unknown")):(await t.Xr.stop(),Tu(t))}))),t.Xr}function Fu(t){return t.Zr||(t.Zr=function(t,e,n){const r=Pr(t);return r.Fr(),new cu(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(t.datastore,t.asyncQueue,{Di:Nu.bind(null,t),Ni:Mu.bind(null,t),Nr:Lu.bind(null,t),Cr:Du.bind(null,t)}),t.zr.push((async e=>{e?(t.Zr.wr(),await Cu(t)):(await t.Zr.stop(),t.Qr.length>0&&(_r("RemoteStore",`Stopping write stream with ${t.Qr.length} pending writes`),t.Qr=[]))}))),t.Zr}class ju{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,r,i){const o=Date.now()+n,s=new ju(t,e,o,r,i);return s.start(n),s}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Or(Rr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bu(t,e){if(xr("AsyncQueue",`${e}: ${t}`),ga(t))return new Or(Rr.UNAVAILABLE,`${e}: ${t}`);throw t}class zu{constructor(t){this.comparator=t?(e,n)=>t(e,n)||di.comparator(e.key,n.key):(t,e)=>di.comparator(t.key,e.key),this.keyedMap=is(),this.sortedSet=new Xo(this.comparator)}static emptySet(t){return new zu(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof zu))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new zu;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class $u{constructor(){this.eo=new Xo(di.comparator)}track(t){const e=t.doc.key,n=this.eo.get(e);n?0!==t.type&&3===n.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==n.type?this.eo=this.eo.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.eo=this.eo.remove(e):1===t.type&&2===n.type?this.eo=this.eo.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):Cr():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Hu{constructor(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,r){const i=[];return e.forEach((t=>{i.push({type:0,doc:t})})),new Hu(t,e,zu.emptySet(e),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ao(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class qu{constructor(){this.so=void 0,this.listeners=[]}}class Wu{constructor(){this.queries=new Ia((t=>uo(t)),ao),this.onlineState="Unknown",this.io=new Set}}async function Ku(t,e){const n=Pr(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new qu),i)try{o.so=await n.onListen(r)}catch(t){const n=Bu(t,`Initialization of query '${co(e.query)}' failed`);return void e.onError(n)}n.queries.set(r,o),o.listeners.push(e),e.ro(n.onlineState),o.so&&e.oo(o.so)&&Ju(n)}async function Gu(t,e){const n=Pr(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const t=o.listeners.indexOf(e);t>=0&&(o.listeners.splice(t,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Yu(t,e){const n=Pr(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.listeners)t.oo(i)&&(r=!0);e.so=i}}r&&Ju(n)}function Xu(t,e,n){const r=Pr(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function Ju(t){t.io.forEach((t=>{t.next()}))}class Qu{constructor(t,e,n){this.query=t,this.ao=e,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Hu(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.ho(t)&&(this.ao.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.ao.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.co&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.wo||!n)&&(!t.docs.isEmpty()||"Offline"===e)}ho(t){if(t.docChanges.length>0)return!0;const e=this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}fo(t){t=Hu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.ao.next(t)}}class Zu{constructor(t){this.key=t}}class tc{constructor(t){this.key=t}}class ec{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=us(),this.mutatedKeys=us(),this.Ao=ho(t),this.Ro=new zu(this.Ao)}get Po(){return this.To}bo(t,e){const n=e?e.vo:new $u,r=e?e.Ro:this.Ro;let i=e?e.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a=Zi(this.query)&&r.size===this.query.limit?r.last():null,u=to(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const c=r.get(t),l=lo(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),f=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let d=!1;c&&l?c.data.isEqual(l.data)?h!==f&&(n.track({type:3,doc:l}),d=!0):this.Vo(c,l)||(n.track({type:2,doc:l}),d=!0,(a&&this.Ao(l,a)>0||u&&this.Ao(l,u)<0)&&(s=!0)):!c&&l?(n.track({type:0,doc:l}),d=!0):c&&!l&&(n.track({type:1,doc:c}),d=!0,(a||u)&&(s=!0)),d&&(l?(o=o.add(l),i=f?i.add(t):i.delete(t)):(o=o.delete(t),i=i.delete(t)))})),Zi(this.query)||to(this.query))for(;o.size>this.query.limit;){const t=Zi(this.query)?o.last():o.first();o=o.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{Ro:o,vo:n,Bn:s,mutatedKeys:i}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const i=t.vo.no();i.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cr()}};return n(t)-n(e)}(t.type,e.type)||this.Ao(t.doc,e.doc))),this.So(n);const o=e?this.Do():[],s=0===this.Io.size&&this.current?1:0,a=s!==this.Eo;return this.Eo=s,0!==i.length||a?{snapshot:new Hu(this.query,t.Ro,r,i,t.mutatedKeys,0===s,a,!1),Co:o}:{Co:o}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new $u,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach((t=>this.To=this.To.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.To=this.To.delete(t))),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=us(),this.Ro.forEach((t=>{this.No(t.key)&&(this.Io=this.Io.add(t.key))}));const e=[];return t.forEach((t=>{this.Io.has(t)||e.push(new tc(t))})),this.Io.forEach((n=>{t.has(n)||e.push(new Zu(n))})),e}ko(t){this.To=t.zn,this.Io=us();const e=this.bo(t.documents);return this.applyChanges(e,!0)}xo(){return Hu.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class nc{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class rc{constructor(t){this.key=t,this.$o=!1}}class ic{constructor(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new Ia((t=>uo(t)),ao),this.Mo=new Map,this.Lo=new Set,this.Bo=new Xo(di.comparator),this.Uo=new Map,this.qo=new za,this.Ko={},this.jo=new Map,this.Qo=xa.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function oc(t,e){const n=Sc(t);let r,i;const o=n.Oo.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.xo();else{const t=await Va(n.localStore,oo(e)),o=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=await sc(n,e,r,"current"===o),n.isPrimaryClient&&mu(n.remoteStore,t)}return i}async function sc(t,e,n,r){t.Go=(e,n,r)=>async function(t,e,n,r){let i=e.view.bo(n);i.Bn&&(i=await ja(t.localStore,e.query,!1).then((({documents:t})=>e.view.bo(t,i))));const o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o);return vc(t,e.targetId,s.Co),s.snapshot}(t,e,n,r);const i=await ja(t.localStore,e,!0),o=new ec(e,i.zn),s=o.bo(i.documents),a=fs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a);vc(t,n,u.Co);const c=new nc(e,n,o);return t.Oo.set(e,c),t.Mo.has(n)?t.Mo.get(n).push(e):t.Mo.set(n,[e]),u.snapshot}async function ac(t,e){const n=Pr(t),r=n.Oo.get(e),i=n.Mo.get(r.targetId);if(i.length>1)return n.Mo.set(r.targetId,i.filter((t=>!ao(t,e)))),void n.Oo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Fa(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),gu(n.remoteStore,r.targetId),mc(n,r.targetId)})).catch(Aa)):(mc(n,r.targetId),await Fa(n.localStore,r.targetId,!0))}async function uc(t,e){const n=Pr(t);try{const t=await function(t,e){const n=Pr(t),r=e.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const s=[];e.targetChanges.forEach(((e,o)=>{const a=i.get(o);if(!a)return;s.push(n.He.removeMatchingKeys(t,e.removedDocuments,o).next((()=>n.He.addMatchingKeys(t,e.addedDocuments,o))));const u=e.resumeToken;if(u.approximateByteSize()>0){const c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return kr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.He.updateTargetData(t,c))}}));let a=ns();if(e.documentUpdates.forEach(((r,i)=>{e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(Ma(t,o,e.documentUpdates,r,void 0).next((t=>{a=t}))),!r.isEqual(Kr.min())){const e=n.He.getLastRemoteSnapshotVersion(t).next((e=>n.He.setTargetsMetadata(t,t.currentSequenceNumber,r)));s.push(e)}return ma.waitFor(s).next((()=>o.apply(t))).next((()=>n.Wn.Vn(t,a))).next((()=>a))})).then((t=>(n.qn=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.Uo.get(e);r&&(kr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.$o=!0:t.modifiedDocuments.size>0?kr(r.$o):t.removedDocuments.size>0&&(kr(r.$o),r.$o=!1))})),await wc(n,t,e)}catch(t){await Aa(t)}}function cc(t,e,n){const r=Pr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.Oo.forEach(((n,r)=>{const i=r.view.ro(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=Pr(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const i of n.listeners)i.ro(e)&&(r=!0)})),r&&Ju(n)}(r.eventManager,e),t.length&&r.Fo.Pr(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lc(t,e,n){const r=Pr(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Uo.get(e),o=i&&i.key;if(o){let t=new Xo(di.comparator);t=t.insert(o,ki.newNoDocument(o,Kr.min()));const n=us().add(o),i=new hs(Kr.min(),new Map,new Zo(Hr),t,n);await uc(r,i),r.Bo=r.Bo.remove(o),r.Uo.delete(e),bc(r)}else await Fa(r.localStore,e,!1).then((()=>mc(r,e,n))).catch(Aa)}async function hc(t,e){const n=Pr(t),r=e.batch.batchId;try{const t=await function(t,e){const n=Pr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,o=i.keys();let s=ma.resolve();return o.forEach((t=>{s=s.next((()=>r.getEntry(e,t))).next((e=>{const o=n.docVersions.get(t);kr(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((()=>t.An.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.An.performConsistencyCheck(t))).next((()=>n.Wn.vn(t,r)))}))}(n.localStore,e);pc(n,r,null),dc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wc(n,t)}catch(t){await Aa(t)}}async function fc(t,e,n){const r=Pr(t);try{const t=await function(t,e){const n=Pr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.An.lookupMutationBatch(t,e).next((e=>(kr(null!==e),r=e.keys(),n.An.removeMutationBatch(t,e)))).next((()=>n.An.performConsistencyCheck(t))).next((()=>n.Wn.vn(t,r)))}))}(r.localStore,e);pc(r,e,n),dc(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wc(r,t)}catch(n){await Aa(n)}}function dc(t,e){(t.jo.get(e)||[]).forEach((t=>{t.resolve()})),t.jo.delete(e)}function pc(t,e,n){const r=Pr(t);let i=r.Ko[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function mc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Mo.get(e))t.Oo.delete(r),n&&t.Fo.zo(r,n);t.Mo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach((e=>{t.qo.containsKey(e)||gc(t,e)}))}function gc(t,e){t.Lo.delete(e.path.canonicalString());const n=t.Bo.get(e);null!==n&&(gu(t.remoteStore,n),t.Bo=t.Bo.remove(e),t.Uo.delete(n),bc(t))}function vc(t,e,n){for(const r of n)r instanceof Zu?(t.qo.addReference(r.key,e),yc(t,r)):r instanceof tc?(_r("SyncEngine","Document no longer in limbo: "+r.key),t.qo.removeReference(r.key,e),t.qo.containsKey(r.key)||gc(t,r.key)):Cr()}function yc(t,e){const n=e.key,r=n.path.canonicalString();t.Bo.get(n)||t.Lo.has(r)||(_r("SyncEngine","New document in limbo: "+n),t.Lo.add(r),bc(t))}function bc(t){for(;t.Lo.size>0&&t.Bo.size<t.maxConcurrentLimboResolutions;){const e=t.Lo.values().next().value;t.Lo.delete(e);const n=new di(Qr.fromString(e)),r=t.Qo.next();t.Uo.set(r,new rc(n)),t.Bo=t.Bo.insert(n,r),mu(t.remoteStore,new ba(oo(Qi(n.path)),r,2,Br.I))}}async function wc(t,e,n){const r=Pr(t),i=[],o=[],s=[];r.Oo.isEmpty()||(r.Oo.forEach(((t,a)=>{s.push(r.Go(a,e,n).then((t=>{if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);const e=Pa.$n(a.targetId,t);o.push(e)}})))})),await Promise.all(s),r.Fo.Pr(i),await async function(t,e){const n=Pr(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>ma.forEach(e,(e=>ma.forEach(e.kn,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>ma.forEach(e.xn,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!ga(t))throw t;_r("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.qn.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.qn=n.qn.insert(t,i)}}}(r.localStore,o))}async function Ec(t,e){const n=Pr(t);if(!n.currentUser.isEqual(e)){_r("SyncEngine","User change. New user:",e.toKey());const t=await La(n.localStore,e);n.currentUser=e,function(t,e){t.jo.forEach((t=>{t.forEach((t=>{t.reject(new Or(Rr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.jo.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await wc(n,t.Gn)}}function Tc(t,e){const n=Pr(t),r=n.Uo.get(e);if(r&&r.$o)return us().add(r.key);{let t=us();const r=n.Mo.get(e);if(!r)return t;for(const e of r){const r=n.Oo.get(e);t=t.unionWith(r.view.Po)}return t}}function Sc(t){const e=Pr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tc.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lc.bind(null,e),e.Fo.Pr=Yu.bind(null,e.eventManager),e.Fo.zo=Xu.bind(null,e.eventManager),e}function _c(t){const e=Pr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hc.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fc.bind(null,e),e}class xc{constructor(){this.synchronizeTabs=!1}async initialize(t){this.k=ou(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),await this.persistence.start(),this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t)}Xo(t){return null}Zo(t){return Na(this.persistence,new Ra,t.initialUser,this.k)}Yo(t){return new Ga(Xa.ks,this.k)}Jo(t){return new Qa}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ac{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>cc(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ec.bind(null,this.syncEngine),await Uu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Wu}createDatastore(t){const e=ou(t.databaseInfo.databaseId),n=(r=t.databaseInfo,new ru(r));var r;return function(t,e,n,r){return new lu(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=t=>cc(this.syncEngine,t,0),o=tu.bt()?new tu:new Za,new fu(e,n,r,i,o);var e,n,r,i,o}createSyncEngine(t,e){return function(t,e,n,r,i,o,s){const a=new ic(t,e,n,r,i,o);return s&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=Pr(t);_r("RemoteStore","RemoteStore shutting down."),e.Gr.add(5),await pu(e),e.Hr.shutdown(),e.Jr.set("Unknown")}(this.remoteStore)}}class Ic{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ea(this.observer.next,t)}error(t){this.observer.error?this.ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}na(){this.muted=!0}ea(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class Cc{constructor(t,e,n,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=wr.UNAUTHENTICATED,this.clientId=$r.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{_r("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(()=>Promise.resolve()))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Or(Rr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Bu(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function kc(t,e){t.asyncQueue.verifyOperationInProgress(),_r("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await La(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}async function Pc(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Rc(t);_r("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener((t=>async function(t,e){const n=Pr(t);n.asyncQueue.verifyOperationInProgress(),_r("RemoteStore","RemoteStore received new credentials");const r=Eu(n);n.Gr.add(3),await pu(n),r&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Gr.delete(3),await du(n)}(e.remoteStore,t))),t.onlineComponents=e}async function Rc(t){return t.offlineComponents||(_r("FirestoreClient","Using default OfflineComponentProvider"),await kc(t,new xc)),t.offlineComponents}async function Oc(t){return t.onlineComponents||(_r("FirestoreClient","Using default OnlineComponentProvider"),await Pc(t,new Ac)),t.onlineComponents}function Nc(t){return Oc(t).then((t=>t.syncEngine))}async function Lc(t){const e=await Oc(t),n=e.eventManager;return n.onListen=oc.bind(null,e.syncEngine),n.onUnlisten=ac.bind(null,e.syncEngine),n}function Dc(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const o=new Ic({next:o=>{e.enqueueAndForget((()=>Gu(t,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Or(Rr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Or(Rr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:t=>i.reject(t)}),s=new Qu(Qi(n.path),o,{includeMetadataChanges:!0,wo:!0});return Ku(t,s)}(await Lc(t),t.asyncQueue,e,n,r))),r.promise}class Mc{constructor(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class Uc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Uc&&t.projectId===this.projectId&&t.database===this.database}}const Vc=new Map;function Fc(t,e,n){if(!n)throw new Or(Rr.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jc(t){if(!di.isDocumentKey(t))throw new Or(Rr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bc(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":Cr()}function zc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Or(Rr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bc(t);throw new Or(Rr.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class $c{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Or(Rr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Or(Rr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new Or(Rr.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hc{constructor(t,e,n){this._authCredentials=e,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $c({}),this._settingsFrozen=!1,t instanceof Uc?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Or(Rr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uc(t.options.projectId)}(t))}get app(){if(!this._app)throw new Or(Rr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Or(Rr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $c(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Dr;switch(t.type){case"gapi":const e=t.client;return kr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Vr(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Or(Rr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Vc.get(t);e&&(_r("ComponentProvider","Removing Datastore"),Vc.delete(t),e.terminate())}(this),Promise.resolve()}}class qc{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qc(this.firestore,t,this._key)}}class Wc{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Wc(this.firestore,t,this._query)}}class Kc extends Wc{constructor(t,e,n){super(t,e,Qi(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qc(this.firestore,null,new di(t))}withConverter(t){return new Kc(this.firestore,t,this._path)}}function Gc(t,e,...n){if(t=(0,a.m9)(t),1===arguments.length&&(e=$r.A()),Fc("doc","path",e),t instanceof Hc){const r=Qr.fromString(e,...n);return jc(r),new qc(t,null,new di(r))}{if(!(t instanceof qc||t instanceof Kc))throw new Or(Rr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qr.fromString(e,...n));return jc(r),new qc(t.firestore,t instanceof Kc?t.converter:null,new di(r))}}class Yc{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new su(this,"async_queue_retry"),this.Ra=()=>{const t=iu();t&&_r("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const t=iu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pa(),this.ba(t)}enterRestrictedMode(t){if(!this.ya){this.ya=!0,this.Ia=t||!1;const e=iu();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ra)}}enqueue(t){if(this.Pa(),this.ya)return new Promise((()=>{}));const e=new Nr;return this.ba((()=>this.ya&&this.Ia?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.ga.push(t),this.va())))}async va(){if(0!==this.ga.length){try{await this.ga[0](),this.ga.shift(),this.ur.reset()}catch(E){if(!ga(E))throw E;_r("AsyncQueue","Operation failed with retryable error: "+E)}this.ga.length>0&&this.ur.Zi((()=>this.va()))}}ba(t){const e=this.ma.then((()=>(this.Ea=!0,t().catch((t=>{this.Ta=t,this.Ea=!1;throw xr("INTERNAL UNHANDLED ERROR: ",function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((t=>(this.Ea=!1,t))))));return this.ma=e,e}enqueueAfterDelay(t,e,n){this.Pa(),this.Aa.indexOf(t)>-1&&(e=0);const r=ju.createAndSchedule(this,t,e,n,(t=>this.Va(t)));return this.pa.push(r),r}Pa(){this.Ta&&Cr()}verifyOperationInProgress(){}async Sa(){let t;do{t=this.ma,await t}while(t!==this.ma)}Da(t){for(const e of this.pa)if(e.timerId===t)return!0;return!1}Ca(t){return this.Sa().then((()=>{this.pa.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.pa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sa()}))}Na(t){this.Aa.push(t)}Va(t){const e=this.pa.indexOf(t);this.pa.splice(e,1)}}function Xc(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(t)}class Jc extends Hc{constructor(t,e,n){super(t,e,n),this.type="firestore",this._queue=new Yc,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||tl(this),this._firestoreClient.terminate()}}function Qc(t=(0,i.Mq)()){return(0,i.qX)(t,"firestore").getImmediate()}function Zc(t){return t._firestoreClient||tl(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tl(t){var e;const n=t._freezeSettings(),r=function(t,e,n,r){return new Mc(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Cc(t._authCredentials,t._appCheckCredentials,t._queue,r)}class el{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Or(Rr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class nl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new nl(ni.fromBase64String(t))}catch(t){throw new Or(Rr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new nl(ni.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class rl{constructor(t){this._methodName=t}}class il{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Or(Rr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Or(Rr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Hr(this._lat,t._lat)||Hr(this._long,t._long)}}const ol=/^__.*__$/;class sl{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Fo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Vo(t,this.data,e,this.fieldTransforms)}}class al{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Fo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function ul(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cr()}}class cl{constructor(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ka(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(t){return new cl(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$a({path:n,Oa:!1});return r.Ma(t),r}La(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$a({path:n,Oa:!1});return r.ka(),r}Ba(t){return this.$a({path:void 0,Oa:!0})}Ua(t){return Sl(t,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}ka(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ma(this.path.get(t))}Ma(t){if(0===t.length)throw this.Ua("Document fields must not be empty");if(ul(this.xa)&&ol.test(t))throw this.Ua('Document fields cannot begin and end with "__"')}}class ll{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=n||ou(t)}ja(t,e,n,r=!1){return new cl({xa:t,methodName:e,Ka:n,path:ti.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function hl(t){const e=t._freezeSettings(),n=ou(t._databaseId);return new ll(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fl(t,e,n,r,i,o={}){const s=t.ja(o.merge||o.mergeFields?2:0,e,n,i);bl("Data must be an object, but it was:",s,r);const a=vl(r,s);let u,c;if(o.merge)u=new ei(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const t=[];for(const r of o.mergeFields){const i=wl(e,r,n);if(!s.contains(i))throw new Or(Rr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);_l(t,i)||t.push(i)}u=new ei(t),c=s.fieldTransforms.filter((t=>u.covers(t.field)))}else u=null,c=s.fieldTransforms;return new sl(new Ii(a),u,c)}class dl extends rl{_toFieldTransform(t){if(2!==t.xa)throw 1===t.xa?t.Ua(`${this._methodName}() can only appear at the top level of your update data`):t.Ua(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof dl}}function pl(t,e,n,r){const i=t.ja(1,e,n);bl("Data must be an object, but it was:",i,r);const o=[],s=Ii.empty();Yr(r,((t,r)=>{const u=Tl(e,t,n);r=(0,a.m9)(r);const c=i.La(u);if(r instanceof dl)o.push(u);else{const t=gl(r,c);null!=t&&(o.push(u),s.set(u,t))}}));const u=new ei(o);return new al(s,u,i.fieldTransforms)}function ml(t,e,n,r,i,o){const s=t.ja(1,e,n),u=[wl(e,r,n)],c=[i];if(o.length%2!=0)throw new Or(Rr.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<o.length;a+=2)u.push(wl(e,o[a])),c.push(o[a+1]);const l=[],h=Ii.empty();for(let d=u.length-1;d>=0;--d)if(!_l(l,u[d])){const t=u[d];let e=c[d];e=(0,a.m9)(e);const n=s.La(t);if(e instanceof dl)l.push(t);else{const r=gl(e,n);null!=r&&(l.push(t),h.set(t,r))}}const f=new ei(l);return new al(h,f,s.fieldTransforms)}function gl(t,e){if(yl(t=(0,a.m9)(t)))return bl("Unsupported field value:",e,t),vl(t,e);if(t instanceof rl)return function(t,e){if(!ul(e.xa))throw e.Ua(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Ua(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=gl(i,e.Ba(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,a.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return go(e.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Wr.fromDate(t);return{timestampValue:Ss(e.k,n)}}if(t instanceof Wr){const n=new Wr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ss(e.k,n)}}if(t instanceof il)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof nl)return{bytesValue:_s(e.k,t._byteString)};if(t instanceof qc){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Ua(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Is(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Ua(`Unsupported field value: ${Bc(t)}`)}(t,e)}function vl(t,e){const n={};return Xr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(t,((t,r)=>{const i=gl(r,e.Fa(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function yl(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Wr||t instanceof il||t instanceof nl||t instanceof qc||t instanceof rl)}function bl(t,e,n){if(!yl(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=Bc(n);throw"an object"===r?e.Ua(t+" a custom object"):e.Ua(t+" "+r)}}function wl(t,e,n){if((e=(0,a.m9)(e))instanceof el)return e._internalPath;if("string"==typeof e)return Tl(t,e);throw Sl("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const El=new RegExp("[~\\*/\\[\\]]");function Tl(t,e,n){if(e.search(El)>=0)throw Sl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new el(...e.split("."))._internalPath}catch(r){throw Sl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sl(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Or(Rr.INVALID_ARGUMENT,a+t+u)}function _l(t,e){return t.some((t=>t.isEqual(e)))}class xl{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Al(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Il("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Al extends xl{data(){return super.data()}}function Il(t,e){return"string"==typeof e?Tl(t,e):e instanceof el?e._internalPath:e._delegate._internalPath}class Cl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kl extends xl{constructor(t,e,n,r,i,o){super(t,e,n,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Pl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Il("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Pl extends kl{data(t={}){return super.data(t)}}class Rl{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Cl(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Pl(this._firestore,this._userDataWriter,n.key,n,new Cl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Or(Rr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>({type:"added",doc:new Pl(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Cl(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++})))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new Pl(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Cl(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,o=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),o=n.indexOf(e.doc.key)),{type:Ol(e.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Ol(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cr()}}function Nl(t){if(to(t)&&0===t.explicitOrderBy.length)throw new Or(Rr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ll{convertValue(t,e="none"){switch(pi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return oi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(si(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Cr()}}convertObject(t,e){const n={};return Yr(t.fields,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertGeoPoint(t){return new il(oi(t.latitude),oi(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=ui(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ci(t));default:return null}}convertTimestamp(t){const e=ii(t);return new Wr(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Qr.fromString(t);kr(Xs(n));const r=new Uc(n.get(1),n.get(3)),i=new di(n.popFirst(5));return r.isEqual(e)||xr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}function Dl(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ml{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=hl(t)}set(t,e,n){this._verifyNotCommitted();const r=Ul(t,this._firestore),i=Dl(r.converter,e,n),o=fl(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Po.none())),this}update(t,e,n,...r){this._verifyNotCommitted();const i=Ul(t,this._firestore);let o;return o="string"==typeof(e=(0,a.m9)(e))||e instanceof el?ml(this._dataReader,"WriteBatch.update",i._key,e,n,r):pl(this._dataReader,"WriteBatch.update",i._key,e),this._mutations.push(o.toMutation(i._key,Po.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ul(t,this._firestore);return this._mutations=this._mutations.concat(new $o(e._key,Po.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Or(Rr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ul(t,e){if((t=(0,a.m9)(t)).firestore!==e)throw new Or(Rr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Vl(t){t=zc(t,qc);const e=zc(t.firestore,Jc);return Dc(Zc(e),t._key).then((n=>zl(e,t,n)))}class Fl extends Ll{constructor(t){super(),this.firestore=t}convertBytes(t){return new nl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new qc(this.firestore,null,e)}}function jl(t,...e){var n,r,i;t=(0,a.m9)(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||Xc(e[s])||(o=e[s],s++);const u={includeMetadataChanges:o.includeMetadataChanges};if(Xc(e[s])){const t=e[s];e[s]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[s+1]=null===(r=t.error)||void 0===r?void 0:r.bind(t),e[s+2]=null===(i=t.complete)||void 0===i?void 0:i.bind(t)}let c,l,h;if(t instanceof qc)l=zc(t.firestore,Jc),h=Qi(t._key.path),c={next:n=>{e[s]&&e[s](zl(l,t,n))},error:e[s+1],complete:e[s+2]};else{const n=zc(t,Wc);l=zc(n.firestore,Jc),h=n._query;const r=new Fl(l);c={next:t=>{e[s]&&e[s](new Rl(l,r,n,t))},error:e[s+1],complete:e[s+2]},Nl(t._query)}return function(t,e,n,r){const i=new Ic(r),o=new Qu(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>Ku(await Lc(t),o))),()=>{i.na(),t.asyncQueue.enqueueAndForget((async()=>Gu(await Lc(t),o)))}}(Zc(l),h,u,c)}function Bl(t,e){return function(t,e){const n=new Nr;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=_c(t);try{const t=await function(t,e){const n=Pr(t),r=Wr.now(),i=e.reduce(((t,e)=>t.add(e.key)),us());let o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>n.Wn.vn(t,i).next((i=>{o=i;const s=[];for(const t of e){const e=Do(t,o.get(t.key));null!=e&&s.push(new Fo(t.key,e,Ci(e.value.mapValue),Po.exists(!0)))}return n.An.addMutationBatch(t,r,s,e)})))).then((t=>(t.applyToLocalDocumentSet(o),{batchId:t.batchId,changes:o})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.Ko[t.currentUser.toKey()];r||(r=new Xo(Hr)),r=r.insert(e,n),t.Ko[t.currentUser.toKey()]=r}(r,t.batchId,n),await wc(r,t.changes),await Cu(r.remoteStore)}catch(t){const e=Bu(t,"Failed to persist write");n.reject(e)}}(await Nc(t),e,n))),n.promise}(Zc(t),e)}function zl(t,e,n){const r=n.docs.get(e._key),i=new Fl(t);return new kl(t,i,e._key,r,new Cl(n.hasPendingWrites,n.fromCache),e.converter)}function $l(t){return Zc(t=zc(t,Jc)),new Ml(t,(e=>Bl(t,e)))}!function(t,e=!0){!function(t){Er=t}(i.Jn),(0,i.Xd)(new o.wA("firestore",((t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=new Jc(r,new Mr(t.getProvider("auth-internal")),new jr(t.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:e},n),i._setSettings(n),i}),"PUBLIC")),(0,i.KN)(br,"3.4.0",t),(0,i.KN)(br,"3.4.0","esm2017")}()},645:function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*m}},425:function(t,e,n){"use strict";n.d(e,{f:function(){return h},F:function(){return l}});var r=n(4298),i=n(7294),o=n(8764).Buffer;const s=["light","dark"],a="(prefers-color-scheme: dark)",u="undefined"==typeof window,c=(0,i.createContext)({setTheme:t=>{},themes:[]}),l=()=>(0,i.useContext)(c),h=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:o="theme",themes:u=["light","dark"],defaultTheme:l=(n?"system":"light"),attribute:h="data-theme",value:g,children:v,nonce:y})=>{const[b,w]=(0,i.useState)((()=>d(o,l))),[E,T]=(0,i.useState)((()=>d(o))),S=g?Object.values(g):u,_=(0,i.useCallback)((t=>{let i=t;"system"===t&&n&&(i=m());const o=g?g[i]:i,a=e?p():null,u=document.documentElement;if("class"===h?(u.classList.remove(...S),o&&u.classList.add(o)):o?u.setAttribute(h,o):u.removeAttribute(h),r){const t=s.includes(l)?l:null,e=s.includes(i)?i:t;u.style.colorScheme=e}null==a||a()}),[]),x=(0,i.useCallback)((t=>{w(t);try{localStorage.setItem(o,t)}catch(t){}}),[t]),A=(0,i.useCallback)((e=>{const r=m(e);T(r),"system"===b&&n&&!t&&_("system")}),[b,t]);return(0,i.useEffect)((()=>{const t=window.matchMedia(a);return t.addListener(A),A(t),()=>t.removeListener(A)}),[A]),(0,i.useEffect)((()=>{const t=t=>{t.key===o&&x(t.newValue||l)};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)}),[x]),(0,i.useEffect)((()=>{_(null!=t?t:b)}),[t,b]),i.createElement(c.Provider,{value:{theme:b,setTheme:x,forcedTheme:t,resolvedTheme:"system"===b?E:b,themes:n?[...u,"system"]:u,systemTheme:n?E:void 0}},i.createElement(f,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:r,storageKey:o,themes:u,defaultTheme:l,attribute:h,value:g,children:v,attrs:S,nonce:y}),v)},f=(0,i.memo)((({forcedTheme:t,storageKey:e,attribute:n,enableSystem:o,enableColorScheme:u,defaultTheme:c,value:l,attrs:h,nonce:f})=>{const d="system"===c,p="class"===n?`var d=document.documentElement.classList;d.remove(${h.map((t=>`'${t}'`)).join(",")});`:`var d=document.documentElement;var n='${n}';var s = 'setAttribute';`,m=u?s.includes(c)&&c?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${c}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",v=(t,e=!1,r=!0)=>{const i=l?l[t]:t,o=e?t+"|| ''":`'${i}'`;let a="";return u&&r&&!e&&s.includes(t)&&(a+=`d.style.colorScheme = '${t}';`),"class"===n?a+=e||i?`d.add(${o})`:"null":i&&(a+=`d[s](n, ${o})`),a},y=t?`!function(){${p}${v(t)}}()`:o?`!function(){try {${p}var e=localStorage.getItem('${e}');if("system"===e||(!e&&${d})){var t="${a}",m=window.matchMedia(t);if(m.media!==t||m.matches){${v("dark")}}else{${v("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${v(l?"x[e]":"e",!0)}}${d?"":"else{"+v(c,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem("${e}");if(e){${l?`var x=${JSON.stringify(l)};`:""}${v(l?"x[e]":"e",!0)}}else{${v(c,!1,!1)};}${m}}catch(t){}}();`,b="data:text/javascript;base64,"+g(y);return i.createElement(r.default,{id:"next-themes-script",strategy:"beforeInteractive",src:b,nonce:f})}),(()=>!0)),d=(t,e)=>{if(u)return;let n;try{n=localStorage.getItem(t)||void 0}catch(t){}return n||e},p=()=>{const t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout((()=>{document.head.removeChild(t)}),1)}},m=t=>(t||(t=window.matchMedia(a)),t.matches?"dark":"light"),g=t=>u?o.from(t).toString("base64"):btoa(t)},1780:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(2070)}])},9863:function(t,e,n){"use strict";n.d(e,{S:function(){return r}});var r=(0,n(7294).createContext)({user:null,username:null})},8529:function(t,e,n){"use strict";n.d(e,{I8:function(){return a}});var r=n(2238);(0,r.KN)("firebase","9.6.0","app");var i=n(4737),o=n(5321),s=(0,r.ZF)({apiKey:"AIzaSyCQpUNUWegRAe2EXJ9UTW7ZnyKi98X1_SU",authDomain:"gomez-properties-web-app.firebaseapp.com",projectId:"gomez-properties-web-app",storageBucket:"gomez-properties-web-app.appspot.com",messagingSenderId:"544758514039",appId:"1:544758514039:web:085da2232c15924ed3e172"}),a=(0,i.v0)(s);(0,o.ad)(s)},2070:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return E}});var r=n(5893),i=(n(906),n(4930)),o=n(425),s=n(4931),a=n(9863),u=n(5321),c=n(8529),l=n(7294),h=n(4737);function f(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function d(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},m=function(t){return{loading:void 0===t||null===t,value:t}},g=function(t){var e=t?t():void 0,n=(0,l.useReducer)((function(t,e){switch(e.type){case"error":return p(p({},t),{error:e.error,loading:!1,value:void 0});case"reset":return m(e.defaultValue);case"value":return p(p({},t),{error:void 0,loading:!1,value:e.value});default:return t}}),m(e)),r=n[0],i=n[1],o=function(){var e=t?t():void 0;i({type:"reset",defaultValue:e})},s=function(t){i({type:"error",error:t})},a=function(t){i({type:"value",value:t})};return(0,l.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:s,setValue:a,value:r.value}}),[r.error,r.loading,o,s,a,r.value])};function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(){var t=v(function(t,e){var n=g((function(){return t.currentUser})),r=n.error,i=n.loading,o=n.setError,s=n.setValue,a=n.value;(0,l.useEffect)((function(){var n=(0,h.Aj)(t,(function(t){return f(void 0,void 0,void 0,(function(){var n;return d(this,(function(r){switch(r.label){case 0:if(!(null===e||void 0===e?void 0:e.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.onUserChanged(t)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return s(t),[2]}}))}))}),o);return function(){n()}}),[t]);var u=[a,i,r];return(0,l.useMemo)((function(){return u}),u)}(c.I8),1)[0],e=(0,l.useState)(null),n=e[0],r=e[1];return(0,l.useEffect)((function(){var e;if(t){var n=(0,u.JU)((0,u.ad)(),"users",t.uid);e=(0,u.cf)(n,(function(t){var e;r(null===(e=t.data())||void 0===e?void 0:e.username)}))}else r(null);return e}),[t]),{user:t,username:n}}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){b(t,e,n[e])}))}return t}var E=function(t){var e=t.Component,n=t.pageProps,u=y();return(0,r.jsx)(o.f,{attribute:"class",children:(0,r.jsx)(a.S.Provider,{value:u,children:(0,r.jsxs)(i.ZP,{children:[(0,r.jsx)(e,w({},n)),(0,r.jsx)(s.x7,{})]})})})}},906:function(){},4298:function(t,e,n){t.exports=n(699)},4931:function(t,e,n){"use strict";n.d(e,{x7:function(){return vt},ZP:function(){return yt}});var r=n(7294);let i={data:""},o=t=>"object"==typeof window?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||i,s=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|\s\s+|\n/g,u=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];"@"==o[0]?"i"==o[1]?n=o+" "+s+";":r+="f"==o[1]?u(s,o):o+"{"+u(s,"k"==o[1]?"":e)+"}":"object"==typeof s?r+=u(s,e?e.replace(/([^,])+/g,(t=>o.replace(/(^:.*)|([^,])+/g,(e=>/&/.test(e)?e.replace(/&/g,t):t?t+" "+e:e)))):o):null!=s&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=u.p?u.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},c={},l=t=>{if("object"==typeof t){let e="";for(let n in t)e+=n+l(t[n]);return e}return t},h=(t,e,n,r,i)=>{let o=l(t),h=c[o]||(c[o]=(t=>{let e=0,n=11;for(;e<t.length;)n=101*n+t.charCodeAt(e++)>>>0;return"go"+n})(o));if(!c[h]){let e=o!==t?t:(t=>{let e,n=[{}];for(;e=s.exec(t.replace(a,""));)e[4]?n.shift():e[3]?n.unshift(n[0][e[3]]=n[0][e[3]]||{}):n[0][e[1]]=e[2];return n[0]})(t);c[h]=u(i?{["@keyframes "+h]:e}:e,n?"":"."+h)}return((t,e,n)=>{-1==e.data.indexOf(t)&&(e.data=n?t+e.data:e.data+t)})(c[h],e,r),h},f=(t,e,n)=>t.reduce(((t,r,i)=>{let o=e[i];if(o&&o.call){let t=o(n),e=t&&t.props&&t.props.className||/^go/.test(t)&&t;o=e?"."+e:t&&"object"==typeof t?t.props?"":u(t,""):!1===t?"":t}return t+r+(null==o?"":o)}),"");function d(t){let e=this||{},n=t.call?t(e.p):t;return h(n.unshift?n.raw?f(n,[].slice.call(arguments,1),e.p):n.reduce(((t,n)=>Object.assign(t,n&&n.call?n(e.p):n)),{}):n,o(e.target),e.g,e.o,e.k)}d.bind({g:1});let p,m,g,v=d.bind({k:1});function y(t,e){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),u=a.className||i.className;n.p=Object.assign({theme:m&&m()},a),n.o=/ *go\d+/.test(u),a.className=d.apply(n,r)+(u?" "+u:""),e&&(a.ref=s);let c=t;return t[0]&&(c=a.as||t,delete a.as),g&&c[0]&&g(a),p(c,a)}return e?e(i):i}}function b(){return(b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function w(t,e){return e||(e=t.slice(0)),t.raw=e,t}var E,T=function(t,e){return function(t){return"function"===typeof t}(t)?t(e):t},S=function(){var t=0;return function(){return(++t).toString()}}(),_=function(){var t=void 0;return function(){if(void 0===t&&"undefined"!==typeof window){var e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}}();!function(t){t[t.ADD_TOAST=0]="ADD_TOAST",t[t.UPDATE_TOAST=1]="UPDATE_TOAST",t[t.UPSERT_TOAST=2]="UPSERT_TOAST",t[t.DISMISS_TOAST=3]="DISMISS_TOAST",t[t.REMOVE_TOAST=4]="REMOVE_TOAST",t[t.START_PAUSE=5]="START_PAUSE",t[t.END_PAUSE=6]="END_PAUSE"}(E||(E={}));var x=new Map,A=function(t){if(!x.has(t)){var e=setTimeout((function(){x.delete(t),P({type:E.REMOVE_TOAST,toastId:t})}),1e3);x.set(t,e)}},I=function t(e,n){switch(n.type){case E.ADD_TOAST:return b({},e,{toasts:[n.toast].concat(e.toasts).slice(0,20)});case E.UPDATE_TOAST:return n.toast.id&&function(t){var e=x.get(t);e&&clearTimeout(e)}(n.toast.id),b({},e,{toasts:e.toasts.map((function(t){return t.id===n.toast.id?b({},t,n.toast):t}))});case E.UPSERT_TOAST:var r=n.toast;return e.toasts.find((function(t){return t.id===r.id}))?t(e,{type:E.UPDATE_TOAST,toast:r}):t(e,{type:E.ADD_TOAST,toast:r});case E.DISMISS_TOAST:var i=n.toastId;return i?A(i):e.toasts.forEach((function(t){A(t.id)})),b({},e,{toasts:e.toasts.map((function(t){return t.id===i||void 0===i?b({},t,{visible:!1}):t}))});case E.REMOVE_TOAST:return void 0===n.toastId?b({},e,{toasts:[]}):b({},e,{toasts:e.toasts.filter((function(t){return t.id!==n.toastId}))});case E.START_PAUSE:return b({},e,{pausedAt:n.time});case E.END_PAUSE:var o=n.time-(e.pausedAt||0);return b({},e,{pausedAt:void 0,toasts:e.toasts.map((function(t){return b({},t,{pauseDuration:t.pauseDuration+o})}))})}},C=[],k={toasts:[],pausedAt:void 0},P=function(t){k=I(k,t),C.forEach((function(t){t(k)}))},R={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},O=function(t){return function(e,n){var r=function(t,e,n){return void 0===e&&(e="blank"),b({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0},n,{id:(null==n?void 0:n.id)||S()})}(e,t,n);return P({type:E.UPSERT_TOAST,toast:r}),r.id}},N=function(t,e){return O("blank")(t,e)};N.error=O("error"),N.success=O("success"),N.loading=O("loading"),N.custom=O("custom"),N.dismiss=function(t){P({type:E.DISMISS_TOAST,toastId:t})},N.remove=function(t){return P({type:E.REMOVE_TOAST,toastId:t})},N.promise=function(t,e,n){var r=N.loading(e.loading,b({},n,null==n?void 0:n.loading));return t.then((function(t){return N.success(T(e.success,t),b({id:r},n,null==n?void 0:n.success)),t})).catch((function(t){N.error(T(e.error,t),b({id:r},n,null==n?void 0:n.error))})),t};var L=function(t){var e=function(t){void 0===t&&(t={});var e=(0,r.useState)(k),n=e[0],i=e[1];(0,r.useEffect)((function(){return C.push(i),function(){var t=C.indexOf(i);t>-1&&C.splice(t,1)}}),[n]);var o=n.toasts.map((function(e){var n,r,i;return b({},t,t[e.type],e,{duration:e.duration||(null==(n=t[e.type])?void 0:n.duration)||(null==(r=t)?void 0:r.duration)||R[e.type],style:b({},t.style,null==(i=t[e.type])?void 0:i.style,e.style)})}));return b({},n,{toasts:o})}(t),n=e.toasts,i=e.pausedAt;(0,r.useEffect)((function(){if(!i){var t=Date.now(),e=n.map((function(e){if(e.duration!==1/0){var n=(e.duration||0)+e.pauseDuration-(t-e.createdAt);if(!(n<0))return setTimeout((function(){return N.dismiss(e.id)}),n);e.visible&&N.dismiss(e.id)}}));return function(){e.forEach((function(t){return t&&clearTimeout(t)}))}}}),[n,i]);var o=(0,r.useMemo)((function(){return{startPause:function(){P({type:E.START_PAUSE,time:Date.now()})},endPause:function(){i&&P({type:E.END_PAUSE,time:Date.now()})},updateHeight:function(t,e){return P({type:E.UPDATE_TOAST,toast:{id:t,height:e}})},calculateOffset:function(t,e){var r,i=e||{},o=i.reverseOrder,s=void 0!==o&&o,a=i.gutter,u=void 0===a?8:a,c=i.defaultPosition,l=n.filter((function(e){return(e.position||c)===(t.position||c)&&e.height})),h=l.findIndex((function(e){return e.id===t.id})),f=l.filter((function(t,e){return e<h&&t.visible})).length;return(r=l.filter((function(t){return t.visible}))).slice.apply(r,s?[f+1]:[0,f]).reduce((function(t,e){return t+(e.height||0)+u}),0)}}}),[n,i]);return{toasts:n,handlers:o}};function D(){var t=w(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"]);return D=function(){return t},t}function M(){var t=w(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]);return M=function(){return t},t}function U(){var t=w(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]);return U=function(){return t},t}function V(){var t=w(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]);return V=function(){return t},t}var F=v(V()),j=v(U()),B=v(M()),z=y("div")(D(),(function(t){return t.primary||"#ff4b4b"}),F,j,(function(t){return t.secondary||"#fff"}),B);function $(){var t=w(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"]);return $=function(){return t},t}function H(){var t=w(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);return H=function(){return t},t}var q=v(H()),W=y("div")($(),(function(t){return t.secondary||"#e0e0e0"}),(function(t){return t.primary||"#616161"}),q);function K(){var t=w(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"]);return K=function(){return t},t}function G(){var t=w(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]);return G=function(){return t},t}function Y(){var t=w(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]);return Y=function(){return t},t}var X=v(Y()),J=v(G()),Q=y("div")(K(),(function(t){return t.primary||"#61d345"}),X,J,(function(t){return t.secondary||"#fff"}));function Z(){var t=w(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"]);return Z=function(){return t},t}function tt(){var t=w(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]);return tt=function(){return t},t}function et(){var t=w(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]);return et=function(){return t},t}function nt(){var t=w(["\n  position: absolute;\n"]);return nt=function(){return t},t}var rt=y("div")(nt()),it=y("div")(et()),ot=v(tt()),st=y("div")(Z(),ot),at=function(t){var e=t.toast,n=e.icon,i=e.type,o=e.iconTheme;return void 0!==n?"string"===typeof n?(0,r.createElement)(st,null,n):n:"blank"===i?null:(0,r.createElement)(it,null,(0,r.createElement)(W,Object.assign({},o)),"loading"!==i&&(0,r.createElement)(rt,null,"error"===i?(0,r.createElement)(z,Object.assign({},o)):(0,r.createElement)(Q,Object.assign({},o))))};function ut(){var t=w(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]);return ut=function(){return t},t}function ct(){var t=w(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]);return ct=function(){return t},t}var lt=function(t){return"\n0% {transform: translate3d(0,"+-200*t+"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"},ht=function(t){return"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,"+-150*t+"%,-1px) scale(.6); opacity:0;}\n"},ft=y("div",r.forwardRef)(ct()),dt=y("div")(ut()),pt=(0,r.memo)((function(t){var e=t.toast,n=t.position,i=t.style,o=t.children,s=null!=e&&e.height?function(t,e){var n=t.includes("top")?1:-1,r=_()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[lt(n),ht(n)],i=r[1];return{animation:e?v(r[0])+" 0.35s cubic-bezier(.21,1.02,.73,1) forwards":v(i)+" 0.4s forwards cubic-bezier(.06,.71,.55,1)"}}(e.position||n||"top-center",e.visible):{opacity:0},a=(0,r.createElement)(at,{toast:e}),u=(0,r.createElement)(dt,Object.assign({},e.ariaProps),T(e.message,e));return(0,r.createElement)(ft,{className:e.className,style:b({},s,i,e.style)},"function"===typeof o?o({icon:a,message:u}):(0,r.createElement)(r.Fragment,null,a,u))}));function mt(){var t=w(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]);return mt=function(){return t},t}!function(t,e,n,r){u.p=e,p=t,m=n,g=r}(r.createElement);var gt=d(mt()),vt=function(t){var e=t.reverseOrder,n=t.position,i=void 0===n?"top-center":n,o=t.toastOptions,s=t.gutter,a=t.children,u=t.containerStyle,c=t.containerClassName,l=L(o),h=l.toasts,f=l.handlers;return(0,r.createElement)("div",{style:b({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},u),className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},h.map((function(t){var n,o=t.position||i,u=function(t,e){var n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return b({left:0,right:0,display:"flex",position:"absolute",transition:_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY("+e*(n?1:-1)+"px)"},r,i)}(o,f.calculateOffset(t,{reverseOrder:e,gutter:s,defaultPosition:i})),c=t.height?void 0:(n=function(e){f.updateHeight(t.id,e.height)},function(t){t&&setTimeout((function(){var e=t.getBoundingClientRect();n(e)}))});return(0,r.createElement)("div",{ref:c,className:t.visible?gt:"",key:t.id,style:u},"custom"===t.type?T(t.message,t):a?a(t):(0,r.createElement)(pt,{toast:t,position:o}))})))},yt=N},4930:function(t,e,n){"use strict";n.d(e,{Iv:function(){return bt},ZP:function(){return Tf}});var r=n(7294),i=n(4155),o=n.n(i),s=n(3935),a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{},u={exports:{}},c={exports:{}},l={},h="function"==typeof Symbol&&Symbol.for,f=h?Symbol.for("react.element"):60103,d=h?Symbol.for("react.portal"):60106,p=h?Symbol.for("react.fragment"):60107,m=h?Symbol.for("react.strict_mode"):60108,g=h?Symbol.for("react.profiler"):60114,v=h?Symbol.for("react.provider"):60109,y=h?Symbol.for("react.context"):60110,b=h?Symbol.for("react.async_mode"):60111,w=h?Symbol.for("react.concurrent_mode"):60111,E=h?Symbol.for("react.forward_ref"):60112,T=h?Symbol.for("react.suspense"):60113,S=h?Symbol.for("react.suspense_list"):60120,_=h?Symbol.for("react.memo"):60115,x=h?Symbol.for("react.lazy"):60116,A=h?Symbol.for("react.block"):60121,I=h?Symbol.for("react.fundamental"):60117,C=h?Symbol.for("react.responder"):60118,k=h?Symbol.for("react.scope"):60119;function P(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case f:switch(t=t.type){case b:case w:case p:case g:case m:case T:return t;default:switch(t=t&&t.$$typeof){case y:case E:case x:case _:case v:return t;default:return e}}case d:return e}}}function R(t){return P(t)===w}l.AsyncMode=b,l.ConcurrentMode=w,l.ContextConsumer=y,l.ContextProvider=v,l.Element=f,l.ForwardRef=E,l.Fragment=p,l.Lazy=x,l.Memo=_,l.Portal=d,l.Profiler=g,l.StrictMode=m,l.Suspense=T,l.isAsyncMode=function(t){return R(t)||P(t)===b},l.isConcurrentMode=R,l.isContextConsumer=function(t){return P(t)===y},l.isContextProvider=function(t){return P(t)===v},l.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===f},l.isForwardRef=function(t){return P(t)===E},l.isFragment=function(t){return P(t)===p},l.isLazy=function(t){return P(t)===x},l.isMemo=function(t){return P(t)===_},l.isPortal=function(t){return P(t)===d},l.isProfiler=function(t){return P(t)===g},l.isStrictMode=function(t){return P(t)===m},l.isSuspense=function(t){return P(t)===T},l.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===p||t===w||t===g||t===m||t===T||t===S||"object"==typeof t&&null!==t&&(t.$$typeof===x||t.$$typeof===_||t.$$typeof===v||t.$$typeof===y||t.$$typeof===E||t.$$typeof===I||t.$$typeof===C||t.$$typeof===k||t.$$typeof===A)},l.typeOf=P;var O={};"production"!==o().env.NODE_ENV&&function(){var t="function"==typeof Symbol&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,l=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,f=t?Symbol.for("react.suspense_list"):60120,d=t?Symbol.for("react.memo"):60115,p=t?Symbol.for("react.lazy"):60116,m=t?Symbol.for("react.block"):60121,g=t?Symbol.for("react.fundamental"):60117,v=t?Symbol.for("react.responder"):60118,y=t?Symbol.for("react.scope"):60119;function b(t){if("object"==typeof t&&null!==t){var f=t.$$typeof;switch(f){case e:var m=t.type;switch(m){case u:case c:case r:case o:case i:case h:return m;default:var g=m&&m.$$typeof;switch(g){case a:case l:case p:case d:case s:return g;default:return f}}case n:return f}}}var w=u,E=c,T=a,S=s,_=e,x=l,A=r,I=p,C=d,k=n,P=o,R=i,N=h,L=!1;function D(t){return b(t)===c}O.AsyncMode=w,O.ConcurrentMode=E,O.ContextConsumer=T,O.ContextProvider=S,O.Element=_,O.ForwardRef=x,O.Fragment=A,O.Lazy=I,O.Memo=C,O.Portal=k,O.Profiler=P,O.StrictMode=R,O.Suspense=N,O.isAsyncMode=function(t){return L||(L=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),D(t)||b(t)===u},O.isConcurrentMode=D,O.isContextConsumer=function(t){return b(t)===a},O.isContextProvider=function(t){return b(t)===s},O.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},O.isForwardRef=function(t){return b(t)===l},O.isFragment=function(t){return b(t)===r},O.isLazy=function(t){return b(t)===p},O.isMemo=function(t){return b(t)===d},O.isPortal=function(t){return b(t)===n},O.isProfiler=function(t){return b(t)===o},O.isStrictMode=function(t){return b(t)===i},O.isSuspense=function(t){return b(t)===h},O.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===r||t===c||t===o||t===i||t===h||t===f||"object"==typeof t&&null!==t&&(t.$$typeof===p||t.$$typeof===d||t.$$typeof===s||t.$$typeof===a||t.$$typeof===l||t.$$typeof===g||t.$$typeof===v||t.$$typeof===y||t.$$typeof===m)},O.typeOf=b}(),"production"===o().env.NODE_ENV?c.exports=l:c.exports=O;var N=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;function M(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var U=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,i=M(t),o=1;o<arguments.length;o++){for(var s in n=Object(arguments[o]))L.call(n,s)&&(i[s]=n[s]);if(N){r=N(n);for(var a=0;a<r.length;a++)D.call(n,r[a])&&(i[r[a]]=n[r[a]])}}return i},V="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",F=function(){};if("production"!==o().env.NODE_ENV){var j=V,B={},z=Function.call.bind(Object.prototype.hasOwnProperty);F=function(t){var e="Warning: "+t;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(t){}}}function $(t,e,n,r,i){if("production"!==o().env.NODE_ENV)for(var s in t)if(z(t,s)){var a;try{if("function"!=typeof t[s]){var u=Error((r||"React class")+": "+n+" type `"+s+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof t[s]+"`.");throw u.name="Invariant Violation",u}a=t[s](e,s,r,n,null,j)}catch(t){a=t}if(!a||a instanceof Error||F((r||"React class")+": type specification of "+n+" `"+s+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in B)){B[a.message]=!0;var c=i?i():"";F("Failed "+n+" type: "+a.message+(null!=c?c:""))}}}$.resetWarningCache=function(){"production"!==o().env.NODE_ENV&&(B={})};var H=$,q=c.exports,W=U,K=V,G=H,Y=Function.call.bind(Object.prototype.hasOwnProperty),X=function(){};function J(){return null}function Q(){}function Z(){}if("production"!==o().env.NODE_ENV&&(X=function(t){var e="Warning: "+t;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(t){}}),Z.resetWarningCache=Q,"production"!==o().env.NODE_ENV){var tt=c.exports;u.exports=function(t,e){var n="function"==typeof Symbol&&Symbol.iterator,r="<<anonymous>>",i={array:c("array"),bool:c("boolean"),func:c("function"),number:c("number"),object:c("object"),string:c("string"),symbol:c("symbol"),any:u(J),arrayOf:function(t){return u((function(e,n,r,i,o){if("function"!=typeof t)return new a("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=e[n];if(!Array.isArray(s))return new a("Invalid "+i+" `"+o+"` of type `"+h(s)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<s.length;u++){var c=t(s,u,r,i,o+"["+u+"]",K);if(c instanceof Error)return c}return null}))},element:u((function(e,n,r,i,o){var s=e[n];return t(s)?null:new a("Invalid "+i+" `"+o+"` of type `"+h(s)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:u((function(t,e,n,r,i){var o=t[e];return q.isValidElementType(o)?null:new a("Invalid "+r+" `"+i+"` of type `"+h(o)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(t){return u((function(e,n,i,o,s){if(!(e[n]instanceof t)){var u=t.name||r;return new a("Invalid "+o+" `"+s+"` of type `"+((c=e[n]).constructor&&c.constructor.name?c.constructor.name:r)+"` supplied to `"+i+"`, expected instance of `"+u+"`.")}var c;return null}))},node:u((function(t,e,n,r,i){return l(t[e])?null:new a("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(t){return u((function(e,n,r,i,o){if("function"!=typeof t)return new a("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=e[n],u=h(s);if("object"!==u)return new a("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in s)if(Y(s,c)){var l=t(s,c,r,i,o+"."+c,K);if(l instanceof Error)return l}return null}))},oneOf:function(t){if(!Array.isArray(t))return"production"!==o().env.NODE_ENV&&X(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),J;function e(e,n,r,i,o){for(var u=e[n],c=0;c<t.length;c++)if(s(u,t[c]))return null;var l=JSON.stringify(t,(function(t,e){return"symbol"===f(e)?String(e):e}));return new a("Invalid "+i+" `"+o+"` of value `"+String(u)+"` supplied to `"+r+"`, expected one of "+l+".")}return u(e)},oneOfType:function(t){if(!Array.isArray(t))return"production"!==o().env.NODE_ENV&&X("Invalid argument supplied to oneOfType, expected an instance of array."),J;for(var e=0;e<t.length;e++){var n=t[e];if("function"!=typeof n)return X("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+d(n)+" at index "+e+"."),J}return u((function(e,n,r,i,o){for(var s=0;s<t.length;s++)if(null==(0,t[s])(e,n,r,i,o,K))return null;return new a("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}))},shape:function(t){return u((function(e,n,r,i,o){var s=e[n],u=h(s);if("object"!==u)return new a("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in t){var l=t[c];if(l){var f=l(s,c,r,i,o+"."+c,K);if(f)return f}}return null}))},exact:function(t){return u((function(e,n,r,i,o){var s=e[n],u=h(s);if("object"!==u)return new a("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");var c=W({},e[n],t);for(var l in c){var f=t[l];if(!f)return new a("Invalid "+i+" `"+o+"` key `"+l+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var d=f(s,l,r,i,o+"."+l,K);if(d)return d}return null}))}};function s(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function a(t){this.message=t,this.stack=""}function u(t){if("production"!==o().env.NODE_ENV);function e(e,n,i,o,s,u,c){if(o=o||r,u=u||i,c!==K){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}return null==n[i]?e?null===n[i]?new a("The "+s+" `"+u+"` is marked as required in `"+o+"`, but its value is `null`."):new a("The "+s+" `"+u+"` is marked as required in `"+o+"`, but its value is `undefined`."):null:t(n,i,o,s,u)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function c(t){return u((function(e,n,r,i,o,s){var u=e[n];return h(u)!==t?new a("Invalid "+i+" `"+o+"` of type `"+f(u)+"` supplied to `"+r+"`, expected `"+t+"`."):null}))}function l(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(l);if(null===e||t(e))return!0;var r=function(t){var e=t&&(n&&t[n]||t["@@iterator"]);if("function"==typeof e)return e}(e);if(!r)return!1;var i,o=r.call(e);if(r!==e.entries){for(;!(i=o.next()).done;)if(!l(i.value))return!1}else for(;!(i=o.next()).done;){var s=i.value;if(s&&!l(s[1]))return!1}return!0;default:return!1}}function h(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||!!e&&("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}(e,t)?"symbol":e}function f(t){if(null==t)return""+t;var e=h(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function d(t){var e=f(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}return a.prototype=Error.prototype,i.checkPropTypes=G,i.resetWarningCache=G.resetWarningCache,i.PropTypes=i,i}(tt.isElement)}else u.exports=function(){function t(t,e,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Z,resetWarningCache:Q};return n.PropTypes=n,n}();var et=u.exports;function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rt(t,e){if(t){if("string"==typeof t)return nt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(t,e):void 0}}function it(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||rt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function st(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ut={elements:[],isOpened:!1,isLoaded:!1,options:{buttons:{backgroundColor:"rgba(30,30,36,0.8)",iconColor:"rgba(255, 255, 255, 0.8)",iconPadding:"10px",showAutoplayButton:!0,showCloseButton:!0,showDownloadButton:!0,showFullscreenButton:!0,showNextButton:!0,showPrevButton:!0,size:"40px"},settings:{autoplaySpeed:3e3,boxShadow:"none",disableKeyboardControls:!1,disablePanzoom:!1,disableWheelControls:!1,downloadedFileName:"SRL-image",hideControlsAfter:!1,lightboxTransitionSpeed:.3,lightboxTransitionTimingFunction:"linear",overlayColor:"rgba(30, 30, 30, 0.9)",slideAnimationType:"fade",slideSpringValues:[300,50],slideTransitionSpeed:.6,slideTransitionTimingFunction:"linear",usingPreact:!1},caption:{captionAlignment:"start",captionColor:"#FFFFFF",captionFontFamily:"inherit",captionFontSize:"inherit",captionFontStyle:"inherit",captionFontWeight:"inherit",captionContainerPadding:"20px 0 30px 0",captionTextTransform:"inherit",showCaption:!0},thumbnails:{showThumbnails:!0,thumbnailsAlignment:"center",thumbnailsContainerPadding:"0",thumbnailsContainerBackgroundColor:"transparent",thumbnailsGap:"0 1px",thumbnailsIconColor:"#ffffff",thumbnailsPosition:"bottom",thumbnailsOpacity:.4,thumbnailsSize:["100px","80px"]},progressBar:{backgroundColor:"#f2f2f2",fillColor:"#000000",height:"3px",showProgressBar:!0}},selectedElement:{caption:"",height:0,id:0,source:"",thumbnail:"",width:0},callbacks:{onCountSlides:function(){},onSlideChange:function(){},onLightboxClosed:function(){},onLightboxOpened:function(){}}},ct=r.createContext(ut),lt=function(t){var e=it((0,r.useReducer)((function(t,e){switch(e.type){case"READY_LIGHTBOX":return at(at(at({},t),e.mergedSettings),{},{elements:e.elements,isLoaded:!0});case"RESET_LIGHTBOX":return at({},ut);case"HANDLE_ELEMENT":return at(at({},t),{},{isOpened:!0,selectedElement:at({},e.element)});case"OPEN_AT_INDEX":return at(at({},t),{},{isOpened:!0,selectedElement:at({},t.elements[e.index])});case"CLOSE_LIGHTBOX":return at(at({},t),{},{isOpened:!1});default:return t}}),ut),2),n=e[0],i=e[1];return r.createElement(ct.Provider,{value:at(at({},n),{},{dispatch:i})},t.children)};function ht(t){return function(t){if(Array.isArray(t))return nt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||rt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(t,e,n){t.addEventListener("click",(function(){if(n)return n(e)}))}function dt(t){console.error(t),console.warn("An error as occurred with Simple React Lightbox. Make sure you wrapped your App with the <SimpleReactLightbox> component and then use the <SRLWrapper> component.")}lt.propTypes={children:et.oneOfType([et.arrayOf(et.node),et.node]).isRequired};var pt,mt,gt={exports:{}};function vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}pt=gt,mt=gt.exports,function(){var t,e="Expected a function",n="__lodash_hash_undefined__",r="__lodash_placeholder__",i=32,o=128,s=1/0,u=9007199254740991,c=NaN,l=4294967295,h=[["ary",o],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",i],["partialRight",64],["rearg",256]],f="[object Arguments]",d="[object Array]",p="[object Boolean]",m="[object Date]",g="[object Error]",v="[object Function]",y="[object GeneratorFunction]",b="[object Map]",w="[object Number]",E="[object Object]",T="[object Promise]",S="[object RegExp]",_="[object Set]",x="[object String]",A="[object Symbol]",I="[object WeakMap]",C="[object ArrayBuffer]",k="[object DataView]",P="[object Float32Array]",R="[object Float64Array]",O="[object Int8Array]",N="[object Int16Array]",L="[object Int32Array]",D="[object Uint8Array]",M="[object Uint8ClampedArray]",U="[object Uint16Array]",V="[object Uint32Array]",F=/\b__p \+= '';/g,j=/\b(__p \+=) '' \+/g,B=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,H=RegExp(z.source),q=RegExp($.source),W=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,J=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q=/[\\^$.*+?()[\]{}|]/g,Z=RegExp(Q.source),tt=/^\s+/,et=/\s/,nt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rt=/\{\n\/\* \[wrapped with (.+)\] \*/,it=/,? & /,ot=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,st=/[()=,{}\[\]\/\s]/,at=/\\(\\)?/g,ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ct=/\w*$/,lt=/^[-+]0x[0-9a-f]+$/i,ht=/^0b[01]+$/i,ft=/^\[object .+?Constructor\]$/,dt=/^0o[0-7]+$/i,gt=/^(?:0|[1-9]\d*)$/,vt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,wt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Et="a-z\\xdf-\\xf6\\xf8-\\xff",Tt="A-Z\\xc0-\\xd6\\xd8-\\xde",St="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_t="["+St+"]",xt="["+wt+"]",At="\\d+",It="["+Et+"]",Ct="[^\\ud800-\\udfff"+St+At+"\\u2700-\\u27bf"+Et+Tt+"]",kt="\\ud83c[\\udffb-\\udfff]",Pt="[^\\ud800-\\udfff]",Rt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ot="[\\ud800-\\udbff][\\udc00-\\udfff]",Nt="["+Tt+"]",Lt="(?:"+It+"|"+Ct+")",Dt="(?:"+Nt+"|"+Ct+")",Mt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ut="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Vt="(?:"+xt+"|"+kt+")?",Ft="[\\ufe0e\\ufe0f]?",jt=Ft+Vt+"(?:\\u200d(?:"+[Pt,Rt,Ot].join("|")+")"+Ft+Vt+")*",Bt="(?:"+["[\\u2700-\\u27bf]",Rt,Ot].join("|")+")"+jt,zt="(?:"+[Pt+xt+"?",xt,Rt,Ot,"[\\ud800-\\udfff]"].join("|")+")",$t=RegExp("['\u2019]","g"),Ht=RegExp(xt,"g"),qt=RegExp(kt+"(?="+kt+")|"+zt+jt,"g"),Wt=RegExp([Nt+"?"+It+"+"+Mt+"(?="+[_t,Nt,"$"].join("|")+")",Dt+"+"+Ut+"(?="+[_t,Nt+Lt,"$"].join("|")+")",Nt+"?"+Lt+"+"+Mt,Nt+"+"+Ut,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",At,Bt].join("|"),"g"),Kt=RegExp("[\\u200d\\ud800-\\udfff"+wt+"\\ufe0e\\ufe0f]"),Gt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xt=-1,Jt={};Jt[P]=Jt[R]=Jt[O]=Jt[N]=Jt[L]=Jt[D]=Jt[M]=Jt[U]=Jt[V]=!0,Jt[f]=Jt[d]=Jt[C]=Jt[p]=Jt[k]=Jt[m]=Jt[g]=Jt[v]=Jt[b]=Jt[w]=Jt[E]=Jt[S]=Jt[_]=Jt[x]=Jt[I]=!1;var Qt={};Qt[f]=Qt[d]=Qt[C]=Qt[k]=Qt[p]=Qt[m]=Qt[P]=Qt[R]=Qt[O]=Qt[N]=Qt[L]=Qt[b]=Qt[w]=Qt[E]=Qt[S]=Qt[_]=Qt[x]=Qt[A]=Qt[D]=Qt[M]=Qt[U]=Qt[V]=!0,Qt[g]=Qt[v]=Qt[I]=!1;var Zt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},te=parseFloat,ee=parseInt,ne="object"==typeof a&&a&&a.Object===Object&&a,re="object"==typeof self&&self&&self.Object===Object&&self,ie=ne||re||Function("return this")(),oe=mt&&!mt.nodeType&&mt,se=oe&&pt&&!pt.nodeType&&pt,ae=se&&se.exports===oe,ue=ae&&ne.process,ce=function(){try{return se&&se.require&&se.require("util").types||ue&&ue.binding&&ue.binding("util")}catch(t){}}(),le=ce&&ce.isArrayBuffer,he=ce&&ce.isDate,fe=ce&&ce.isMap,de=ce&&ce.isRegExp,pe=ce&&ce.isSet,me=ce&&ce.isTypedArray;function ge(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ve(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function ye(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function be(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function we(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ee(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Te(t,e){return!(null==t||!t.length)&&Oe(t,e,0)>-1}function Se(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function _e(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function xe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Ae(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Ie(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ce(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ke=Me("length");function Pe(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Re(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Oe(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Re(t,Le,n)}function Ne(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Le(t){return t!=t}function De(t,e){var n=null==t?0:t.length;return n?Fe(t,e)/n:c}function Me(e){return function(n){return null==n?t:n[e]}}function Ue(e){return function(n){return null==e?t:e[n]}}function Ve(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Fe(e,n){for(var r,i=-1,o=e.length;++i<o;){var s=n(e[i]);s!==t&&(r=r===t?s:r+s)}return r}function je(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Be(t){return t?t.slice(0,on(t)+1).replace(tt,""):t}function ze(t){return function(e){return t(e)}}function $e(t,e){return _e(e,(function(e){return t[e]}))}function He(t,e){return t.has(e)}function qe(t,e){for(var n=-1,r=t.length;++n<r&&Oe(e,t[n],0)>-1;);return n}function We(t,e){for(var n=t.length;n--&&Oe(e,t[n],0)>-1;);return n}function Ke(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Ge=Ue({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Ye=Ue({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Xe(t){return"\\"+Zt[t]}function Je(t){return Kt.test(t)}function Qe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Ze(t,e){return function(n){return t(e(n))}}function tn(t,e){for(var n=-1,i=t.length,o=0,s=[];++n<i;){var a=t[n];a!==e&&a!==r||(t[n]=r,s[o++]=n)}return s}function en(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function nn(t){return Je(t)?function(t){for(var e=qt.lastIndex=0;qt.test(t);)++e;return e}(t):ke(t)}function rn(t){return Je(t)?function(t){return t.match(qt)||[]}(t):function(t){return t.split("")}(t)}function on(t){for(var e=t.length;e--&&et.test(t.charAt(e)););return e}var sn=Ue({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),an=function a(et){var pt,mt=(et=null==et?ie:an.defaults(ie.Object(),et,an.pick(ie,Yt))).Array,wt=et.Date,Et=et.Error,Tt=et.Function,St=et.Math,_t=et.Object,xt=et.RegExp,At=et.String,It=et.TypeError,Ct=mt.prototype,kt=Tt.prototype,Pt=_t.prototype,Rt=et["__core-js_shared__"],Ot=kt.toString,Nt=Pt.hasOwnProperty,Lt=0,Dt=(pt=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||""))?"Symbol(src)_1."+pt:"",Mt=Pt.toString,Ut=Ot.call(_t),Vt=ie._,Ft=xt("^"+Ot.call(Nt).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jt=ae?et.Buffer:t,Bt=et.Symbol,zt=et.Uint8Array,qt=jt?jt.allocUnsafe:t,Kt=Ze(_t.getPrototypeOf,_t),Zt=_t.create,ne=Pt.propertyIsEnumerable,re=Ct.splice,oe=Bt?Bt.isConcatSpreadable:t,se=Bt?Bt.iterator:t,ue=Bt?Bt.toStringTag:t,ce=function(){try{var t=uo(_t,"defineProperty");return t({},"",{}),t}catch(t){}}(),ke=et.clearTimeout!==ie.clearTimeout&&et.clearTimeout,Ue=wt&&wt.now!==ie.Date.now&&wt.now,un=et.setTimeout!==ie.setTimeout&&et.setTimeout,cn=St.ceil,ln=St.floor,hn=_t.getOwnPropertySymbols,fn=jt?jt.isBuffer:t,dn=et.isFinite,pn=Ct.join,mn=Ze(_t.keys,_t),gn=St.max,vn=St.min,yn=wt.now,bn=et.parseInt,wn=St.random,En=Ct.reverse,Tn=uo(et,"DataView"),Sn=uo(et,"Map"),_n=uo(et,"Promise"),xn=uo(et,"Set"),An=uo(et,"WeakMap"),In=uo(_t,"create"),Cn=An&&new An,kn={},Pn=Mo(Tn),Rn=Mo(Sn),On=Mo(_n),Nn=Mo(xn),Ln=Mo(An),Dn=Bt?Bt.prototype:t,Mn=Dn?Dn.valueOf:t,Un=Dn?Dn.toString:t;function Vn(t){if(Zs(t)&&!zs(t)&&!(t instanceof zn)){if(t instanceof Bn)return t;if(Nt.call(t,"__wrapped__"))return Uo(t)}return new Bn(t)}var Fn=function(){function e(){}return function(n){if(!Qs(n))return{};if(Zt)return Zt(n);e.prototype=n;var r=new e;return e.prototype=t,r}}();function jn(){}function Bn(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=t}function zn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=l,this.__views__=[]}function $n(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new qn;++e<n;)this.add(t[e])}function Kn(t){var e=this.__data__=new Hn(t);this.size=e.size}function Gn(t,e){var n=zs(t),r=!n&&Bs(t),i=!n&&!r&&Ws(t),o=!n&&!r&&!i&&aa(t),s=n||r||i||o,a=s?je(t.length,At):[],u=a.length;for(var c in t)!e&&!Nt.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||go(c,u))||a.push(c);return a}function Yn(e){var n=e.length;return n?e[qr(0,n-1)]:t}function Xn(t,e){return No(Ai(t),or(e,0,t.length))}function Jn(t){return No(Ai(t))}function Qn(e,n,r){(r!==t&&!Vs(e[n],r)||r===t&&!(n in e))&&rr(e,n,r)}function Zn(e,n,r){var i=e[n];Nt.call(e,n)&&Vs(i,r)&&(r!==t||n in e)||rr(e,n,r)}function tr(t,e){for(var n=t.length;n--;)if(Vs(t[n][0],e))return n;return-1}function er(t,e,n,r){return lr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function nr(t,e){return t&&Ii(e,ka(e),t)}function rr(t,e,n){"__proto__"==e&&ce?ce(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ir(e,n){for(var r=-1,i=n.length,o=mt(i),s=null==e;++r<i;)o[r]=s?t:_a(e,n[r]);return o}function or(e,n,r){return e==e&&(r!==t&&(e=e<=r?e:r),n!==t&&(e=e>=n?e:n)),e}function sr(e,n,r,i,o,s){var a,u=1&n,c=2&n,l=4&n;if(r&&(a=o?r(e,i,o,s):r(e)),a!==t)return a;if(!Qs(e))return e;var h=zs(e);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!u)return Ai(e,a)}else{var d=ho(e),g=d==v||d==y;if(Ws(e))return wi(e,u);if(d==E||d==f||g&&!o){if(a=c||g?{}:po(e),!u)return c?function(t,e){return Ii(t,lo(t),e)}(e,function(t,e){return t&&Ii(e,Pa(e),t)}(a,e)):function(t,e){return Ii(t,co(t),e)}(e,nr(a,e))}else{if(!Qt[d])return o?e:{};a=function(t,e,n){var r,i=t.constructor;switch(e){case C:return Ei(t);case p:case m:return new i(+t);case k:return function(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case P:case R:case O:case N:case L:case D:case M:case U:case V:return Ti(t,n);case b:return new i;case w:case x:return new i(t);case S:return function(t){var e=new t.constructor(t.source,ct.exec(t));return e.lastIndex=t.lastIndex,e}(t);case _:return new i;case A:return r=t,Mn?_t(Mn.call(r)):{}}}(e,d,u)}}s||(s=new Kn);var T=s.get(e);if(T)return T;s.set(e,a),ia(e)?e.forEach((function(t){a.add(sr(t,n,r,t,e,s))})):ta(e)&&e.forEach((function(t,i){a.set(i,sr(t,n,r,i,e,s))}));var I=h?t:(l?c?eo:to:c?Pa:ka)(e);return ye(I||e,(function(t,i){I&&(t=e[i=t]),Zn(a,i,sr(t,n,r,i,e,s))})),a}function ar(e,n,r){var i=r.length;if(null==e)return!i;for(e=_t(e);i--;){var o=r[i],s=n[o],a=e[o];if(a===t&&!(o in e)||!s(a))return!1}return!0}function ur(n,r,i){if("function"!=typeof n)throw new It(e);return ko((function(){n.apply(t,i)}),r)}function cr(t,e,n,r){var i=-1,o=Te,s=!0,a=t.length,u=[],c=e.length;if(!a)return u;n&&(e=_e(e,ze(n))),r?(o=Se,s=!1):e.length>=200&&(o=He,s=!1,e=new Wn(e));t:for(;++i<a;){var l=t[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,s&&h==h){for(var f=c;f--;)if(e[f]===h)continue t;u.push(l)}else o(e,h,r)||u.push(l)}return u}Vn.templateSettings={escape:W,evaluate:K,interpolate:G,variable:"",imports:{_:Vn}},Vn.prototype=jn.prototype,Vn.prototype.constructor=Vn,Bn.prototype=Fn(jn.prototype),Bn.prototype.constructor=Bn,zn.prototype=Fn(jn.prototype),zn.prototype.constructor=zn,$n.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},$n.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},$n.prototype.get=function(e){var r=this.__data__;if(In){var i=r[e];return i===n?t:i}return Nt.call(r,e)?r[e]:t},$n.prototype.has=function(e){var n=this.__data__;return In?n[e]!==t:Nt.call(n,e)},$n.prototype.set=function(e,r){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=In&&r===t?n:r,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(t){var e=this.__data__,n=tr(e,t);return!(n<0||(n==e.length-1?e.pop():re.call(e,n,1),--this.size,0))},Hn.prototype.get=function(e){var n=this.__data__,r=tr(n,e);return r<0?t:n[r][1]},Hn.prototype.has=function(t){return tr(this.__data__,t)>-1},Hn.prototype.set=function(t,e){var n=this.__data__,r=tr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new $n,map:new(Sn||Hn),string:new $n}},qn.prototype.delete=function(t){var e=so(this,t).delete(t);return this.size-=e?1:0,e},qn.prototype.get=function(t){return so(this,t).get(t)},qn.prototype.has=function(t){return so(this,t).has(t)},qn.prototype.set=function(t,e){var n=so(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Wn.prototype.add=Wn.prototype.push=function(t){return this.__data__.set(t,n),this},Wn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Kn.prototype.get=function(t){return this.__data__.get(t)},Kn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!Sn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(t,e),this.size=n.size,this};var lr=Pi(yr),hr=Pi(br,!0);function fr(t,e){var n=!0;return lr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function dr(e,n,r){for(var i=-1,o=e.length;++i<o;){var s=e[i],a=n(s);if(null!=a&&(u===t?a==a&&!sa(a):r(a,u)))var u=a,c=s}return c}function pr(t,e){var n=[];return lr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function mr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=mo),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?mr(a,e-1,n,r,i):xe(i,a):r||(i[i.length]=a)}return i}var gr=Ri(),vr=Ri(!0);function yr(t,e){return t&&gr(t,e,ka)}function br(t,e){return t&&vr(t,e,ka)}function wr(t,e){return Ee(e,(function(e){return Ys(t[e])}))}function Er(e,n){for(var r=0,i=(n=gi(n,e)).length;null!=e&&r<i;)e=e[Do(n[r++])];return r&&r==i?e:t}function Tr(t,e,n){var r=e(t);return zs(t)?r:xe(r,n(t))}function Sr(e){return null==e?e===t?"[object Undefined]":"[object Null]":ue&&ue in _t(e)?function(e){var n=Nt.call(e,ue),r=e[ue];try{e[ue]=t;var i=!0}catch(t){}var o=Mt.call(e);return i&&(n?e[ue]=r:delete e[ue]),o}(e):function(t){return Mt.call(t)}(e)}function _r(t,e){return t>e}function xr(t,e){return null!=t&&Nt.call(t,e)}function Ar(t,e){return null!=t&&e in _t(t)}function Ir(e,n,r){for(var i=r?Se:Te,o=e[0].length,s=e.length,a=s,u=mt(s),c=1/0,l=[];a--;){var h=e[a];a&&n&&(h=_e(h,ze(n))),c=vn(h.length,c),u[a]=!r&&(n||o>=120&&h.length>=120)?new Wn(a&&h):t}h=e[0];var f=-1,d=u[0];t:for(;++f<o&&l.length<c;){var p=h[f],m=n?n(p):p;if(p=r||0!==p?p:0,!(d?He(d,m):i(l,m,r))){for(a=s;--a;){var g=u[a];if(!(g?He(g,m):i(e[a],m,r)))continue t}d&&d.push(m),l.push(p)}}return l}function Cr(e,n,r){var i=null==(e=xo(e,n=gi(n,e)))?e:e[Do(Go(n))];return null==i?t:ge(i,e,r)}function kr(t){return Zs(t)&&Sr(t)==f}function Pr(e,n,r,i,o){return e===n||(null==e||null==n||!Zs(e)&&!Zs(n)?e!=e&&n!=n:function(e,n,r,i,o,s){var a=zs(e),u=zs(n),c=a?d:ho(e),l=u?d:ho(n),h=(c=c==f?E:c)==E,v=(l=l==f?E:l)==E,y=c==l;if(y&&Ws(e)){if(!Ws(n))return!1;a=!0,h=!1}if(y&&!h)return s||(s=new Kn),a||aa(e)?Qi(e,n,r,i,o,s):function(t,e,n,r,i,o,s){switch(n){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case C:return!(t.byteLength!=e.byteLength||!o(new zt(t),new zt(e)));case p:case m:case w:return Vs(+t,+e);case g:return t.name==e.name&&t.message==e.message;case S:case x:return t==e+"";case b:var a=Qe;case _:var u=1&r;if(a||(a=en),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;r|=2,s.set(t,e);var l=Qi(a(t),a(e),r,i,o,s);return s.delete(t),l;case A:if(Mn)return Mn.call(t)==Mn.call(e)}return!1}(e,n,c,r,i,o,s);if(!(1&r)){var T=h&&Nt.call(e,"__wrapped__"),I=v&&Nt.call(n,"__wrapped__");if(T||I){var P=T?e.value():e,R=I?n.value():n;return s||(s=new Kn),o(P,R,r,i,s)}}return!!y&&(s||(s=new Kn),function(e,n,r,i,o,s){var a=1&r,u=to(e),c=u.length;if(c!=to(n).length&&!a)return!1;for(var l=c;l--;){var h=u[l];if(!(a?h in n:Nt.call(n,h)))return!1}var f=s.get(e),d=s.get(n);if(f&&d)return f==n&&d==e;var p=!0;s.set(e,n),s.set(n,e);for(var m=a;++l<c;){var g=e[h=u[l]],v=n[h];if(i)var y=a?i(v,g,h,n,e,s):i(g,v,h,e,n,s);if(!(y===t?g===v||o(g,v,r,i,s):y)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var b=e.constructor,w=n.constructor;b==w||!("constructor"in e)||!("constructor"in n)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return s.delete(e),s.delete(n),p}(e,n,r,i,o,s))}(e,n,r,i,Pr,o))}function Rr(e,n,r,i){var o=r.length,s=o,a=!i;if(null==e)return!s;for(e=_t(e);o--;){var u=r[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var c=(u=r[o])[0],l=e[c],h=u[1];if(a&&u[2]){if(l===t&&!(c in e))return!1}else{var f=new Kn;if(i)var d=i(l,h,c,e,n,f);if(!(d===t?Pr(h,l,3,i,f):d))return!1}}return!0}function Or(t){return!(!Qs(t)||(e=t,Dt&&Dt in e))&&(Ys(t)?Ft:ft).test(Mo(t));var e}function Nr(t){return"function"==typeof t?t:null==t?eu:"object"==typeof t?zs(t)?Vr(t[0],t[1]):Ur(t):lu(t)}function Lr(t){if(!Eo(t))return mn(t);var e=[];for(var n in _t(t))Nt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Dr(t,e){return t<e}function Mr(t,e){var n=-1,r=Hs(t)?mt(t.length):[];return lr(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function Ur(t){var e=ao(t);return 1==e.length&&e[0][2]?So(e[0][0],e[0][1]):function(n){return n===t||Rr(n,t,e)}}function Vr(e,n){return yo(e)&&To(n)?So(Do(e),n):function(r){var i=_a(r,e);return i===t&&i===n?xa(r,e):Pr(n,i,3)}}function Fr(e,n,r,i,o){e!==n&&gr(n,(function(s,a){if(o||(o=new Kn),Qs(s))!function(e,n,r,i,o,s,a){var u=Io(e,r),c=Io(n,r),l=a.get(c);if(l)Qn(e,r,l);else{var h=s?s(u,c,r+"",e,n,a):t,f=h===t;if(f){var d=zs(c),p=!d&&Ws(c),m=!d&&!p&&aa(c);h=c,d||p||m?zs(u)?h=u:qs(u)?h=Ai(u):p?(f=!1,h=wi(c,!0)):m?(f=!1,h=Ti(c,!0)):h=[]:na(c)||Bs(c)?(h=u,Bs(u)?h=ma(u):Qs(u)&&!Ys(u)||(h=po(c))):f=!1}f&&(a.set(c,h),o(h,c,i,s,a),a.delete(c)),Qn(e,r,h)}}(e,n,a,r,Fr,i,o);else{var u=i?i(Io(e,a),s,a+"",e,n,o):t;u===t&&(u=s),Qn(e,a,u)}}),Pa)}function jr(e,n){var r=e.length;if(r)return go(n+=n<0?r:0,r)?e[n]:t}function Br(t,e,n){e=e.length?_e(e,(function(t){return zs(t)?function(e){return Er(e,1===t.length?t[0]:t)}:t})):[eu];var r=-1;return e=_e(e,ze(oo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Mr(t,(function(t,n,i){return{criteria:_e(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=Si(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function zr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=Er(t,s);n(a,s)&&Xr(o,gi(s,t),a)}return o}function $r(t,e,n,r){var i=r?Ne:Oe,o=-1,s=e.length,a=t;for(t===e&&(e=Ai(e)),n&&(a=_e(t,ze(n)));++o<s;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==t&&re.call(a,u,1),re.call(t,u,1);return t}function Hr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;go(i)?re.call(t,i,1):ui(t,i)}}return t}function qr(t,e){return t+ln(wn()*(e-t+1))}function Wr(t,e){var n="";if(!t||e<1||e>u)return n;do{e%2&&(n+=t),(e=ln(e/2))&&(t+=t)}while(e);return n}function Kr(t,e){return Po(_o(t,e,eu),t+"")}function Gr(t){return Yn(Va(t))}function Yr(t,e){var n=Va(t);return No(n,or(e,0,n.length))}function Xr(e,n,r,i){if(!Qs(e))return e;for(var o=-1,s=(n=gi(n,e)).length,a=s-1,u=e;null!=u&&++o<s;){var c=Do(n[o]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var h=u[c];(l=i?i(h,c,u):t)===t&&(l=Qs(h)?h:go(n[o+1])?[]:{})}Zn(u,c,l),u=u[c]}return e}var Jr=Cn?function(t,e){return Cn.set(t,e),t}:eu,Qr=ce?function(t,e){return ce(t,"toString",{configurable:!0,enumerable:!1,value:Qa(e),writable:!0})}:eu;function Zr(t){return No(Va(t))}function ti(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=mt(i);++r<i;)o[r]=t[r+e];return o}function ei(t,e){var n;return lr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ni(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!sa(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return ri(t,e,eu,n)}function ri(e,n,r,i){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(n=r(n))!=n,u=null===n,c=sa(n),l=n===t;o<s;){var h=ln((o+s)/2),f=r(e[h]),d=f!==t,p=null===f,m=f==f,g=sa(f);if(a)var v=i||m;else v=l?m&&(i||d):u?m&&d&&(i||!p):c?m&&d&&!p&&(i||!g):!p&&!g&&(i?f<=n:f<n);v?o=h+1:s=h}return vn(s,4294967294)}function ii(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Vs(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function oi(t){return"number"==typeof t?t:sa(t)?c:+t}function si(t){if("string"==typeof t)return t;if(zs(t))return _e(t,si)+"";if(sa(t))return Un?Un.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ai(t,e,n){var r=-1,i=Te,o=t.length,s=!0,a=[],u=a;if(n)s=!1,i=Se;else if(o>=200){var c=e?null:Wi(t);if(c)return en(c);s=!1,i=He,u=new Wn}else u=e?[]:a;t:for(;++r<o;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,s&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),a.push(l)}else i(u,h,n)||(u!==a&&u.push(h),a.push(l))}return a}function ui(t,e){return null==(t=xo(t,e=gi(e,t)))||delete t[Do(Go(e))]}function ci(t,e,n,r){return Xr(t,e,n(Er(t,e)),r)}function li(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ti(t,r?0:o,r?o+1:i):ti(t,r?o+1:0,r?i:o)}function hi(t,e){var n=t;return n instanceof zn&&(n=n.value()),Ae(e,(function(t,e){return e.func.apply(e.thisArg,xe([t],e.args))}),n)}function fi(t,e,n){var r=t.length;if(r<2)return r?ai(t[0]):[];for(var i=-1,o=mt(r);++i<r;)for(var s=t[i],a=-1;++a<r;)a!=i&&(o[i]=cr(o[i]||s,t[a],e,n));return ai(mr(o,1),e,n)}function di(e,n,r){for(var i=-1,o=e.length,s=n.length,a={};++i<o;){var u=i<s?n[i]:t;r(a,e[i],u)}return a}function pi(t){return qs(t)?t:[]}function mi(t){return"function"==typeof t?t:eu}function gi(t,e){return zs(t)?t:yo(t,e)?[t]:Lo(ga(t))}var vi=Kr;function yi(e,n,r){var i=e.length;return r=r===t?i:r,!n&&r>=i?e:ti(e,n,r)}var bi=ke||function(t){return ie.clearTimeout(t)};function wi(t,e){if(e)return t.slice();var n=t.length,r=qt?qt(n):new t.constructor(n);return t.copy(r),r}function Ei(t){var e=new t.constructor(t.byteLength);return new zt(e).set(new zt(t)),e}function Ti(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Si(e,n){if(e!==n){var r=e!==t,i=null===e,o=e==e,s=sa(e),a=n!==t,u=null===n,c=n==n,l=sa(n);if(!u&&!l&&!s&&e>n||s&&a&&c&&!u&&!l||i&&a&&c||!r&&c||!o)return 1;if(!i&&!s&&!l&&e<n||l&&r&&o&&!i&&!s||u&&r&&o||!a&&o||!c)return-1}return 0}function _i(t,e,n,r){for(var i=-1,o=t.length,s=n.length,a=-1,u=e.length,c=gn(o-s,0),l=mt(u+c),h=!r;++a<u;)l[a]=e[a];for(;++i<s;)(h||i<o)&&(l[n[i]]=t[i]);for(;c--;)l[a++]=t[i++];return l}function xi(t,e,n,r){for(var i=-1,o=t.length,s=-1,a=n.length,u=-1,c=e.length,l=gn(o-a,0),h=mt(l+c),f=!r;++i<l;)h[i]=t[i];for(var d=i;++u<c;)h[d+u]=e[u];for(;++s<a;)(f||i<o)&&(h[d+n[s]]=t[i++]);return h}function Ai(t,e){var n=-1,r=t.length;for(e||(e=mt(r));++n<r;)e[n]=t[n];return e}function Ii(e,n,r,i){var o=!r;r||(r={});for(var s=-1,a=n.length;++s<a;){var u=n[s],c=i?i(r[u],e[u],u,r,e):t;c===t&&(c=e[u]),o?rr(r,u,c):Zn(r,u,c)}return r}function Ci(t,e){return function(n,r){var i=zs(n)?ve:er,o=e?e():{};return i(n,t,oo(r,2),o)}}function ki(e){return Kr((function(n,r){var i=-1,o=r.length,s=o>1?r[o-1]:t,a=o>2?r[2]:t;for(s=e.length>3&&"function"==typeof s?(o--,s):t,a&&vo(r[0],r[1],a)&&(s=o<3?t:s,o=1),n=_t(n);++i<o;){var u=r[i];u&&e(n,u,i,s)}return n}))}function Pi(t,e){return function(n,r){if(null==n)return n;if(!Hs(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=_t(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ri(t){return function(e,n,r){for(var i=-1,o=_t(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function Oi(e){return function(n){var r=Je(n=ga(n))?rn(n):t,i=r?r[0]:n.charAt(0),o=r?yi(r,1).join(""):n.slice(1);return i[e]()+o}}function Ni(t){return function(e){return Ae(Ya(Ba(e).replace($t,"")),t,"")}}function Li(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Fn(t.prototype),r=t.apply(n,e);return Qs(r)?r:n}}function Di(e){return function(n,r,i){var o=_t(n);if(!Hs(n)){var s=oo(r,3);n=ka(n),r=function(t){return s(o[t],t,o)}}var a=e(n,r,i);return a>-1?o[s?n[a]:a]:t}}function Mi(n){return Zi((function(r){var i=r.length,o=i,s=Bn.prototype.thru;for(n&&r.reverse();o--;){var a=r[o];if("function"!=typeof a)throw new It(e);if(s&&!u&&"wrapper"==ro(a))var u=new Bn([],!0)}for(o=u?o:i;++o<i;){var c=ro(a=r[o]),l="wrapper"==c?no(a):t;u=l&&bo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ro(l[0])].apply(u,l[3]):1==a.length&&bo(a)?u[c]():u.thru(a)}return function(){var t=arguments,e=t[0];if(u&&1==t.length&&zs(e))return u.plant(e).value();for(var n=0,o=i?r[n].apply(this,t):e;++n<i;)o=r[n].call(this,o);return o}}))}function Ui(e,n,r,i,s,a,u,c,l,h){var f=n&o,d=1&n,p=2&n,m=24&n,g=512&n,v=p?t:Li(e);return function t(){for(var o=arguments.length,y=mt(o),b=o;b--;)y[b]=arguments[b];if(m)var w=io(t),E=Ke(y,w);if(i&&(y=_i(y,i,s,m)),a&&(y=xi(y,a,u,m)),o-=E,m&&o<h){var T=tn(y,w);return Hi(e,n,Ui,t.placeholder,r,y,T,c,l,h-o)}var S=d?r:this,_=p?S[e]:e;return o=y.length,c?y=Ao(y,c):g&&o>1&&y.reverse(),f&&l<o&&(y.length=l),this&&this!==ie&&this instanceof t&&(_=v||Li(_)),_.apply(S,y)}}function Vi(t,e){return function(n,r){return function(t,e,n,r){return yr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Fi(e,n){return function(r,i){var o;if(r===t&&i===t)return n;if(r!==t&&(o=r),i!==t){if(o===t)return i;"string"==typeof r||"string"==typeof i?(r=si(r),i=si(i)):(r=oi(r),i=oi(i)),o=e(r,i)}return o}}function ji(t){return Zi((function(e){return e=_e(e,ze(oo())),Kr((function(n){var r=this;return t(e,(function(t){return ge(t,r,n)}))}))}))}function Bi(e,n){var r=(n=n===t?" ":si(n)).length;if(r<2)return r?Wr(n,e):n;var i=Wr(n,cn(e/nn(n)));return Je(n)?yi(rn(i),0,e).join(""):i.slice(0,e)}function zi(e){return function(n,r,i){return i&&"number"!=typeof i&&vo(n,r,i)&&(r=i=t),n=ha(n),r===t?(r=n,n=0):r=ha(r),function(t,e,n,r){for(var i=-1,o=gn(cn((e-t)/(n||1)),0),s=mt(o);o--;)s[r?o:++i]=t,t+=n;return s}(n,r,i=i===t?n<r?1:-1:ha(i),e)}}function $i(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=pa(e),n=pa(n)),t(e,n)}}function Hi(e,n,r,o,s,a,u,c,l,h){var f=8&n;n|=f?i:64,4&(n&=~(f?64:i))||(n&=-4);var d=[e,n,s,f?a:t,f?u:t,f?t:a,f?t:u,c,l,h],p=r.apply(t,d);return bo(e)&&Co(p,d),p.placeholder=o,Ro(p,e,n)}function qi(t){var e=St[t];return function(t,n){if(t=pa(t),(n=null==n?0:vn(fa(n),292))&&dn(t)){var r=(ga(t)+"e").split("e");return+((r=(ga(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Wi=xn&&1/en(new xn([,-0]))[1]==s?function(t){return new xn(t)}:su;function Ki(t){return function(e){var n=ho(e);return n==b?Qe(e):n==_?function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}(e):function(t,e){return _e(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Gi(n,s,a,u,c,l,h,f){var d=2&s;if(!d&&"function"!=typeof n)throw new It(e);var p=u?u.length:0;if(p||(s&=-97,u=c=t),h=h===t?h:gn(fa(h),0),f=f===t?f:fa(f),p-=c?c.length:0,64&s){var m=u,g=c;u=c=t}var v=d?t:no(n),y=[n,s,a,u,c,m,g,l,h,f];if(v&&function(t,e){var n=t[1],i=e[1],s=n|i,a=s<131,u=i==o&&8==n||i==o&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!a&&!u)return t;1&i&&(t[2]=e[2],s|=1&n?0:4);var c=e[3];if(c){var l=t[3];t[3]=l?_i(l,c,e[4]):c,t[4]=l?tn(t[3],r):e[4]}(c=e[5])&&(l=t[5],t[5]=l?xi(l,c,e[6]):c,t[6]=l?tn(t[5],r):e[6]),(c=e[7])&&(t[7]=c),i&o&&(t[8]=null==t[8]?e[8]:vn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=s}(y,v),n=y[0],s=y[1],a=y[2],u=y[3],c=y[4],!(f=y[9]=y[9]===t?d?0:n.length:gn(y[9]-p,0))&&24&s&&(s&=-25),s&&1!=s)b=8==s||16==s?function(e,n,r){var i=Li(e);return function o(){for(var s=arguments.length,a=mt(s),u=s,c=io(o);u--;)a[u]=arguments[u];var l=s<3&&a[0]!==c&&a[s-1]!==c?[]:tn(a,c);return(s-=l.length)<r?Hi(e,n,Ui,o.placeholder,t,a,l,t,t,r-s):ge(this&&this!==ie&&this instanceof o?i:e,this,a)}}(n,s,f):s!=i&&33!=s||c.length?Ui.apply(t,y):function(t,e,n,r){var i=1&e,o=Li(t);return function e(){for(var s=-1,a=arguments.length,u=-1,c=r.length,l=mt(c+a),h=this&&this!==ie&&this instanceof e?o:t;++u<c;)l[u]=r[u];for(;a--;)l[u++]=arguments[++s];return ge(h,i?n:this,l)}}(n,s,a,u);else var b=function(t,e,n){var r=1&e,i=Li(t);return function e(){return(this&&this!==ie&&this instanceof e?i:t).apply(r?n:this,arguments)}}(n,s,a);return Ro((v?Jr:Co)(b,y),n,s)}function Yi(e,n,r,i){return e===t||Vs(e,Pt[r])&&!Nt.call(i,r)?n:e}function Xi(e,n,r,i,o,s){return Qs(e)&&Qs(n)&&(s.set(n,e),Fr(e,n,t,Xi,s),s.delete(n)),e}function Ji(e){return na(e)?t:e}function Qi(e,n,r,i,o,s){var a=1&r,u=e.length,c=n.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(e),h=s.get(n);if(l&&h)return l==n&&h==e;var f=-1,d=!0,p=2&r?new Wn:t;for(s.set(e,n),s.set(n,e);++f<u;){var m=e[f],g=n[f];if(i)var v=a?i(g,m,f,n,e,s):i(m,g,f,e,n,s);if(v!==t){if(v)continue;d=!1;break}if(p){if(!Ce(n,(function(t,e){if(!He(p,e)&&(m===t||o(m,t,r,i,s)))return p.push(e)}))){d=!1;break}}else if(m!==g&&!o(m,g,r,i,s)){d=!1;break}}return s.delete(e),s.delete(n),d}function Zi(e){return Po(_o(e,t,$o),e+"")}function to(t){return Tr(t,ka,co)}function eo(t){return Tr(t,Pa,lo)}var no=Cn?function(t){return Cn.get(t)}:su;function ro(t){for(var e=t.name+"",n=kn[e],r=Nt.call(kn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function io(t){return(Nt.call(Vn,"placeholder")?Vn:t).placeholder}function oo(){var t=Vn.iteratee||nu;return t=t===nu?Nr:t,arguments.length?t(arguments[0],arguments[1]):t}function so(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function ao(t){for(var e=ka(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,To(i)]}return e}function uo(e,n){var r=function(e,n){return null==e?t:e[n]}(e,n);return Or(r)?r:t}var co=hn?function(t){return null==t?[]:(t=_t(t),Ee(hn(t),(function(e){return ne.call(t,e)})))}:du,lo=hn?function(t){for(var e=[];t;)xe(e,co(t)),t=Kt(t);return e}:du,ho=Sr;function fo(t,e,n){for(var r=-1,i=(e=gi(e,t)).length,o=!1;++r<i;){var s=Do(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Js(i)&&go(s,i)&&(zs(t)||Bs(t))}function po(t){return"function"!=typeof t.constructor||Eo(t)?{}:Fn(Kt(t))}function mo(t){return zs(t)||Bs(t)||!!(oe&&t&&t[oe])}function go(t,e){var n=typeof t;return!!(e=null==e?u:e)&&("number"==n||"symbol"!=n&&gt.test(t))&&t>-1&&t%1==0&&t<e}function vo(t,e,n){if(!Qs(n))return!1;var r=typeof e;return!!("number"==r?Hs(n)&&go(e,n.length):"string"==r&&e in n)&&Vs(n[e],t)}function yo(t,e){if(zs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!sa(t))||X.test(t)||!Y.test(t)||null!=e&&t in _t(e)}function bo(t){var e=ro(t),n=Vn[e];if("function"!=typeof n||!(e in zn.prototype))return!1;if(t===n)return!0;var r=no(n);return!!r&&t===r[0]}(Tn&&ho(new Tn(new ArrayBuffer(1)))!=k||Sn&&ho(new Sn)!=b||_n&&ho(_n.resolve())!=T||xn&&ho(new xn)!=_||An&&ho(new An)!=I)&&(ho=function(e){var n=Sr(e),r=n==E?e.constructor:t,i=r?Mo(r):"";if(i)switch(i){case Pn:return k;case Rn:return b;case On:return T;case Nn:return _;case Ln:return I}return n});var wo=Rt?Ys:pu;function Eo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Pt)}function To(t){return t==t&&!Qs(t)}function So(e,n){return function(r){return null!=r&&r[e]===n&&(n!==t||e in _t(r))}}function _o(e,n,r){return n=gn(n===t?e.length-1:n,0),function(){for(var t=arguments,i=-1,o=gn(t.length-n,0),s=mt(o);++i<o;)s[i]=t[n+i];i=-1;for(var a=mt(n+1);++i<n;)a[i]=t[i];return a[n]=r(s),ge(e,this,a)}}function xo(t,e){return e.length<2?t:Er(t,ti(e,0,-1))}function Ao(e,n){for(var r=e.length,i=vn(n.length,r),o=Ai(e);i--;){var s=n[i];e[i]=go(s,r)?o[s]:t}return e}function Io(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Co=Oo(Jr),ko=un||function(t,e){return ie.setTimeout(t,e)},Po=Oo(Qr);function Ro(t,e,n){var r=e+"";return Po(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(nt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ye(h,(function(n){var r="_."+n[0];e&n[1]&&!Te(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(rt);return e?e[1].split(it):[]}(r),n)))}function Oo(e){var n=0,r=0;return function(){var i=yn(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(t,arguments)}}function No(e,n){var r=-1,i=e.length,o=i-1;for(n=n===t?i:n;++r<n;){var s=qr(r,o),a=e[s];e[s]=e[r],e[r]=a}return e.length=n,e}var Lo=function(t){var e=Os((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(J,(function(t,n,r,i){e.push(r?i.replace(at,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}();function Do(t){if("string"==typeof t||sa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Mo(t){if(null!=t){try{return Ot.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Uo(t){if(t instanceof zn)return t.clone();var e=new Bn(t.__wrapped__,t.__chain__);return e.__actions__=Ai(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Vo=Kr((function(t,e){return qs(t)?cr(t,mr(e,1,qs,!0)):[]})),Fo=Kr((function(e,n){var r=Go(n);return qs(r)&&(r=t),qs(e)?cr(e,mr(n,1,qs,!0),oo(r,2)):[]})),jo=Kr((function(e,n){var r=Go(n);return qs(r)&&(r=t),qs(e)?cr(e,mr(n,1,qs,!0),t,r):[]}));function Bo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:fa(n);return i<0&&(i=gn(r+i,0)),Re(t,oo(e,3),i)}function zo(e,n,r){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return r!==t&&(o=fa(r),o=r<0?gn(i+o,0):vn(o,i-1)),Re(e,oo(n,3),o,!0)}function $o(t){return null!=t&&t.length?mr(t,1):[]}function Ho(e){return e&&e.length?e[0]:t}var qo=Kr((function(t){var e=_e(t,pi);return e.length&&e[0]===t[0]?Ir(e):[]})),Wo=Kr((function(e){var n=Go(e),r=_e(e,pi);return n===Go(r)?n=t:r.pop(),r.length&&r[0]===e[0]?Ir(r,oo(n,2)):[]})),Ko=Kr((function(e){var n=Go(e),r=_e(e,pi);return(n="function"==typeof n?n:t)&&r.pop(),r.length&&r[0]===e[0]?Ir(r,t,n):[]}));function Go(e){var n=null==e?0:e.length;return n?e[n-1]:t}var Yo=Kr(Xo);function Xo(t,e){return t&&t.length&&e&&e.length?$r(t,e):t}var Jo=Zi((function(t,e){var n=null==t?0:t.length,r=ir(t,e);return Hr(t,_e(e,(function(t){return go(t,n)?+t:t})).sort(Si)),r}));function Qo(t){return null==t?t:En.call(t)}var Zo=Kr((function(t){return ai(mr(t,1,qs,!0))})),ts=Kr((function(e){var n=Go(e);return qs(n)&&(n=t),ai(mr(e,1,qs,!0),oo(n,2))})),es=Kr((function(e){var n=Go(e);return n="function"==typeof n?n:t,ai(mr(e,1,qs,!0),t,n)}));function ns(t){if(!t||!t.length)return[];var e=0;return t=Ee(t,(function(t){if(qs(t))return e=gn(t.length,e),!0})),je(e,(function(e){return _e(t,Me(e))}))}function rs(e,n){if(!e||!e.length)return[];var r=ns(e);return null==n?r:_e(r,(function(e){return ge(n,t,e)}))}var is=Kr((function(t,e){return qs(t)?cr(t,e):[]})),os=Kr((function(t){return fi(Ee(t,qs))})),ss=Kr((function(e){var n=Go(e);return qs(n)&&(n=t),fi(Ee(e,qs),oo(n,2))})),as=Kr((function(e){var n=Go(e);return n="function"==typeof n?n:t,fi(Ee(e,qs),t,n)})),us=Kr(ns),cs=Kr((function(e){var n=e.length,r=n>1?e[n-1]:t;return r="function"==typeof r?(e.pop(),r):t,rs(e,r)}));function ls(t){var e=Vn(t);return e.__chain__=!0,e}function hs(t,e){return e(t)}var fs=Zi((function(e){var n=e.length,r=n?e[0]:0,i=this.__wrapped__,o=function(t){return ir(t,e)};return!(n>1||this.__actions__.length)&&i instanceof zn&&go(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:hs,args:[o],thisArg:t}),new Bn(i,this.__chain__).thru((function(e){return n&&!e.length&&e.push(t),e}))):this.thru(o)})),ds=Ci((function(t,e,n){Nt.call(t,n)?++t[n]:rr(t,n,1)})),ps=Di(Bo),ms=Di(zo);function gs(t,e){return(zs(t)?ye:lr)(t,oo(e,3))}function vs(t,e){return(zs(t)?be:hr)(t,oo(e,3))}var ys=Ci((function(t,e,n){Nt.call(t,n)?t[n].push(e):rr(t,n,[e])})),bs=Kr((function(t,e,n){var r=-1,i="function"==typeof e,o=Hs(t)?mt(t.length):[];return lr(t,(function(t){o[++r]=i?ge(e,t,n):Cr(t,e,n)})),o})),ws=Ci((function(t,e,n){rr(t,n,e)}));function Es(t,e){return(zs(t)?_e:Mr)(t,oo(e,3))}var Ts=Ci((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Ss=Kr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&vo(t,e[0],e[1])?e=[]:n>2&&vo(e[0],e[1],e[2])&&(e=[e[0]]),Br(t,mr(e,1),[])})),_s=Ue||function(){return ie.Date.now()};function xs(e,n,r){return n=r?t:n,n=e&&null==n?e.length:n,Gi(e,o,t,t,t,t,n)}function As(n,r){var i;if("function"!=typeof r)throw new It(e);return n=fa(n),function(){return--n>0&&(i=r.apply(this,arguments)),n<=1&&(r=t),i}}var Is=Kr((function(t,e,n){var r=1;if(n.length){var o=tn(n,io(Is));r|=i}return Gi(t,r,e,n,o)})),Cs=Kr((function(t,e,n){var r=3;if(n.length){var o=tn(n,io(Cs));r|=i}return Gi(e,r,t,n,o)}));function ks(n,r,i){var o,s,a,u,c,l,h=0,f=!1,d=!1,p=!0;if("function"!=typeof n)throw new It(e);function m(e){var r=o,i=s;return o=s=t,h=e,u=n.apply(i,r)}function g(t){return h=t,c=ko(y,r),f?m(t):u}function v(e){var n=e-l;return l===t||n>=r||n<0||d&&e-h>=a}function y(){var t=_s();if(v(t))return b(t);c=ko(y,function(t){var e=r-(t-l);return d?vn(e,a-(t-h)):e}(t))}function b(e){return c=t,p&&o?m(e):(o=s=t,u)}function w(){var e=_s(),n=v(e);if(o=arguments,s=this,l=e,n){if(c===t)return g(l);if(d)return bi(c),c=ko(y,r),m(l)}return c===t&&(c=ko(y,r)),u}return r=pa(r)||0,Qs(i)&&(f=!!i.leading,a=(d="maxWait"in i)?gn(pa(i.maxWait)||0,r):a,p="trailing"in i?!!i.trailing:p),w.cancel=function(){c!==t&&bi(c),h=0,o=l=s=c=t},w.flush=function(){return c===t?u:b(_s())},w}var Ps=Kr((function(t,e){return ur(t,1,e)})),Rs=Kr((function(t,e,n){return ur(t,pa(e)||0,n)}));function Os(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new It(e);var r=function(){var e=arguments,i=n?n.apply(this,e):e[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,e);return r.cache=o.set(i,s)||o,s};return r.cache=new(Os.Cache||qn),r}function Ns(t){if("function"!=typeof t)throw new It(e);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Os.Cache=qn;var Ls=vi((function(t,e){var n=(e=1==e.length&&zs(e[0])?_e(e[0],ze(oo())):_e(mr(e,1),ze(oo()))).length;return Kr((function(r){for(var i=-1,o=vn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return ge(t,this,r)}))})),Ds=Kr((function(e,n){var r=tn(n,io(Ds));return Gi(e,i,t,n,r)})),Ms=Kr((function(e,n){var r=tn(n,io(Ms));return Gi(e,64,t,n,r)})),Us=Zi((function(e,n){return Gi(e,256,t,t,t,n)}));function Vs(t,e){return t===e||t!=t&&e!=e}var Fs=$i(_r),js=$i((function(t,e){return t>=e})),Bs=kr(function(){return arguments}())?kr:function(t){return Zs(t)&&Nt.call(t,"callee")&&!ne.call(t,"callee")},zs=mt.isArray,$s=le?ze(le):function(t){return Zs(t)&&Sr(t)==C};function Hs(t){return null!=t&&Js(t.length)&&!Ys(t)}function qs(t){return Zs(t)&&Hs(t)}var Ws=fn||pu,Ks=he?ze(he):function(t){return Zs(t)&&Sr(t)==m};function Gs(t){if(!Zs(t))return!1;var e=Sr(t);return e==g||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!na(t)}function Ys(t){if(!Qs(t))return!1;var e=Sr(t);return e==v||e==y||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Xs(t){return"number"==typeof t&&t==fa(t)}function Js(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function Qs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Zs(t){return null!=t&&"object"==typeof t}var ta=fe?ze(fe):function(t){return Zs(t)&&ho(t)==b};function ea(t){return"number"==typeof t||Zs(t)&&Sr(t)==w}function na(t){if(!Zs(t)||Sr(t)!=E)return!1;var e=Kt(t);if(null===e)return!0;var n=Nt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ot.call(n)==Ut}var ra=de?ze(de):function(t){return Zs(t)&&Sr(t)==S},ia=pe?ze(pe):function(t){return Zs(t)&&ho(t)==_};function oa(t){return"string"==typeof t||!zs(t)&&Zs(t)&&Sr(t)==x}function sa(t){return"symbol"==typeof t||Zs(t)&&Sr(t)==A}var aa=me?ze(me):function(t){return Zs(t)&&Js(t.length)&&!!Jt[Sr(t)]},ua=$i(Dr),ca=$i((function(t,e){return t<=e}));function la(t){if(!t)return[];if(Hs(t))return oa(t)?rn(t):Ai(t);if(se&&t[se])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[se]());var e=ho(t);return(e==b?Qe:e==_?en:Va)(t)}function ha(t){return t?(t=pa(t))===s||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function fa(t){var e=ha(t),n=e%1;return e==e?n?e-n:e:0}function da(t){return t?or(fa(t),0,l):0}function pa(t){if("number"==typeof t)return t;if(sa(t))return c;if(Qs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Qs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Be(t);var n=ht.test(t);return n||dt.test(t)?ee(t.slice(2),n?2:8):lt.test(t)?c:+t}function ma(t){return Ii(t,Pa(t))}function ga(t){return null==t?"":si(t)}var va=ki((function(t,e){if(Eo(e)||Hs(e))Ii(e,ka(e),t);else for(var n in e)Nt.call(e,n)&&Zn(t,n,e[n])})),ya=ki((function(t,e){Ii(e,Pa(e),t)})),ba=ki((function(t,e,n,r){Ii(e,Pa(e),t,r)})),wa=ki((function(t,e,n,r){Ii(e,ka(e),t,r)})),Ea=Zi(ir),Ta=Kr((function(e,n){e=_t(e);var r=-1,i=n.length,o=i>2?n[2]:t;for(o&&vo(n[0],n[1],o)&&(i=1);++r<i;)for(var s=n[r],a=Pa(s),u=-1,c=a.length;++u<c;){var l=a[u],h=e[l];(h===t||Vs(h,Pt[l])&&!Nt.call(e,l))&&(e[l]=s[l])}return e})),Sa=Kr((function(e){return e.push(t,Xi),ge(Oa,t,e)}));function _a(e,n,r){var i=null==e?t:Er(e,n);return i===t?r:i}function xa(t,e){return null!=t&&fo(t,e,Ar)}var Aa=Vi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),t[e]=n}),Qa(eu)),Ia=Vi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),Nt.call(t,e)?t[e].push(n):t[e]=[n]}),oo),Ca=Kr(Cr);function ka(t){return Hs(t)?Gn(t):Lr(t)}function Pa(t){return Hs(t)?Gn(t,!0):function(t){if(!Qs(t))return function(t){var e=[];if(null!=t)for(var n in _t(t))e.push(n);return e}(t);var e=Eo(t),n=[];for(var r in t)("constructor"!=r||!e&&Nt.call(t,r))&&n.push(r);return n}(t)}var Ra=ki((function(t,e,n){Fr(t,e,n)})),Oa=ki((function(t,e,n,r){Fr(t,e,n,r)})),Na=Zi((function(t,e){var n={};if(null==t)return n;var r=!1;e=_e(e,(function(e){return e=gi(e,t),r||(r=e.length>1),e})),Ii(t,eo(t),n),r&&(n=sr(n,7,Ji));for(var i=e.length;i--;)ui(n,e[i]);return n})),La=Zi((function(t,e){return null==t?{}:function(t,e){return zr(t,e,(function(e,n){return xa(t,n)}))}(t,e)}));function Da(t,e){if(null==t)return{};var n=_e(eo(t),(function(t){return[t]}));return e=oo(e),zr(t,n,(function(t,n){return e(t,n[0])}))}var Ma=Ki(ka),Ua=Ki(Pa);function Va(t){return null==t?[]:$e(t,ka(t))}var Fa=Ni((function(t,e,n){return e=e.toLowerCase(),t+(n?ja(e):e)}));function ja(t){return Ga(ga(t).toLowerCase())}function Ba(t){return(t=ga(t))&&t.replace(vt,Ge).replace(Ht,"")}var za=Ni((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),$a=Ni((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ha=Oi("toLowerCase"),qa=Ni((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Wa=Ni((function(t,e,n){return t+(n?" ":"")+Ga(e)})),Ka=Ni((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ga=Oi("toUpperCase");function Ya(e,n,r){return e=ga(e),(n=r?t:n)===t?function(t){return Gt.test(t)}(e)?function(t){return t.match(Wt)||[]}(e):function(t){return t.match(ot)||[]}(e):e.match(n)||[]}var Xa=Kr((function(e,n){try{return ge(e,t,n)}catch(t){return Gs(t)?t:new Et(t)}})),Ja=Zi((function(t,e){return ye(e,(function(e){e=Do(e),rr(t,e,Is(t[e],t))})),t}));function Qa(t){return function(){return t}}var Za=Mi(),tu=Mi(!0);function eu(t){return t}function nu(t){return Nr("function"==typeof t?t:sr(t,1))}var ru=Kr((function(t,e){return function(n){return Cr(n,t,e)}})),iu=Kr((function(t,e){return function(n){return Cr(t,n,e)}}));function ou(t,e,n){var r=ka(e),i=wr(e,r);null!=n||Qs(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=wr(e,ka(e)));var o=!(Qs(n)&&"chain"in n&&!n.chain),s=Ys(t);return ye(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Ai(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,xe([this.value()],arguments))})})),t}function su(){}var au=ji(_e),uu=ji(we),cu=ji(Ce);function lu(t){return yo(t)?Me(Do(t)):function(t){return function(e){return Er(e,t)}}(t)}var hu=zi(),fu=zi(!0);function du(){return[]}function pu(){return!1}var mu,gu=Fi((function(t,e){return t+e}),0),vu=qi("ceil"),yu=Fi((function(t,e){return t/e}),1),bu=qi("floor"),wu=Fi((function(t,e){return t*e}),1),Eu=qi("round"),Tu=Fi((function(t,e){return t-e}),0);return Vn.after=function(t,n){if("function"!=typeof n)throw new It(e);return t=fa(t),function(){if(--t<1)return n.apply(this,arguments)}},Vn.ary=xs,Vn.assign=va,Vn.assignIn=ya,Vn.assignInWith=ba,Vn.assignWith=wa,Vn.at=Ea,Vn.before=As,Vn.bind=Is,Vn.bindAll=Ja,Vn.bindKey=Cs,Vn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return zs(t)?t:[t]},Vn.chain=ls,Vn.chunk=function(e,n,r){n=(r?vo(e,n,r):n===t)?1:gn(fa(n),0);var i=null==e?0:e.length;if(!i||n<1)return[];for(var o=0,s=0,a=mt(cn(i/n));o<i;)a[s++]=ti(e,o,o+=n);return a},Vn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Vn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=mt(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return xe(zs(n)?Ai(n):[n],mr(e,1))},Vn.cond=function(t){var n=null==t?0:t.length,r=oo();return t=n?_e(t,(function(t){if("function"!=typeof t[1])throw new It(e);return[r(t[0]),t[1]]})):[],Kr((function(e){for(var r=-1;++r<n;){var i=t[r];if(ge(i[0],this,e))return ge(i[1],this,e)}}))},Vn.conforms=function(t){return function(t){var e=ka(t);return function(n){return ar(n,t,e)}}(sr(t,1))},Vn.constant=Qa,Vn.countBy=ds,Vn.create=function(t,e){var n=Fn(t);return null==e?n:nr(n,e)},Vn.curry=function e(n,r,i){var o=Gi(n,8,t,t,t,t,t,r=i?t:r);return o.placeholder=e.placeholder,o},Vn.curryRight=function e(n,r,i){var o=Gi(n,16,t,t,t,t,t,r=i?t:r);return o.placeholder=e.placeholder,o},Vn.debounce=ks,Vn.defaults=Ta,Vn.defaultsDeep=Sa,Vn.defer=Ps,Vn.delay=Rs,Vn.difference=Vo,Vn.differenceBy=Fo,Vn.differenceWith=jo,Vn.drop=function(e,n,r){var i=null==e?0:e.length;return i?ti(e,(n=r||n===t?1:fa(n))<0?0:n,i):[]},Vn.dropRight=function(e,n,r){var i=null==e?0:e.length;return i?ti(e,0,(n=i-(n=r||n===t?1:fa(n)))<0?0:n):[]},Vn.dropRightWhile=function(t,e){return t&&t.length?li(t,oo(e,3),!0,!0):[]},Vn.dropWhile=function(t,e){return t&&t.length?li(t,oo(e,3),!0):[]},Vn.fill=function(e,n,r,i){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&vo(e,n,r)&&(r=0,i=o),function(e,n,r,i){var o=e.length;for((r=fa(r))<0&&(r=-r>o?0:o+r),(i=i===t||i>o?o:fa(i))<0&&(i+=o),i=r>i?0:da(i);r<i;)e[r++]=n;return e}(e,n,r,i)):[]},Vn.filter=function(t,e){return(zs(t)?Ee:pr)(t,oo(e,3))},Vn.flatMap=function(t,e){return mr(Es(t,e),1)},Vn.flatMapDeep=function(t,e){return mr(Es(t,e),s)},Vn.flatMapDepth=function(e,n,r){return r=r===t?1:fa(r),mr(Es(e,n),r)},Vn.flatten=$o,Vn.flattenDeep=function(t){return null!=t&&t.length?mr(t,s):[]},Vn.flattenDepth=function(e,n){return null!=e&&e.length?mr(e,n=n===t?1:fa(n)):[]},Vn.flip=function(t){return Gi(t,512)},Vn.flow=Za,Vn.flowRight=tu,Vn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Vn.functions=function(t){return null==t?[]:wr(t,ka(t))},Vn.functionsIn=function(t){return null==t?[]:wr(t,Pa(t))},Vn.groupBy=ys,Vn.initial=function(t){return null!=t&&t.length?ti(t,0,-1):[]},Vn.intersection=qo,Vn.intersectionBy=Wo,Vn.intersectionWith=Ko,Vn.invert=Aa,Vn.invertBy=Ia,Vn.invokeMap=bs,Vn.iteratee=nu,Vn.keyBy=ws,Vn.keys=ka,Vn.keysIn=Pa,Vn.map=Es,Vn.mapKeys=function(t,e){var n={};return e=oo(e,3),yr(t,(function(t,r,i){rr(n,e(t,r,i),t)})),n},Vn.mapValues=function(t,e){var n={};return e=oo(e,3),yr(t,(function(t,r,i){rr(n,r,e(t,r,i))})),n},Vn.matches=function(t){return Ur(sr(t,1))},Vn.matchesProperty=function(t,e){return Vr(t,sr(e,1))},Vn.memoize=Os,Vn.merge=Ra,Vn.mergeWith=Oa,Vn.method=ru,Vn.methodOf=iu,Vn.mixin=ou,Vn.negate=Ns,Vn.nthArg=function(t){return t=fa(t),Kr((function(e){return jr(e,t)}))},Vn.omit=Na,Vn.omitBy=function(t,e){return Da(t,Ns(oo(e)))},Vn.once=function(t){return As(2,t)},Vn.orderBy=function(e,n,r,i){return null==e?[]:(zs(n)||(n=null==n?[]:[n]),zs(r=i?t:r)||(r=null==r?[]:[r]),Br(e,n,r))},Vn.over=au,Vn.overArgs=Ls,Vn.overEvery=uu,Vn.overSome=cu,Vn.partial=Ds,Vn.partialRight=Ms,Vn.partition=Ts,Vn.pick=La,Vn.pickBy=Da,Vn.property=lu,Vn.propertyOf=function(e){return function(n){return null==e?t:Er(e,n)}},Vn.pull=Yo,Vn.pullAll=Xo,Vn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?$r(t,e,oo(n,2)):t},Vn.pullAllWith=function(e,n,r){return e&&e.length&&n&&n.length?$r(e,n,t,r):e},Vn.pullAt=Jo,Vn.range=hu,Vn.rangeRight=fu,Vn.rearg=Us,Vn.reject=function(t,e){return(zs(t)?Ee:pr)(t,Ns(oo(e,3)))},Vn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=oo(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Hr(t,i),n},Vn.rest=function(n,r){if("function"!=typeof n)throw new It(e);return Kr(n,r=r===t?r:fa(r))},Vn.reverse=Qo,Vn.sampleSize=function(e,n,r){return n=(r?vo(e,n,r):n===t)?1:fa(n),(zs(e)?Xn:Yr)(e,n)},Vn.set=function(t,e,n){return null==t?t:Xr(t,e,n)},Vn.setWith=function(e,n,r,i){return i="function"==typeof i?i:t,null==e?e:Xr(e,n,r,i)},Vn.shuffle=function(t){return(zs(t)?Jn:Zr)(t)},Vn.slice=function(e,n,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&vo(e,n,r)?(n=0,r=i):(n=null==n?0:fa(n),r=r===t?i:fa(r)),ti(e,n,r)):[]},Vn.sortBy=Ss,Vn.sortedUniq=function(t){return t&&t.length?ii(t):[]},Vn.sortedUniqBy=function(t,e){return t&&t.length?ii(t,oo(e,2)):[]},Vn.split=function(e,n,r){return r&&"number"!=typeof r&&vo(e,n,r)&&(n=r=t),(r=r===t?l:r>>>0)?(e=ga(e))&&("string"==typeof n||null!=n&&!ra(n))&&!(n=si(n))&&Je(e)?yi(rn(e),0,r):e.split(n,r):[]},Vn.spread=function(t,n){if("function"!=typeof t)throw new It(e);return n=null==n?0:gn(fa(n),0),Kr((function(e){var r=e[n],i=yi(e,0,n);return r&&xe(i,r),ge(t,this,i)}))},Vn.tail=function(t){var e=null==t?0:t.length;return e?ti(t,1,e):[]},Vn.take=function(e,n,r){return e&&e.length?ti(e,0,(n=r||n===t?1:fa(n))<0?0:n):[]},Vn.takeRight=function(e,n,r){var i=null==e?0:e.length;return i?ti(e,(n=i-(n=r||n===t?1:fa(n)))<0?0:n,i):[]},Vn.takeRightWhile=function(t,e){return t&&t.length?li(t,oo(e,3),!1,!0):[]},Vn.takeWhile=function(t,e){return t&&t.length?li(t,oo(e,3)):[]},Vn.tap=function(t,e){return e(t),t},Vn.throttle=function(t,n,r){var i=!0,o=!0;if("function"!=typeof t)throw new It(e);return Qs(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),ks(t,n,{leading:i,maxWait:n,trailing:o})},Vn.thru=hs,Vn.toArray=la,Vn.toPairs=Ma,Vn.toPairsIn=Ua,Vn.toPath=function(t){return zs(t)?_e(t,Do):sa(t)?[t]:Ai(Lo(ga(t)))},Vn.toPlainObject=ma,Vn.transform=function(t,e,n){var r=zs(t),i=r||Ws(t)||aa(t);if(e=oo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Qs(t)&&Ys(o)?Fn(Kt(t)):{}}return(i?ye:yr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Vn.unary=function(t){return xs(t,1)},Vn.union=Zo,Vn.unionBy=ts,Vn.unionWith=es,Vn.uniq=function(t){return t&&t.length?ai(t):[]},Vn.uniqBy=function(t,e){return t&&t.length?ai(t,oo(e,2)):[]},Vn.uniqWith=function(e,n){return n="function"==typeof n?n:t,e&&e.length?ai(e,t,n):[]},Vn.unset=function(t,e){return null==t||ui(t,e)},Vn.unzip=ns,Vn.unzipWith=rs,Vn.update=function(t,e,n){return null==t?t:ci(t,e,mi(n))},Vn.updateWith=function(e,n,r,i){return i="function"==typeof i?i:t,null==e?e:ci(e,n,mi(r),i)},Vn.values=Va,Vn.valuesIn=function(t){return null==t?[]:$e(t,Pa(t))},Vn.without=is,Vn.words=Ya,Vn.wrap=function(t,e){return Ds(mi(e),t)},Vn.xor=os,Vn.xorBy=ss,Vn.xorWith=as,Vn.zip=us,Vn.zipObject=function(t,e){return di(t||[],e||[],Zn)},Vn.zipObjectDeep=function(t,e){return di(t||[],e||[],Xr)},Vn.zipWith=cs,Vn.entries=Ma,Vn.entriesIn=Ua,Vn.extend=ya,Vn.extendWith=ba,ou(Vn,Vn),Vn.add=gu,Vn.attempt=Xa,Vn.camelCase=Fa,Vn.capitalize=ja,Vn.ceil=vu,Vn.clamp=function(e,n,r){return r===t&&(r=n,n=t),r!==t&&(r=(r=pa(r))==r?r:0),n!==t&&(n=(n=pa(n))==n?n:0),or(pa(e),n,r)},Vn.clone=function(t){return sr(t,4)},Vn.cloneDeep=function(t){return sr(t,5)},Vn.cloneDeepWith=function(e,n){return sr(e,5,n="function"==typeof n?n:t)},Vn.cloneWith=function(e,n){return sr(e,4,n="function"==typeof n?n:t)},Vn.conformsTo=function(t,e){return null==e||ar(t,e,ka(e))},Vn.deburr=Ba,Vn.defaultTo=function(t,e){return null==t||t!=t?e:t},Vn.divide=yu,Vn.endsWith=function(e,n,r){e=ga(e),n=si(n);var i=e.length,o=r=r===t?i:or(fa(r),0,i);return(r-=n.length)>=0&&e.slice(r,o)==n},Vn.eq=Vs,Vn.escape=function(t){return(t=ga(t))&&q.test(t)?t.replace($,Ye):t},Vn.escapeRegExp=function(t){return(t=ga(t))&&Z.test(t)?t.replace(Q,"\\$&"):t},Vn.every=function(e,n,r){var i=zs(e)?we:fr;return r&&vo(e,n,r)&&(n=t),i(e,oo(n,3))},Vn.find=ps,Vn.findIndex=Bo,Vn.findKey=function(t,e){return Pe(t,oo(e,3),yr)},Vn.findLast=ms,Vn.findLastIndex=zo,Vn.findLastKey=function(t,e){return Pe(t,oo(e,3),br)},Vn.floor=bu,Vn.forEach=gs,Vn.forEachRight=vs,Vn.forIn=function(t,e){return null==t?t:gr(t,oo(e,3),Pa)},Vn.forInRight=function(t,e){return null==t?t:vr(t,oo(e,3),Pa)},Vn.forOwn=function(t,e){return t&&yr(t,oo(e,3))},Vn.forOwnRight=function(t,e){return t&&br(t,oo(e,3))},Vn.get=_a,Vn.gt=Fs,Vn.gte=js,Vn.has=function(t,e){return null!=t&&fo(t,e,xr)},Vn.hasIn=xa,Vn.head=Ho,Vn.identity=eu,Vn.includes=function(t,e,n,r){t=Hs(t)?t:Va(t),n=n&&!r?fa(n):0;var i=t.length;return n<0&&(n=gn(i+n,0)),oa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Oe(t,e,n)>-1},Vn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:fa(n);return i<0&&(i=gn(r+i,0)),Oe(t,e,i)},Vn.inRange=function(e,n,r){return n=ha(n),r===t?(r=n,n=0):r=ha(r),function(t,e,n){return t>=vn(e,n)&&t<gn(e,n)}(e=pa(e),n,r)},Vn.invoke=Ca,Vn.isArguments=Bs,Vn.isArray=zs,Vn.isArrayBuffer=$s,Vn.isArrayLike=Hs,Vn.isArrayLikeObject=qs,Vn.isBoolean=function(t){return!0===t||!1===t||Zs(t)&&Sr(t)==p},Vn.isBuffer=Ws,Vn.isDate=Ks,Vn.isElement=function(t){return Zs(t)&&1===t.nodeType&&!na(t)},Vn.isEmpty=function(t){if(null==t)return!0;if(Hs(t)&&(zs(t)||"string"==typeof t||"function"==typeof t.splice||Ws(t)||aa(t)||Bs(t)))return!t.length;var e=ho(t);if(e==b||e==_)return!t.size;if(Eo(t))return!Lr(t).length;for(var n in t)if(Nt.call(t,n))return!1;return!0},Vn.isEqual=function(t,e){return Pr(t,e)},Vn.isEqualWith=function(e,n,r){var i=(r="function"==typeof r?r:t)?r(e,n):t;return i===t?Pr(e,n,t,r):!!i},Vn.isError=Gs,Vn.isFinite=function(t){return"number"==typeof t&&dn(t)},Vn.isFunction=Ys,Vn.isInteger=Xs,Vn.isLength=Js,Vn.isMap=ta,Vn.isMatch=function(t,e){return t===e||Rr(t,e,ao(e))},Vn.isMatchWith=function(e,n,r){return r="function"==typeof r?r:t,Rr(e,n,ao(n),r)},Vn.isNaN=function(t){return ea(t)&&t!=+t},Vn.isNative=function(t){if(wo(t))throw new Et("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Or(t)},Vn.isNil=function(t){return null==t},Vn.isNull=function(t){return null===t},Vn.isNumber=ea,Vn.isObject=Qs,Vn.isObjectLike=Zs,Vn.isPlainObject=na,Vn.isRegExp=ra,Vn.isSafeInteger=function(t){return Xs(t)&&t>=-9007199254740991&&t<=u},Vn.isSet=ia,Vn.isString=oa,Vn.isSymbol=sa,Vn.isTypedArray=aa,Vn.isUndefined=function(e){return e===t},Vn.isWeakMap=function(t){return Zs(t)&&ho(t)==I},Vn.isWeakSet=function(t){return Zs(t)&&"[object WeakSet]"==Sr(t)},Vn.join=function(t,e){return null==t?"":pn.call(t,e)},Vn.kebabCase=za,Vn.last=Go,Vn.lastIndexOf=function(e,n,r){var i=null==e?0:e.length;if(!i)return-1;var o=i;return r!==t&&(o=(o=fa(r))<0?gn(i+o,0):vn(o,i-1)),n==n?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(e,n,o):Re(e,Le,o,!0)},Vn.lowerCase=$a,Vn.lowerFirst=Ha,Vn.lt=ua,Vn.lte=ca,Vn.max=function(e){return e&&e.length?dr(e,eu,_r):t},Vn.maxBy=function(e,n){return e&&e.length?dr(e,oo(n,2),_r):t},Vn.mean=function(t){return De(t,eu)},Vn.meanBy=function(t,e){return De(t,oo(e,2))},Vn.min=function(e){return e&&e.length?dr(e,eu,Dr):t},Vn.minBy=function(e,n){return e&&e.length?dr(e,oo(n,2),Dr):t},Vn.stubArray=du,Vn.stubFalse=pu,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=wu,Vn.nth=function(e,n){return e&&e.length?jr(e,fa(n)):t},Vn.noConflict=function(){return ie._===this&&(ie._=Vt),this},Vn.noop=su,Vn.now=_s,Vn.pad=function(t,e,n){t=ga(t);var r=(e=fa(e))?nn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Bi(ln(i),n)+t+Bi(cn(i),n)},Vn.padEnd=function(t,e,n){t=ga(t);var r=(e=fa(e))?nn(t):0;return e&&r<e?t+Bi(e-r,n):t},Vn.padStart=function(t,e,n){t=ga(t);var r=(e=fa(e))?nn(t):0;return e&&r<e?Bi(e-r,n)+t:t},Vn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),bn(ga(t).replace(tt,""),e||0)},Vn.random=function(e,n,r){if(r&&"boolean"!=typeof r&&vo(e,n,r)&&(n=r=t),r===t&&("boolean"==typeof n?(r=n,n=t):"boolean"==typeof e&&(r=e,e=t)),e===t&&n===t?(e=0,n=1):(e=ha(e),n===t?(n=e,e=0):n=ha(n)),e>n){var i=e;e=n,n=i}if(r||e%1||n%1){var o=wn();return vn(e+o*(n-e+te("1e-"+((o+"").length-1))),n)}return qr(e,n)},Vn.reduce=function(t,e,n){var r=zs(t)?Ae:Ve,i=arguments.length<3;return r(t,oo(e,4),n,i,lr)},Vn.reduceRight=function(t,e,n){var r=zs(t)?Ie:Ve,i=arguments.length<3;return r(t,oo(e,4),n,i,hr)},Vn.repeat=function(e,n,r){return n=(r?vo(e,n,r):n===t)?1:fa(n),Wr(ga(e),n)},Vn.replace=function(){var t=arguments,e=ga(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Vn.result=function(e,n,r){var i=-1,o=(n=gi(n,e)).length;for(o||(o=1,e=t);++i<o;){var s=null==e?t:e[Do(n[i])];s===t&&(i=o,s=r),e=Ys(s)?s.call(e):s}return e},Vn.round=Eu,Vn.runInContext=a,Vn.sample=function(t){return(zs(t)?Yn:Gr)(t)},Vn.size=function(t){if(null==t)return 0;if(Hs(t))return oa(t)?nn(t):t.length;var e=ho(t);return e==b||e==_?t.size:Lr(t).length},Vn.snakeCase=qa,Vn.some=function(e,n,r){var i=zs(e)?Ce:ei;return r&&vo(e,n,r)&&(n=t),i(e,oo(n,3))},Vn.sortedIndex=function(t,e){return ni(t,e)},Vn.sortedIndexBy=function(t,e,n){return ri(t,e,oo(n,2))},Vn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ni(t,e);if(r<n&&Vs(t[r],e))return r}return-1},Vn.sortedLastIndex=function(t,e){return ni(t,e,!0)},Vn.sortedLastIndexBy=function(t,e,n){return ri(t,e,oo(n,2),!0)},Vn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ni(t,e,!0)-1;if(Vs(t[n],e))return n}return-1},Vn.startCase=Wa,Vn.startsWith=function(t,e,n){return t=ga(t),n=null==n?0:or(fa(n),0,t.length),e=si(e),t.slice(n,n+e.length)==e},Vn.subtract=Tu,Vn.sum=function(t){return t&&t.length?Fe(t,eu):0},Vn.sumBy=function(t,e){return t&&t.length?Fe(t,oo(e,2)):0},Vn.template=function(e,n,r){var i=Vn.templateSettings;r&&vo(e,n,r)&&(n=t),e=ga(e),n=ba({},n,i,Yi);var o,s,a=ba({},n.imports,i.imports,Yi),u=ka(a),c=$e(a,u),l=0,h=n.interpolate||yt,f="__p += '",d=xt((n.escape||yt).source+"|"+h.source+"|"+(h===G?ut:yt).source+"|"+(n.evaluate||yt).source+"|$","g"),p="//# sourceURL="+(Nt.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xt+"]")+"\n";e.replace(d,(function(t,n,r,i,a,u){return r||(r=i),f+=e.slice(l,u).replace(bt,Xe),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),f+="';\n";var m=Nt.call(n,"variable")&&n.variable;if(m){if(st.test(m))throw new Et("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(F,""):f).replace(j,"$1").replace(B,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Xa((function(){return Tt(u,p+"return "+f).apply(t,c)}));if(g.source=f,Gs(g))throw g;return g},Vn.times=function(t,e){if((t=fa(t))<1||t>u)return[];var n=l,r=vn(t,l);e=oo(e),t-=l;for(var i=je(r,e);++n<t;)e(n);return i},Vn.toFinite=ha,Vn.toInteger=fa,Vn.toLength=da,Vn.toLower=function(t){return ga(t).toLowerCase()},Vn.toNumber=pa,Vn.toSafeInteger=function(t){return t?or(fa(t),-9007199254740991,u):0===t?t:0},Vn.toString=ga,Vn.toUpper=function(t){return ga(t).toUpperCase()},Vn.trim=function(e,n,r){if((e=ga(e))&&(r||n===t))return Be(e);if(!e||!(n=si(n)))return e;var i=rn(e),o=rn(n);return yi(i,qe(i,o),We(i,o)+1).join("")},Vn.trimEnd=function(e,n,r){if((e=ga(e))&&(r||n===t))return e.slice(0,on(e)+1);if(!e||!(n=si(n)))return e;var i=rn(e);return yi(i,0,We(i,rn(n))+1).join("")},Vn.trimStart=function(e,n,r){if((e=ga(e))&&(r||n===t))return e.replace(tt,"");if(!e||!(n=si(n)))return e;var i=rn(e);return yi(i,qe(i,rn(n))).join("")},Vn.truncate=function(e,n){var r=30,i="...";if(Qs(n)){var o="separator"in n?n.separator:o;r="length"in n?fa(n.length):r,i="omission"in n?si(n.omission):i}var s=(e=ga(e)).length;if(Je(e)){var a=rn(e);s=a.length}if(r>=s)return e;var u=r-nn(i);if(u<1)return i;var c=a?yi(a,0,u).join(""):e.slice(0,u);if(o===t)return c+i;if(a&&(u+=c.length-u),ra(o)){if(e.slice(u).search(o)){var l,h=c;for(o.global||(o=xt(o.source,ga(ct.exec(o))+"g")),o.lastIndex=0;l=o.exec(h);)var f=l.index;c=c.slice(0,f===t?u:f)}}else if(e.indexOf(si(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+i},Vn.unescape=function(t){return(t=ga(t))&&H.test(t)?t.replace(z,sn):t},Vn.uniqueId=function(t){var e=++Lt;return ga(t)+e},Vn.upperCase=Ka,Vn.upperFirst=Ga,Vn.each=gs,Vn.eachRight=vs,Vn.first=Ho,ou(Vn,(mu={},yr(Vn,(function(t,e){Nt.call(Vn.prototype,e)||(mu[e]=t)})),mu),{chain:!1}),Vn.VERSION="4.17.21",ye(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Vn[t].placeholder=Vn})),ye(["drop","take"],(function(e,n){zn.prototype[e]=function(r){r=r===t?1:gn(fa(r),0);var i=this.__filtered__&&!n?new zn(this):this.clone();return i.__filtered__?i.__takeCount__=vn(r,i.__takeCount__):i.__views__.push({size:vn(r,l),type:e+(i.__dir__<0?"Right":"")}),i},zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),ye(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;zn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:oo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ye(["head","last"],(function(t,e){var n="take"+(e?"Right":"");zn.prototype[t]=function(){return this[n](1).value()[0]}})),ye(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");zn.prototype[t]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(eu)},zn.prototype.find=function(t){return this.filter(t).head()},zn.prototype.findLast=function(t){return this.reverse().find(t)},zn.prototype.invokeMap=Kr((function(t,e){return"function"==typeof t?new zn(this):this.map((function(n){return Cr(n,t,e)}))})),zn.prototype.reject=function(t){return this.filter(Ns(oo(t)))},zn.prototype.slice=function(e,n){e=fa(e);var r=this;return r.__filtered__&&(e>0||n<0)?new zn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),n!==t&&(r=(n=fa(n))<0?r.dropRight(-n):r.take(n-e)),r)},zn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},zn.prototype.toArray=function(){return this.take(l)},yr(zn.prototype,(function(e,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),o=Vn[i?"take"+("last"==n?"Right":""):n],s=i||/^find/.test(n);o&&(Vn.prototype[n]=function(){var n=this.__wrapped__,a=i?[1]:arguments,u=n instanceof zn,c=a[0],l=u||zs(n),h=function(t){var e=o.apply(Vn,xe([t],a));return i&&f?e[0]:e};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,m=u&&!d;if(!s&&l){n=m?n:new zn(this);var g=e.apply(n,a);return g.__actions__.push({func:hs,args:[h],thisArg:t}),new Bn(g,f)}return p&&m?e.apply(this,a):(g=this.thru(h),p?i?g.value()[0]:g.value():g)})})),ye(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Ct[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Vn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(zs(i)?i:[],t)}return this[n]((function(n){return e.apply(zs(n)?n:[],t)}))}})),yr(zn.prototype,(function(t,e){var n=Vn[e];if(n){var r=n.name+"";Nt.call(kn,r)||(kn[r]=[]),kn[r].push({name:e,func:n})}})),kn[Ui(t,2).name]=[{name:"wrapper",func:t}],zn.prototype.clone=function(){var t=new zn(this.__wrapped__);return t.__actions__=Ai(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ai(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ai(this.__views__),t},zn.prototype.reverse=function(){if(this.__filtered__){var t=new zn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},zn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=zs(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=vn(e,t+s);break;case"takeRight":t=gn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,h=l.length,f=0,d=vn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return hi(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var m=-1,g=t[c+=e];++m<h;){var v=l[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue t;break t}}p[f++]=g}return p},Vn.prototype.at=fs,Vn.prototype.chain=function(){return ls(this)},Vn.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===t&&(this.__values__=la(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?t:this.__values__[this.__index__++]}},Vn.prototype.plant=function(e){for(var n,r=this;r instanceof jn;){var i=Uo(r);i.__index__=0,i.__values__=t,n?o.__wrapped__=i:n=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,n},Vn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zn){var n=e;return this.__actions__.length&&(n=new zn(this)),(n=n.reverse()).__actions__.push({func:hs,args:[Qo],thisArg:t}),new Bn(n,this.__chain__)}return this.thru(Qo)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,se&&(Vn.prototype[se]=function(){return this}),Vn}();se?((se.exports=an)._=an,oe._=an):ie._=an}.call(a);var bt=function(t){var e=t.options,n=t.callbacks,i=t.elements,o=t.children,s=t.defaultOptions,a=t.defaultCallbacks,u=(0,r.useContext)(ct),c=(0,r.useRef)(null),l=(0,r.useRef)(),h=(0,r.useRef)(!0);return(0,r.useEffect)((function(){try{u.dispatch({type:"RESET_LIGHTBOX"})}catch(t){dt(t.message="SRL - ERROR WHEN RESETTING THE LIGHTBOX STATUS")}return function(){h.current=!1}}),[]),(0,r.useEffect)((function(){function t(t){if(t){var e=t.querySelectorAll("img");e.length>0?u.isLoaded||(function(t){var e=[].map.call(t,(function(t){return(e=t,n=new Promise((function(t,n){function r(){"lazy"===e.loading||0!==e.naturalWidth?t(e):n(void 0),e.removeEventListener("load",r),e.removeEventListener("error",r)}"lazy"===e.loading||0!==e.naturalWidth?t(e):e.complete?n(void 0):(e.addEventListener("load",r),e.addEventListener("error",r))})),Object.assign(n,{image:e})).catch((function(t){return t}));var e,n}));return Promise.all(e).then((function(t){return Promise.resolve(t.filter((function(t){return t})))}))}(e).then((function(t){return h.current?function(t){var e,n=[];t.forEach((function(t){n=function(t){var e,n,r,i;return t.getAttribute("srl_gallery_image")||"IMG"===t.nodeName&&("A"===(null===(e=t.offsetParent)||void 0===e?void 0:e.nodeName)||"A"===(null===(n=t.parentNode)||void 0===n?void 0:n.nodeName))||"IMG"===t.nodeName&&"PICTURE"===t.parentNode.nodeName&&"A"===(null===(r=t.offsetParent)||void 0===r?void 0:r.nodeName)||"A"===(null===(i=t.parentNode)||void 0===i?void 0:i.nodeName)}(t)||function(t){return"IMG"===t.nodeName&&"PICTURE"===t.parentNode.nodeName&&t.parentNode.parentNode.className.includes("gatsby-image-wrapper")&&"A"===t.parentNode.parentNode.parentNode.nodeName}(t)?[].concat(ht(n),[{type:"GALLERY IMAGE",element:t}]):function(t){var e;return"IMG"===t.nodeName&&"A"!==(null===(e=t.parentNode)||void 0===e?void 0:e.nodeName)}(t)?[].concat(ht(n),[{type:"IMAGE",element:t}]):ht(n)})),e=0,o(n.map((function(t){var n,i,o,s,a,u,c=t.element,l=t.type;if(!c.ariaHidden){c.setAttribute("srl_elementid",e);var h=null===(n=c.src)||void 0===n?void 0:n.includes("base64"),f=null===(i=c.src)||void 0===i?void 0:i.includes("svg+xml"),d=null===(o=c.offsetParent)||void 0===o?void 0:o.className.includes("gatsby-image-wrapper"),p="picture"!==(null===(s=c.parentNode)||void 0===s?void 0:s.localName),m="presentation"===c.getAttribute("role"),g=(null===(a=c.src)||void 0===a?void 0:a.includes("data:image/gif"))||(null===(u=c.src)||void 0===u?void 0:u.includes("data:image/svg+xml;base64"));if(!(d&&(h||f)&&p||m||g))switch(e++,l){case"IMAGE":var v={id:c.getAttribute("srl_elementid"),source:c.src||c.currentSrc,caption:c.alt,thumbnail:c.src||c.currentSrc,width:c.naturalWidth,height:c.naturalHeight,type:"image"};return ft(c,v,r),v;case"GALLERY IMAGE":var y={id:c.getAttribute("srl_elementid"),source:c.parentElement.href||c.offsetParent.parentElement.href||c.offsetParent.href||c.parentElement.parentElement.parentElement.href||c.src||c.currentSrc||null,caption:c.alt||c.textContent,thumbnail:c.parentElement.href||c.offsetParent.parentElement.href||c.offsetParent.href||c.parentElement.parentElement.parentElement.href||c.src||c.currentSrc,width:null,height:null,type:"gallery_image"};return ft(c,y,r),y;default:return}}})).filter((function(t){return void 0!==t})))}(t):null})),Array.from(e).map((function(t){return t.addEventListener("click",(function(t){t.preventDefault()}))}))):i&&function(t){o(t.map((function(t,e){return function(t){return t.src}(t)?{id:e+"",source:t.src||null,caption:t.caption||null,thumbnail:t.thumbnail||t.src||null,type:"image"}:void 0})).filter((function(t){return t&&!t.src})))}(i)}}var r=function(t){if(!gt.exports.isEqual(t,u.selectedElement))try{u.dispatch({type:"HANDLE_ELEMENT",element:t})}catch(t){dt(t.message="SRL - ERROR WHEN HANDLING THE ELEMENT")}};function o(t){return function(t,e,n){var r,i;r=gt.exports.isEmpty(t)?yt(yt({},s),{},{buttons:yt({},s.buttons),settings:yt({},s.settings),caption:yt({},s.caption),thumbnails:yt({},s.thumbnails),progressBar:yt({},s.progressBar)}):yt(yt(yt({},s),t),{},{buttons:yt(yt({},s.buttons),t.buttons),settings:yt(yt({},s.settings),t.settings),caption:yt(yt({},s.caption),t.caption),thumbnails:yt(yt({},s.thumbnails),t.thumbnails),progressBar:yt(yt({},s.progressBar),t.progressBar)}),i=gt.exports.isEmpty(e)?yt({},a):yt(yt({},a),e);var o={options:yt({},r),callbacks:yt({},i)};if(!gt.exports.isEqual(o.options,u.options)||!gt.exports.isEqual(o.callbacks,u.callbacks)||!gt.exports.isEqual(n,u.elements))try{u.dispatch({type:"READY_LIGHTBOX",mergedSettings:o,elements:n})}catch(t){dt(t.message="SRL - ERROR GRABBING SETTINGS AND ELEMENTS")}}(e,n,t)}l.current=new MutationObserver((function(){t(c.current)})),l.current.observe(c.current,{childList:!0,subtree:!0,attributeFilter:["href","src"]}),t(c.current)}),[u,a,s,e,n,i]),r.createElement("div",{ref:c},o)};function wt(){return(wt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Et(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Tt(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}bt.propTypes={defaultOptions:et.shape({settings:et.shape({autoplaySpeed:et.number,boxShadow:et.string,disableKeyboardControls:et.bool,disablePanzoom:et.bool,disableWheelControls:et.bool,downloadedFileName:et.string,hideControlsAfter:et.oneOfType([et.number,et.bool]),lightboxTransitionSpeed:et.number,lightboxTransitionTimingFunction:et.oneOfType([et.string,et.array]),overlayColor:et.string,slideAnimationType:et.string,slideSpringValues:et.array,slideTransitionSpeed:et.number,slideTransitionTimingFunction:et.oneOfType([et.string,et.array]),usingPreact:et.bool}),buttons:et.shape({backgroundColor:et.string,iconColor:et.string,iconPadding:et.string,showAutoplayButton:et.bool,showCloseButton:et.bool,showDownloadButton:et.bool,showFullscreenButton:et.bool,showNextButton:et.bool,showPrevButton:et.bool,showThumbnailsButton:et.bool,size:et.string}),caption:et.shape({captionColor:et.string,captionAlignment:et.string,captionFontFamily:et.string,captionFontSize:et.string,captionFontStyle:et.string,captionFontWeight:et.oneOfType([et.number,et.string]),captionContainerPadding:et.string,captionTextTransform:et.string,showCaption:et.bool}),thumbnails:et.shape({showThumbnails:et.bool,thumbnailsAlignment:et.string,thumbnailsContainerPadding:et.string,thumbnailsContainerBackgroundColor:et.string,thumbnailsGap:et.string,thumbnailsIconColor:et.string,thumbnailsOpacity:et.number,thumbnailsPosition:et.string,thumbnailsSize:et.array}),progressBar:et.shape({backgroundColor:et.string,fillColor:et.string,height:et.string,showProgressBar:et.bool})}),defaultCallbacks:et.shape({onCountSlides:et.func,onLightboxClosed:et.func,onLightboxOpened:et.func,onSlideChange:et.func}),children:et.oneOfType([et.arrayOf(et.node),et.node]),options:et.object,callbacks:et.object,elements:et.array},bt.defaultProps={defaultOptions:{settings:{autoplaySpeed:3e3,boxShadow:"none",disableKeyboardControls:!1,disablePanzoom:!1,disableWheelControls:!1,downloadedFileName:"SRL-image",hideControlsAfter:!1,lightboxTransitionSpeed:.3,lightboxTransitionTimingFunction:"linear",overlayColor:"rgba(30, 30, 30, 0.9)",slideAnimationType:"fade",slideSpringValues:[300,50],slideTransitionSpeed:.6,slideTransitionTimingFunction:"linear",usingPreact:!1},buttons:{backgroundColor:"rgba(30,30,36,0.8)",iconColor:"rgba(255, 255, 255, 0.8)",iconPadding:"10px",showAutoplayButton:!0,showCloseButton:!0,showDownloadButton:!0,showFullscreenButton:!0,showNextButton:!0,showPrevButton:!0,showThumbnailsButton:!0,size:"40px"},caption:{captionAlignment:"start",captionColor:"#FFFFFF",captionContainerPadding:"20px 0 30px 0",captionFontFamily:"inherit",captionFontSize:"inherit",captionFontStyle:"inherit",captionFontWeight:"inherit",captionTextTransform:"inherit",showCaption:!0},thumbnails:{showThumbnails:!0,thumbnailsAlignment:"center",thumbnailsContainerBackgroundColor:"transparent",thumbnailsContainerPadding:"0",thumbnailsGap:"0 1px",thumbnailsIconColor:"#ffffff",thumbnailsOpacity:.4,thumbnailsPosition:"bottom",thumbnailsSize:["100px","80px"]},progressBar:{backgroundColor:"#f2f2f2",fillColor:"#000000",height:"3px",showProgressBar:!0}},defaultCallbacks:{onCountSlides:function(){},onSlideChange:function(){},onLightboxClosed:function(){},onLightboxOpened:function(){}}};var St=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,_t=Tt((function(t){return St.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),xt="undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},At=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy?"production"===o().env.NODE_ENV:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if("production"!==o().env.NODE_ENV){var n=64===t.charCodeAt(0)&&105===t.charCodeAt(1);n&&this._alreadyInsertedOrderInsensitiveRule&&console.error("You're attempting to insert the following rule:\n"+t+"\n\n`@import` rules must be before all other types of rules in a stylesheet but other rules have already been inserted. Please ensure that `@import` rules are before all other rules."),this._alreadyInsertedOrderInsensitiveRule=this._alreadyInsertedOrderInsensitiveRule||!n}if(this.isSpeedy){var r=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{r.insertRule(t,r.cssRules.length)}catch(e){"production"===o().env.NODE_ENV||/:(-moz-placeholder|-moz-focus-inner|-moz-focusring|-ms-input-placeholder|-moz-read-write|-moz-read-only|-ms-clear){/.test(t)||console.error('There was a problem inserting the following rule: "'+t+'"',e)}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0,"production"!==o().env.NODE_ENV&&(this._alreadyInsertedOrderInsensitiveRule=!1)},t}(),It="-ms-",Ct="-moz-",kt="-webkit-",Pt=Math.abs,Rt=String.fromCharCode;function Ot(t){return t.trim()}function Nt(t,e,n){return t.replace(e,n)}function Lt(t,e){return t.indexOf(e)}function Dt(t,e){return 0|t.charCodeAt(e)}function Mt(t,e,n){return t.slice(e,n)}function Ut(t){return t.length}function Vt(t){return t.length}function Ft(t,e){return e.push(t),t}var jt=1,Bt=1,zt=0,$t=0,Ht=0,qt="";function Wt(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:jt,column:Bt,length:s,return:""}}function Kt(t,e,n){return Wt(t,e.root,e.parent,n,e.props,e.children,0)}function Gt(){return Ht=$t<zt?Dt(qt,$t++):0,Bt++,10===Ht&&(Bt=1,jt++),Ht}function Yt(){return Dt(qt,$t)}function Xt(){return $t}function Jt(t,e){return Mt(qt,t,e)}function Qt(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Zt(t){return jt=Bt=1,zt=Ut(qt=t),$t=0,[]}function te(t){return qt="",t}function ee(t){return Ot(Jt($t-1,ie(91===t?t+2:40===t?t+1:t)))}function ne(t){for(;(Ht=Yt())&&Ht<33;)Gt();return Qt(t)>2||Qt(Ht)>3?"":" "}function re(t,e){for(;--e&&Gt()&&!(Ht<48||Ht>102||Ht>57&&Ht<65||Ht>70&&Ht<97););return Jt(t,Xt()+(e<6&&32==Yt()&&32==Gt()))}function ie(t){for(;Gt();)switch(Ht){case t:return $t;case 34:case 39:return ie(34===t||39===t?t:Ht);case 40:41===t&&ie(t);break;case 92:Gt()}return $t}function oe(t,e){for(;Gt()&&t+Ht!==57&&(t+Ht!==84||47!==Yt()););return"/*"+Jt(e,$t-1)+"*"+Rt(47===t?t:Gt())}function se(t){for(;!Qt(Yt());)Gt();return Jt(t,$t)}function ae(t){return te(ue("",null,null,null,[""],t=Zt(t),0,[0],t))}function ue(t,e,n,r,i,o,s,a,u){for(var c=0,l=0,h=s,f=0,d=0,p=0,m=1,g=1,v=1,y=0,b="",w=i,E=o,T=r,S=b;g;)switch(p=y,y=Gt()){case 34:case 39:case 91:case 40:S+=ee(y);break;case 9:case 10:case 13:case 32:S+=ne(p);break;case 92:S+=re(Xt()-1,7);continue;case 47:switch(Yt()){case 42:case 47:Ft(le(oe(Gt(),Xt()),e,n),u);break;default:S+="/"}break;case 123*m:a[c++]=Ut(S)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+l:d>0&&Ut(S)-h&&Ft(d>32?he(S+";",r,n,h-1):he(Nt(S," ","")+";",r,n,h-2),u);break;case 59:S+=";";default:if(Ft(T=ce(S,e,n,c,l,i,a,b,w=[],E=[],h),o),123===y)if(0===l)ue(S,e,T,T,w,o,h,a,E);else switch(f){case 100:case 109:case 115:ue(t,T,T,r&&Ft(ce(t,T,T,0,0,i,a,b,i,w=[],h),E),i,E,h,a,r?w:E);break;default:ue(S,T,T,T,[""],E,h,a,E)}}c=l=d=0,m=v=1,b=S="",h=s;break;case 58:h=1+Ut(S),d=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==(Ht=$t>0?Dt(qt,--$t):0,Bt--,10===Ht&&(Bt=1,jt--),Ht))continue;switch(S+=Rt(y),y*m){case 38:v=l>0?1:(S+="\f",-1);break;case 44:a[c++]=(Ut(S)-1)*v,v=1;break;case 64:45===Yt()&&(S+=ee(Gt())),f=Yt(),l=Ut(b=S+=se(Xt())),y++;break;case 45:45===p&&2==Ut(S)&&(m=0)}}return o}function ce(t,e,n,r,i,o,s,a,u,c,l){for(var h=i-1,f=0===i?o:[""],d=Vt(f),p=0,m=0,g=0;p<r;++p)for(var v=0,y=Mt(t,h+1,h=Pt(m=s[p])),b=t;v<d;++v)(b=Ot(m>0?f[v]+" "+y:Nt(y,/&\f/g,f[v])))&&(u[g++]=b);return Wt(t,e,n,0===i?"rule":a,u,c,l)}function le(t,e,n){return Wt(t,e,n,"comm",Rt(Ht),Mt(t,2,-2),0)}function he(t,e,n,r){return Wt(t,e,n,"decl",Mt(t,0,r),Mt(t,r+1,-1),r)}function fe(t,e){switch(function(t,e){return(((e<<2^Dt(t,0))<<2^Dt(t,1))<<2^Dt(t,2))<<2^Dt(t,3)}(t,e)){case 5103:return kt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return kt+t+Ct+t+It+t+t;case 6828:case 4268:return kt+t+It+t+t;case 6165:return kt+t+It+"flex-"+t+t;case 5187:return kt+t+Nt(t,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+t;case 5443:return kt+t+It+"flex-item-"+Nt(t,/flex-|-self/,"")+t;case 4675:return kt+t+It+"flex-line-pack"+Nt(t,/align-content|flex-|-self/,"")+t;case 5548:return kt+t+It+Nt(t,"shrink","negative")+t;case 5292:return kt+t+It+Nt(t,"basis","preferred-size")+t;case 6060:return kt+"box-"+Nt(t,"-grow","")+kt+t+It+Nt(t,"grow","positive")+t;case 4554:return kt+Nt(t,/([^-])(transform)/g,"$1-webkit-$2")+t;case 6187:return Nt(Nt(Nt(t,/(zoom-|grab)/,kt+"$1"),/(image-set)/,kt+"$1"),t,"")+t;case 5495:case 3959:return Nt(t,/(image-set\([^]*)/,kt+"$1$`$1");case 4968:return Nt(Nt(t,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+kt+t+t;case 4095:case 3583:case 4068:case 2532:return Nt(t,/(.+)-inline(.+)/,kt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ut(t)-1-e>6)switch(Dt(t,e+1)){case 109:if(45!==Dt(t,e+4))break;case 102:return Nt(t,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Ct+(108==Dt(t,e+3)?"$3":"$2-$3"))+t;case 115:return~Lt(t,"stretch")?fe(Nt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==Dt(t,e+1))break;case 6444:switch(Dt(t,Ut(t)-3-(~Lt(t,"!important")&&10))){case 107:return Nt(t,":",":"+kt)+t;case 101:return Nt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kt+(45===Dt(t,14)?"inline-":"")+"box$3$1"+kt+"$2$3$1"+It+"$2box$3")+t}break;case 5936:switch(Dt(t,e+11)){case 114:return kt+t+It+Nt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return kt+t+It+Nt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return kt+t+It+Nt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return kt+t+It+t+t}return t}function de(t,e){for(var n="",r=Vt(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function pe(t,e,n,r){switch(t.type){case"@import":case"decl":return t.return=t.return||t.value;case"comm":return"";case"rule":t.value=t.props.join(",")}return Ut(n=de(t.children,r))?t.return=t.value+"{"+n+"}":""}function me(t){var e=Vt(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}var ge,ve,ye=new WeakMap,be=function(t){if("rule"===t.type&&t.parent&&t.length){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||ye.get(n))&&!r){ye.set(t,!0);for(var i=[],o=function(t,e){return te(function(t,e){var n=-1,r=44;do{switch(Qt(r)){case 0:38===r&&12===Yt()&&(e[n]=1),t[n]+=se($t-1);break;case 2:t[n]+=ee(r);break;case 4:if(44===r){t[++n]=58===Yt()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=Rt(r)}}while(r=Gt());return t}(Zt(t),e))}(e,i),s=n.props,a=0,u=0;a<o.length;a++)for(var c=0;c<s.length;c++,u++)t.props[u]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},we=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}},Ee=function(t){return 105===t.type.charCodeAt(1)&&64===t.type.charCodeAt(0)},Te=function(t){t.type="",t.value="",t.return="",t.children="",t.props=""},Se=function(t,e,n){Ee(t)&&(t.parent?(console.error("`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles."),Te(t)):function(t,e){for(var n=t-1;n>=0;n--)if(!Ee(e[n]))return!0;return!1}(e,n)&&(console.error("`@import` rules can't be after other rules. Please put your `@import` rules before your other rules."),Te(t)))},_e="undefined"!=typeof document,xe=_e?void 0:(ge=function(){return Tt((function(){var t={};return function(e){return t[e]}}))},ve=new WeakMap,function(t){if(ve.has(t))return ve.get(t);var e=ge();return ve.set(t,e),e}),Ae=[function(t,e,n,r){if(!t.return)switch(t.type){case"decl":t.return=fe(t.value,t.length);break;case"@keyframes":return de([Kt(Nt(t.value,"@","@"+kt),t,"")],r);case"rule":if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=/(::plac\w+|:read-\w+)/.exec(t))?t[0]:t}(e)){case":read-only":case":read-write":return de([Kt(Nt(e,/:(read-\w+)/,":-moz-$1"),t,"")],r);case"::placeholder":return de([Kt(Nt(e,/:(plac\w+)/,":-webkit-input-$1"),t,""),Kt(Nt(e,/:(plac\w+)/,":-moz-$1"),t,""),Kt(Nt(e,/:(plac\w+)/,It+"input-$1"),t,"")],r)}return""}))}}],Ie=function(t){var e=t.key;if("production"!==o().env.NODE_ENV&&!e)throw new Error("You have to configure `key` for your cache. Please make sure it's unique (and not equal to 'css') as it's used for linking styles to your cache.\nIf multiple caches share the same key they might \"fight\" for each other's style elements.");if(_e&&"css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var r=t.stylisPlugins||Ae;if("production"!==o().env.NODE_ENV&&/[^a-z-]/.test(e))throw new Error('Emotion key must only contain lower case alphabetical characters and - but "'+e+'" was passed');var i,s,a={},u=[];_e&&(i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)a[e[n]]=!0;u.push(t)})));var c,l=[be,we];if("production"!==o().env.NODE_ENV&&l.push(function(t){return function(e,n,r){if("rule"===e.type){var i,o=e.value.match(/(:first|:nth|:nth-last)-child/g);if(o&&!0!==t.compat){var s=n>0?r[n-1]:null;if(s&&function(t){return!!t&&"comm"===t.type&&t.children.indexOf("emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason")>-1}((i=s.children).length?i[i.length-1]:null))return;o.forEach((function(t){console.error('The pseudo class "'+t+'" is potentially unsafe when doing server-side rendering. Try changing it to "'+t.split("-child")[0]+'-of-type".')}))}}}}({get compat(){return v.compat}}),Se),_e){var h,f=[pe,"production"!==o().env.NODE_ENV?function(t){t.root||(t.return?h.insert(t.return):t.value&&"comm"!==t.type&&h.insert(t.value+"{}"))}:(c=function(t){h.insert(t)},function(t){t.root||(t=t.return)&&c(t)})],d=me(l.concat(r,f));s=function(t,e,n,r){h=n,"production"!==o().env.NODE_ENV&&void 0!==e.map&&(h={insert:function(t){n.insert(t+e.map)}}),function(t){de(ae(t),d)}(t?t+"{"+e.styles+"}":e.styles),r&&(v.inserted[e.name]=!0)}}else{var p=[pe],m=me(l.concat(r,p)),g=xe(r)(e);s=function(t,e,n,r){var i=e.name,s=function(t,e){var n=e.name;return void 0===g[n]&&(g[n]=function(t){return de(ae(t),m)}(t?t+"{"+e.styles+"}":e.styles)),g[n]}(t,e);return void 0===v.compat?(r&&(v.inserted[i]=!0),"development"===o().env.NODE_ENV&&void 0!==e.map?s+e.map:s):r?void(v.inserted[i]=s):s}}var v={key:e,sheet:new At({key:e,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend}),nonce:t.nonce,inserted:a,registered:{},insert:s};return v.sheet.hydrate(u),v},Ce=c.exports,ke={};ke[Ce.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ke[Ce.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var Pe="undefined"!=typeof document;function Re(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):r+=n+" "})),r}var Oe=function(t,e,n){var r=t.key+"-"+e.name;if((!1===n||!1===Pe&&void 0!==t.compat)&&void 0===t.registered[r]&&(t.registered[r]=e.styles),void 0===t.inserted[e.name]){var i="",o=e;do{var s=t.insert(e===o?"."+r:"",o,t.sheet,!0);Pe||void 0===s||(i+=s),o=o.next}while(void 0!==o);if(!Pe&&0!==i.length)return i}},Ne={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Le="You have illegal escape sequence in your template literal, most likely inside content's property value.\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \"content: '\\00d7';\" should become \"content: '\\\\00d7';\".\nYou can read more about this here:\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences",De=/[A-Z]|^ms/g,Me=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ue=function(t){return 45===t.charCodeAt(1)},Ve=function(t){return null!=t&&"boolean"!=typeof t},Fe=Tt((function(t){return Ue(t)?t:t.replace(De,"-$&").toLowerCase()})),je=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(Me,(function(t,e,n){return Ye={name:e,styles:n,next:Ye},e}))}return 1===Ne[t]||Ue(t)||"number"!=typeof e||0===e?e:e+"px"};if("production"!==o().env.NODE_ENV){var Be=/(attr|counters?|url|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,ze=["normal","none","initial","inherit","unset"],$e=je,He=/^-ms-/,qe=/-(.)/g,We={};je=function(t,e){if("content"===t&&("string"!=typeof e||-1===ze.indexOf(e)&&!Be.test(e)&&(e.charAt(0)!==e.charAt(e.length-1)||'"'!==e.charAt(0)&&"'"!==e.charAt(0))))throw new Error("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\""+e+"\"'`");var n=$e(t,e);return""===n||Ue(t)||-1===t.indexOf("-")||void 0!==We[t]||(We[t]=!0,console.error("Using kebab-case for css properties in objects is not supported. Did you mean "+t.replace(He,"ms-").replace(qe,(function(t,e){return e.toUpperCase()}))+"?")),n}}function Ke(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles){if("production"!==o().env.NODE_ENV&&"NO_COMPONENT_SELECTOR"===n.toString())throw new Error("Component selectors can only be used in conjunction with @emotion/babel-plugin.");return n}switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Ye={name:n.name,styles:n.styles,next:Ye},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Ye={name:r.name,styles:r.styles,next:Ye},r=r.next;var i=n.styles+";";return"production"!==o().env.NODE_ENV&&void 0!==n.map&&(i+=n.map),i}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ke(t,e,n[i])+";";else for(var s in n){var a=n[s];if("object"!=typeof a)null!=e&&void 0!==e[a]?r+=s+"{"+e[a]+"}":Ve(a)&&(r+=Fe(s)+":"+je(s,a)+";");else{if("NO_COMPONENT_SELECTOR"===s&&"production"!==o().env.NODE_ENV)throw new Error("Component selectors can only be used in conjunction with @emotion/babel-plugin.");if(!Array.isArray(a)||"string"!=typeof a[0]||null!=e&&void 0!==e[a[0]]){var u=Ke(t,e,a);switch(s){case"animation":case"animationName":r+=Fe(s)+":"+u+";";break;default:"production"!==o().env.NODE_ENV&&"undefined"===s&&console.error("You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key)."),r+=s+"{"+u+"}"}}else for(var c=0;c<a.length;c++)Ve(a[c])&&(r+=Fe(s)+":"+je(s,a[c])+";")}}return r}(t,e,n);case"function":if(void 0!==t){var s=Ye,a=n(t);return Ye=s,Ke(t,e,a)}"production"!==o().env.NODE_ENV&&console.error("Functions that are interpolated in css calls will be stringified.\nIf you want to have a css call based on props, create a function that returns a css call like this\nlet dynamicStyle = (props) => css`color: ${props.color}`\nIt can be called directly with props or interpolated in a styled call like this\nlet SomeComponent = styled('div')`${dynamicStyle}`");break;case"string":if("production"!==o().env.NODE_ENV){var u=[],c=n.replace(Me,(function(t,e,n){var r="animation"+u.length;return u.push("const "+r+" = keyframes`"+n.replace(/^@keyframes animation-\w+/,"")+"`"),"${"+r+"}"}));u.length&&console.error("`keyframes` output got interpolated into plain string, please wrap it with `css`.\n\nInstead of doing this:\n\n"+[].concat(u,["`"+c+"`"]).join("\n")+"\n\nYou should wrap it with `css` like this:\n\ncss`"+c+"`")}}if(null==e)return n;var l=e[n];return void 0!==l?l:n}var Ge,Ye,Xe=/label:\s*([^\s;\n{]+)\s*(;|$)/g;"production"!==o().env.NODE_ENV&&(Ge=/\/\*#\ssourceMappingURL=data:application\/json;\S+\s+\*\//g);var Je=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";Ye=void 0;var s,a=t[0];null==a||void 0===a.raw?(r=!1,i+=Ke(n,e,a)):("production"!==o().env.NODE_ENV&&void 0===a[0]&&console.error(Le),i+=a[0]);for(var u=1;u<t.length;u++)i+=Ke(n,e,t[u]),r&&("production"!==o().env.NODE_ENV&&void 0===a[u]&&console.error(Le),i+=a[u]);"production"!==o().env.NODE_ENV&&(i=i.replace(Ge,(function(t){return s=t,""}))),Xe.lastIndex=0;for(var c,l="";null!==(c=Xe.exec(i));)l+="-"+c[1];var h=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return"production"!==o().env.NODE_ENV?{name:h,styles:i,map:s,next:Ye,toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}}:{name:h,styles:i,next:Ye}},Qe="undefined"!=typeof document,Ze=Object.prototype.hasOwnProperty,tn=(0,r.createContext)("undefined"!=typeof HTMLElement?Ie({key:"css"}):null);"production"!==o().env.NODE_ENV&&(tn.displayName="EmotionCacheContext"),tn.Provider;var en=function(t){return(0,r.forwardRef)((function(e,n){var i=(0,r.useContext)(tn);return t(e,i,n)}))};Qe||(en=function(t){return function(e){var n=(0,r.useContext)(tn);return null===n?(n=Ie({key:"css"}),(0,r.createElement)(tn.Provider,{value:n},t(e,n))):t(e,n)}});var nn=(0,r.createContext)({});"production"!==o().env.NODE_ENV&&(nn.displayName="EmotionThemeContext");var rn=en((function(t,e,n){var i=t.css;"string"==typeof i&&void 0!==e.registered[i]&&(i=e.registered[i]);var s=t.__EMOTION_TYPE_PLEASE_DO_NOT_USE__,a=[i],u="";"string"==typeof t.className?u=Re(e.registered,a,t.className):null!=t.className&&(u=t.className+" ");var c=Je(a,void 0,(0,r.useContext)(nn));if("production"!==o().env.NODE_ENV&&-1===c.name.indexOf("-")){var l=t.__EMOTION_LABEL_PLEASE_DO_NOT_USE__;l&&(c=Je([c,"label:"+l+";"]))}var h=Oe(e,c,"string"==typeof s);u+=e.key+"-"+c.name;var f={};for(var d in t)!Ze.call(t,d)||"css"===d||"__EMOTION_TYPE_PLEASE_DO_NOT_USE__"===d||"production"!==o().env.NODE_ENV&&"__EMOTION_LABEL_PLEASE_DO_NOT_USE__"===d||(f[d]=t[d]);f.ref=n,f.className=u;var p=(0,r.createElement)(s,f);if(!Qe&&void 0!==h){for(var m,g=c.name,v=c.next;void 0!==v;)g+=" "+v.name,v=v.next;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("style",((m={})["data-emotion"]=e.key+" "+g,m.dangerouslySetInnerHTML={__html:h},m.nonce=e.sheet.nonce,m)),p)}return p}));"production"!==o().env.NODE_ENV&&(rn.displayName="EmotionCssPropInternal");var on=!1,sn=en((function(t,e){"production"===o().env.NODE_ENV||on||!t.className&&!t.css||(console.error("It looks like you're using the css prop on Global, did you mean to use the styles prop instead?"),on=!0);var n=t.styles,i=Je([n],void 0,(0,r.useContext)(nn));if(!Qe){for(var s,a=i.name,u=i.styles,c=i.next;void 0!==c;)a+=" "+c.name,u+=c.styles,c=c.next;var l=!0===e.compat,h=e.insert("",{name:a,styles:u},e.sheet,l);return l?null:(0,r.createElement)("style",((s={})["data-emotion"]=e.key+"-global "+a,s.dangerouslySetInnerHTML={__html:h},s.nonce=e.sheet.nonce,s))}var f=(0,r.useRef)();return(0,r.useLayoutEffect)((function(){var t=e.key+"-global",n=new At({key:t,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+t+" "+i.name+'"]');return e.sheet.tags.length&&(n.before=e.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",t),n.hydrate([o])),f.current=[n,r],function(){n.flush()}}),[e]),(0,r.useLayoutEffect)((function(){var t=f.current,n=t[0];if(t[1])t[1]=!1;else{if(void 0!==i.next&&Oe(e,i.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}e.insert("",i,n,!1)}}),[e,i.name]),null}));function an(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Je(e)}"production"!==o().env.NODE_ENV&&(sn.displayName="EmotionGlobal");var un=function t(e){for(var n=e.length,r=0,i="";r<n;r++){var s=e[r];if(null!=s){var a=void 0;switch(typeof s){case"boolean":break;case"object":if(Array.isArray(s))a=t(s);else for(var u in"production"!==o().env.NODE_ENV&&void 0!==s.styles&&void 0!==s.name&&console.error("You have passed styles created with `css` from `@emotion/react` package to the `cx`.\n`cx` is meant to compose class names (strings) so you should convert those styles to a class name by passing them to the `css` received from <ClassNames/> component."),a="",s)s[u]&&u&&(a&&(a+=" "),a+=u);break;default:a=s}a&&(i&&(i+=" "),i+=a)}}return i};function cn(t,e,n){var r=[],i=Re(t,r,n);return r.length<2?n:i+e(r)}var ln=en((function(t,e){var n,i="",s="",a=!1,u=function(){if(a&&"production"!==o().env.NODE_ENV)throw new Error("css can only be used during render");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var u=Je(n,e.registered);if(Qe)Oe(e,u,!1);else{var c=Oe(e,u,!1);void 0!==c&&(i+=c)}return Qe||(s+=" "+u.name),e.key+"-"+u.name},c={css:u,cx:function(){if(a&&"production"!==o().env.NODE_ENV)throw new Error("cx can only be used during render");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cn(e.registered,u,un(n))},theme:(0,r.useContext)(nn)},l=t.children(c);return a=!0,Qe||0===i.length?l:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("style",((n={})["data-emotion"]=e.key+" "+s.substring(1),n.dangerouslySetInnerHTML={__html:i},n.nonce=e.sheet.nonce,n)),l)}));if("production"!==o().env.NODE_ENV&&(ln.displayName="EmotionClassNames"),"production"!==o().env.NODE_ENV){var hn="undefined"!=typeof document,fn="undefined"!=typeof jest;if(hn&&!fn){var dn=hn?window:xt,pn="__EMOTION_REACT_"+"11.4.1".split(".")[0]+"__";dn[pn]&&console.warn("You are loading @emotion/react when it is already loaded. Running multiple instances may cause problems. This can happen if multiple versions are used, or if multiple builds of the same version are used."),dn[pn]=!0}}var mn=_t,gn=function(t){return"theme"!==t},vn=function(t){return"string"==typeof t&&t.charCodeAt(0)>96?mn:gn},yn=function(t,e,n){var r;if(e){var i=e.shouldForwardProp;r=t.__emotion_forwardProp&&i?function(e){return t.__emotion_forwardProp(e)&&i(e)}:i}return"function"!=typeof r&&n&&(r=t.__emotion_forwardProp),r},bn="You have illegal escape sequence in your template literal, most likely inside content's property value.\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \"content: '\\00d7';\" should become \"content: '\\\\00d7';\".\nYou can read more about this here:\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences",wn="undefined"!=typeof document,En=function t(e,n){if("production"!==o().env.NODE_ENV&&void 0===e)throw new Error("You are trying to create a styled element with an undefined component.\nYou may have forgotten to import it.");var i,s,a=e.__emotion_real===e,u=a&&e.__emotion_base||e;void 0!==n&&(i=n.label,s=n.target);var c=yn(e,n,a),l=c||vn(u),h=!l("as");return function(){var f=arguments,d=a&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)d.push.apply(d,f);else{"production"!==o().env.NODE_ENV&&void 0===f[0][0]&&console.error(bn),d.push(f[0][0]);for(var p=f.length,m=1;m<p;m++)"production"!==o().env.NODE_ENV&&void 0===f[0][m]&&console.error(bn),d.push(f[m],f[0][m])}var g=en((function(t,e,n){var i=h&&t.as||u,o="",a=[],f=t;if(null==t.theme){for(var p in f={},t)f[p]=t[p];f.theme=(0,r.useContext)(nn)}"string"==typeof t.className?o=Re(e.registered,a,t.className):null!=t.className&&(o=t.className+" ");var m=Je(d.concat(a),e.registered,f),g=Oe(e,m,"string"==typeof i);o+=e.key+"-"+m.name,void 0!==s&&(o+=" "+s);var v=h&&void 0===c?vn(i):l,y={};for(var b in t)h&&"as"===b||v(b)&&(y[b]=t[b]);y.className=o,y.ref=n;var w=(0,r.createElement)(i,y);if(!wn&&void 0!==g){for(var E,T=m.name,S=m.next;void 0!==S;)T+=" "+S.name,S=S.next;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("style",((E={})["data-emotion"]=e.key+" "+T,E.dangerouslySetInnerHTML={__html:g},E.nonce=e.sheet.nonce,E)),w)}return w}));return g.displayName=void 0!==i?i:"Styled("+("string"==typeof u?u:u.displayName||u.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=u,g.__emotion_styles=d,g.__emotion_forwardProp=c,Object.defineProperty(g,"toString",{value:function(){return void 0===s&&"production"!==o().env.NODE_ENV?"NO_COMPONENT_SELECTOR":"."+s}}),g.withComponent=function(e,r){return t(e,wt({},n,r,{shouldForwardProp:yn(g,r,!0)})).apply(void 0,d)},g}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){En[t]=En(t)}));var Tn=function(t,e){return(Tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Sn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Tn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var _n=function(){return(_n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function xn(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function An(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function In(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var Cn=function(t){return{isEnabled:function(e){return t.some((function(t){return!!e[t]}))}}},kn={measureLayout:Cn(["layout","layoutId","drag","_layoutResetTransform"]),animation:Cn(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag"]),exit:Cn(["exit"]),drag:Cn(["drag","dragControls"]),focus:Cn(["whileFocus"]),hover:Cn(["whileHover","onHoverStart","onHoverEnd"]),tap:Cn(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Cn(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),layoutAnimation:Cn(["layout","layoutId"])},Pn=function(){},Rn=function(){};"production"!==o().env.NODE_ENV&&(Pn=function(t,e){t||"undefined"==typeof console||console.warn(e)},Rn=function(t,e){if(!t)throw new Error(e)});var On=(0,r.createContext)({strict:!1}),Nn=Object.keys(kn),Ln=Nn.length,Dn=(0,r.createContext)({transformPagePoint:function(t){return t},isStatic:!1}),Mn=(0,r.createContext)({}),Un=(0,r.createContext)(null);function Vn(t){var e=(0,r.useRef)(null);return null===e.current&&(e.current=t()),e.current}function Fn(){var t=(0,r.useContext)(Un);if(null===t)return[!0,null];var e=t.isPresent,n=t.onExitComplete,i=t.register,o=zn();return(0,r.useEffect)((function(){return i(o)}),[]),!e&&n?[!1,function(){return null==n?void 0:n(o)}]:[!0]}var jn=0,Bn=function(){return jn++},zn=function(){return Vn(Bn)},$n=(0,r.createContext)(null),Hn="undefined"!=typeof window,qn=Hn?r.useLayoutEffect:r.useEffect;function Wn(t){return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function Kn(t){return Array.isArray(t)}function Gn(t){return"string"==typeof t||Kn(t)}function Yn(t,e,n,r,i){var o;return void 0===r&&(r={}),void 0===i&&(i={}),"string"==typeof e&&(e=null===(o=t.variants)||void 0===o?void 0:o[e]),"function"==typeof e?e(null!=n?n:t.custom,r,i):e}function Xn(t,e,n){var r=t.getProps();return Yn(r,e,null!=n?n:r.custom,function(t){var e={};return t.forEachValue((function(t,n){return e[n]=t.get()})),e}(t),function(t){var e={};return t.forEachValue((function(t,n){return e[n]=t.getVelocity()})),e}(t))}function Jn(t){var e;return"function"==typeof(null===(e=t.animate)||void 0===e?void 0:e.start)||Gn(t.initial)||Gn(t.animate)||Gn(t.whileHover)||Gn(t.whileDrag)||Gn(t.whileTap)||Gn(t.whileFocus)||Gn(t.exit)}function Qn(t){return Boolean(Jn(t)||t.variants)}function Zn(t){return Array.isArray(t)?t.join(" "):t}function tr(t){var e=t.preloadedFeatures,n=t.createVisualElement,i=t.useRender,s=t.useVisualState,a=t.Component;return e&&function(t){for(var e in t){var n=t[e];null!==n&&(kn[e].Component=n)}}(e),(0,r.forwardRef)((function(t,u){var c=(0,r.useContext)(Dn).isStatic,l=null,h=function(t,e){var n=function(t,e){if(Jn(t)){var n=t.initial,r=t.animate;return{initial:!1===n||Gn(n)?n:void 0,animate:Gn(r)?r:void 0}}return!1!==t.inherit?e:{}}(t,(0,r.useContext)(Mn)),i=n.initial,o=n.animate;return(0,r.useMemo)((function(){return{initial:i,animate:o}}),e?[Zn(i),Zn(o)]:[])}(t,c),f=s(t,c);return!c&&Hn&&(h.visualElement=function(t,e,n,i){var o=(0,r.useContext)(Dn),s=(0,r.useContext)(On),a=(0,r.useContext)(Mn).visualElement,u=(0,r.useContext)(Un),c=function(t){var e=t.layoutId,n=(0,r.useContext)($n);return n&&void 0!==e?n+"-"+e:e}(n),l=(0,r.useRef)(void 0);i||(i=s.renderer),!l.current&&i&&(l.current=i(t,{visualState:e,parent:a,props:_n(_n({},n),{layoutId:c}),presenceId:null==u?void 0:u.id,blockInitialAnimation:!1===(null==u?void 0:u.initial)}));var h=l.current;return qn((function(){var t;h&&(h.setProps(_n(_n(_n({},o),n),{layoutId:c})),h.isPresent=null===(t=u)||t.isPresent,h.isPresenceRoot=!a||a.presenceId!==(null==u?void 0:u.id),h.syncRender())})),(0,r.useEffect)((function(){var t;h&&(null===(t=h.animationState)||void 0===t||t.animateChanges())})),qn((function(){return function(){return null==h?void 0:h.notifyUnmount()}}),[]),h}(a,f,t,n),l=function(t,e,n){var i=[],s=(0,r.useContext)(On);if(!e)return null;"production"!==o().env.NODE_ENV&&n&&s.strict&&Rn(!1,"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");for(var a=0;a<Ln;a++){var u=Nn[a],c=kn[u],l=c.isEnabled,h=c.Component;l(t)&&h&&i.push(r.createElement(h,_n({key:u},t,{visualElement:e})))}return i}(t,h.visualElement,e)),r.createElement(r.Fragment,null,r.createElement(Mn.Provider,{value:h},i(a,t,function(t,e,n){return(0,r.useCallback)((function(r){var i;r&&(null===(i=t.mount)||void 0===i||i.call(t,r)),e&&(r?e.mount(r):e.unmount()),n&&("function"==typeof n?n(r):Wn(n)&&(n.current=r))}),[e])}(f,h.visualElement,u),f,c)),l)}))}var er=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function nr(t){return"string"==typeof t&&!t.includes("-")&&!!(er.indexOf(t)>-1||/[A-Z]/.test(t))}var rr={},ir=["","X","Y","Z"],or=["transformPerspective","x","y","z"];function sr(t,e){return or.indexOf(t)-or.indexOf(e)}["translate","scale","rotate","skew"].forEach((function(t){return ir.forEach((function(e){return or.push(t+e)}))}));var ar=new Set(or);function ur(t){return ar.has(t)}var cr=new Set(["originX","originY","originZ"]);function lr(t){return cr.has(t)}function hr(t,e){var n=e.layout,r=e.layoutId;return ur(t)||lr(t)||(n||void 0!==r)&&(!!rr[t]||"opacity"===t)}var fr=function(t){return null!==t&&"object"==typeof t&&t.getVelocity},dr={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function pr(t){return t.startsWith("--")}var mr=function(t,e){return e&&"number"==typeof t?e.transform(t):t},gr=function(t,e){return function(n){return Math.max(Math.min(n,e),t)}},vr=function(t){return t%1?Number(t.toFixed(5)):t},yr=/(-)?([\d]*\.?[\d])+/g,br=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,wr=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Er(t){return"string"==typeof t}var Tr={test:function(t){return"number"==typeof t},parse:parseFloat,transform:function(t){return t}},Sr=_n(_n({},Tr),{transform:gr(0,1)}),_r=_n(_n({},Tr),{default:1}),xr=function(t){return{test:function(e){return Er(e)&&e.endsWith(t)&&1===e.split(" ").length},parse:parseFloat,transform:function(e){return""+e+t}}},Ar=xr("deg"),Ir=xr("%"),Cr=xr("px"),kr=xr("vh"),Pr=xr("vw"),Rr=_n(_n({},Ir),{parse:function(t){return Ir.parse(t)/100},transform:function(t){return Ir.transform(100*t)}}),Or=function(t,e){return function(n){return Boolean(Er(n)&&wr.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e))}},Nr=function(t,e,n){return function(r){var i;if(!Er(r))return r;var o=r.match(yr),s=o[0],a=o[1],u=o[2],c=o[3];return(i={})[t]=parseFloat(s),i[e]=parseFloat(a),i[n]=parseFloat(u),i.alpha=void 0!==c?parseFloat(c):1,i}},Lr={test:Or("hsl","hue"),parse:Nr("hue","saturation","lightness"),transform:function(t){var e=t.hue,n=t.saturation,r=t.lightness,i=t.alpha,o=void 0===i?1:i;return"hsla("+Math.round(e)+", "+Ir.transform(vr(n))+", "+Ir.transform(vr(r))+", "+vr(Sr.transform(o))+")"}},Dr=gr(0,255),Mr=_n(_n({},Tr),{transform:function(t){return Math.round(Dr(t))}}),Ur={test:Or("rgb","red"),parse:Nr("red","green","blue"),transform:function(t){var e=t.red,n=t.green,r=t.blue,i=t.alpha,o=void 0===i?1:i;return"rgba("+Mr.transform(e)+", "+Mr.transform(n)+", "+Mr.transform(r)+", "+vr(Sr.transform(o))+")"}},Vr={test:Or("#"),parse:function(t){var e="",n="",r="",i="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),i=t.substr(4,1),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Ur.transform},Fr={test:function(t){return Ur.test(t)||Vr.test(t)||Lr.test(t)},parse:function(t){return Ur.test(t)?Ur.parse(t):Lr.test(t)?Lr.parse(t):Vr.parse(t)},transform:function(t){return Er(t)?t:t.hasOwnProperty("red")?Ur.transform(t):Lr.transform(t)}};function jr(t){var e=[],n=0,r=t.match(br);r&&(n=r.length,t=t.replace(br,"${c}"),e.push.apply(e,r.map(Fr.parse)));var i=t.match(yr);return i&&(t=t.replace(yr,"${n}"),e.push.apply(e,i.map(Tr.parse))),{values:e,numColors:n,tokenised:t}}function Br(t){return jr(t).values}function zr(t){var e=jr(t),n=e.values,r=e.numColors,i=e.tokenised,o=n.length;return function(t){for(var e=i,n=0;n<o;n++)e=e.replace(n<r?"${c}":"${n}",n<r?Fr.transform(t[n]):vr(t[n]));return e}}var $r=function(t){return"number"==typeof t?0:t},Hr={test:function(t){var e,n,r,i;return isNaN(t)&&Er(t)&&(null!==(n=null===(e=t.match(yr))||void 0===e?void 0:e.length)&&void 0!==n?n:0)+(null!==(i=null===(r=t.match(br))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:Br,createTransformer:zr,getAnimatableNone:function(t){var e=Br(t);return zr(t)(e.map($r))}},qr=new Set(["brightness","contrast","saturate","opacity"]);function Wr(t){var e=t.slice(0,-1).split("("),n=e[0],r=e[1];if("drop-shadow"===n)return t;var i=(r.match(yr)||[])[0];if(!i)return t;var o=r.replace(i,""),s=qr.has(n)?1:0;return i!==r&&(s*=100),n+"("+s+o+")"}var Kr=/([a-z-]*)\(.*?\)/g,Gr=_n(_n({},Hr),{getAnimatableNone:function(t){var e=t.match(Kr);return e?e.map(Wr).join(" "):t}}),Yr=_n(_n({},Tr),{transform:Math.round}),Xr={borderWidth:Cr,borderTopWidth:Cr,borderRightWidth:Cr,borderBottomWidth:Cr,borderLeftWidth:Cr,borderRadius:Cr,radius:Cr,borderTopLeftRadius:Cr,borderTopRightRadius:Cr,borderBottomRightRadius:Cr,borderBottomLeftRadius:Cr,width:Cr,maxWidth:Cr,height:Cr,maxHeight:Cr,size:Cr,top:Cr,right:Cr,bottom:Cr,left:Cr,padding:Cr,paddingTop:Cr,paddingRight:Cr,paddingBottom:Cr,paddingLeft:Cr,margin:Cr,marginTop:Cr,marginRight:Cr,marginBottom:Cr,marginLeft:Cr,rotate:Ar,rotateX:Ar,rotateY:Ar,rotateZ:Ar,scale:_r,scaleX:_r,scaleY:_r,scaleZ:_r,skew:Ar,skewX:Ar,skewY:Ar,distance:Cr,translateX:Cr,translateY:Cr,translateZ:Cr,x:Cr,y:Cr,z:Cr,perspective:Cr,transformPerspective:Cr,opacity:Sr,originX:Rr,originY:Rr,originZ:Cr,zIndex:Yr,fillOpacity:Sr,strokeOpacity:Sr,numOctaves:Yr};function Jr(t,e,n,r,i,o,s,a){var u,c=t.style,l=t.vars,h=t.transform,f=t.transformKeys,d=t.transformOrigin;f.length=0;var p=!1,m=!1,g=!0;for(var v in e){var y=e[v];if(pr(v))l[v]=y;else{var b=Xr[v],w=mr(y,b);if(ur(v)){if(p=!0,h[v]=w,f.push(v),!g)continue;y!==(null!==(u=b.default)&&void 0!==u?u:0)&&(g=!1)}else if(lr(v))d[v]=w,m=!0;else if((null==n?void 0:n.isHydrated)&&(null==r?void 0:r.isHydrated)&&rr[v]){var E=rr[v].process(y,r,n),T=rr[v].applyTo;if(T)for(var S=T.length,_=0;_<S;_++)c[T[_]]=E;else c[v]=E}else c[v]=w}}r&&n&&s&&a?(c.transform=s(r.deltaFinal,r.treeScale,p?h:void 0),o&&(c.transform=o(h,c.transform)),c.transformOrigin=a(r)):(p&&(c.transform=function(t,e,n,r){var i=t.transform,o=t.transformKeys,s=e.enableHardwareAcceleration,a=void 0===s||s,u=e.allowTransformNone,c=void 0===u||u,l="";o.sort(sr);for(var h=!1,f=o.length,d=0;d<f;d++){var p=o[d];l+=(dr[p]||p)+"("+i[p]+") ","z"===p&&(h=!0)}return!h&&a?l+="translateZ(0)":l=l.trim(),r?l=r(i,n?"":l):c&&n&&(l="none"),l}(t,i,g,o)),m&&(c.transformOrigin=function(t){var e=t.originX,n=void 0===e?"50%":e,r=t.originY,i=void 0===r?"50%":r,o=t.originZ;return n+" "+i+" "+(void 0===o?0:o)}(d)))}function Qr(t,e,n){for(var r in e)fr(e[r])||hr(r,n)||(t[r]=e[r])}function Zr(t,e,n){var i={},o=function(t,e,n){var i={};return Qr(i,t.style||{},t),Object.assign(i,function(t,e,n){var i=t.transformTemplate;return(0,r.useMemo)((function(){var t={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};Jr(t,e,void 0,void 0,{enableHardwareAcceleration:!n},i);var r=t.style;return _n(_n({},t.vars),r)}),[e])}(t,e,n)),t.transformValues&&(i=t.transformValues(i)),i}(t,e,n);return Boolean(t.drag)&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),i.style=o,i}var ti=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","_layoutResetTransform","onLayoutAnimationComplete","onViewportBoxUpdate","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover"]);function ei(t){return ti.has(t)}var ni=function(t){return!ei(t)};try{var ri=n(4465).Z;ni=function(t){return t.startsWith("on")?!ei(t):ri(t)}}catch(Ii){}function ii(t,e,n){return"string"==typeof t?t:Cr.transform(e+n*t)}var oi=function(t,e){return Cr.transform(t*e)},si={offset:"stroke-dashoffset",array:"stroke-dasharray"},ai={offset:"strokeDashoffset",array:"strokeDasharray"};function ui(t,e,n,r,i,o,s,a){var u=e.attrX,c=e.attrY,l=e.originX,h=e.originY,f=e.pathLength,d=e.pathSpacing,p=void 0===d?1:d,m=e.pathOffset,g=void 0===m?0:m;Jr(t,xn(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r,i,o,s,a),t.attrs=t.style,t.style={};var v=t.attrs,y=t.style,b=t.dimensions,w=t.totalPathLength;v.transform&&(b&&(y.transform=v.transform),delete v.transform),b&&(void 0!==l||void 0!==h||y.transform)&&(y.transformOrigin=function(t,e,n){return ii(e,t.x,t.width)+" "+ii(n,t.y,t.height)}(b,void 0!==l?l:.5,void 0!==h?h:.5)),void 0!==u&&(v.x=u),void 0!==c&&(v.y=c),void 0!==w&&void 0!==f&&function(t,e,n,r,i,o){void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=!0);var s=o?si:ai;t[s.offset]=oi(-i,e);var a=oi(n,e),u=oi(r,e);t[s.array]=a+" "+u}(v,w,f,p,g,!1)}var ci=function(){return _n(_n({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function li(t,e){var n=(0,r.useMemo)((function(){var n=ci();return ui(n,e,void 0,void 0,{enableHardwareAcceleration:!1},t.transformTemplate),_n(_n({},n.attrs),{style:_n({},n.style)})}),[e]);if(t.style){var i={};Qr(i,t.style,t),n.style=_n(_n({},i),n.style)}return n}function hi(t){return void 0===t&&(t=!1),function(e,n,i,o,s){var a=o.latestValues,u=(nr(e)?li:Zr)(n,a,s),c=function(t,e,n){var r={};for(var i in t)(ni(i)||!0===n&&ei(i)||!e&&!ei(i))&&(r[i]=t[i]);return r}(n,"string"==typeof e,t),l=_n(_n(_n({},c),u),{ref:i});return(0,r.createElement)(e,l)}}var fi=/([a-z])([A-Z])/g,di=function(t){return t.replace(fi,"$1-$2").toLowerCase()};function pi(t,e){var n=e.style,r=e.vars;for(var i in Object.assign(t.style,n),r)t.style.setProperty(i,r[i])}var mi=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform"]);function gi(t,e){for(var n in pi(t,e),e.attrs)t.setAttribute(mi.has(n)?n:di(n),e.attrs[n])}function vi(t){var e=t.style,n={};for(var r in e)(fr(e[r])||hr(r,t))&&(n[r]=e[r]);return n}function yi(t){var e=vi(t);for(var n in t)fr(t[n])&&(e["x"===n||"y"===n?"attr"+n.toUpperCase():n]=t[n]);return e}function bi(t){return"object"==typeof t&&"function"==typeof t.start}var wi=function(t){return Array.isArray(t)},Ei=function(t){return wi(t)?t[t.length-1]||0:t};function Ti(t){var e=fr(t)?t.get():t;return function(t){return Boolean(t&&"object"==typeof t&&t.mix&&t.toValue)}(e)?e.toValue():e}function Si(t,e,n,r){var i=t.scrapeMotionValuesFromProps,o=t.createRenderState,s=t.onMount,a={latestValues:xi(e,n,r,i),renderState:o()};return s&&(a.mount=function(t){return s(e,t,a)}),a}var _i=function(t){return function(e,n){var i=(0,r.useContext)(Mn),o=(0,r.useContext)(Un);return n?Si(t,e,i,o):Vn((function(){return Si(t,e,i,o)}))}};function xi(t,e,n,r){var i={},o=!1===(null==n?void 0:n.initial),s=r(t);for(var a in s)i[a]=Ti(s[a]);var u=t.initial,c=t.animate,l=Jn(t),h=Qn(t);e&&h&&!l&&!1!==t.inherit&&(null!=u||(u=e.initial),null!=c||(c=e.animate));var f=o||!1===u?c:u;return f&&"boolean"!=typeof f&&!bi(f)&&(Array.isArray(f)?f:[f]).forEach((function(e){var n=Yn(t,e);if(n){var r=n.transitionEnd;n.transition;var o=xn(n,["transitionEnd","transition"]);for(var s in o)i[s]=o[s];for(var s in r)i[s]=r[s]}})),i}var Ai,Ii,Ci={useVisualState:_i({scrapeMotionValuesFromProps:yi,createRenderState:ci,onMount:function(t,e,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){r.dimensions={x:0,y:0,width:0,height:0}}"path"===e.tagName&&(r.totalPathLength=e.getTotalLength()),ui(r,i,void 0,void 0,{enableHardwareAcceleration:!1},t.transformTemplate),gi(e,r)}})},ki={useVisualState:_i({scrapeMotionValuesFromProps:vi,createRenderState:function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}}})};function Pi(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function Ri(t,e,n,i){(0,r.useEffect)((function(){var r=t.current;if(n&&r)return Pi(r,e,n,i)}),[t,e,n,i])}function Oi(t){return"undefined"!=typeof PointerEvent&&t instanceof PointerEvent?!("mouse"!==t.pointerType):t instanceof MouseEvent}function Ni(t){return!!t.touches}(Ii=Ai||(Ai={})).Animate="animate",Ii.Hover="whileHover",Ii.Tap="whileTap",Ii.Drag="whileDrag",Ii.Focus="whileFocus",Ii.Exit="exit";var Li={pageX:0,pageY:0};function Di(t,e){void 0===e&&(e="page");var n=t.touches[0]||t.changedTouches[0]||Li;return{x:n[e+"X"],y:n[e+"Y"]}}function Mi(t,e){return void 0===e&&(e="page"),{x:t[e+"X"],y:t[e+"Y"]}}function Ui(t,e){return void 0===e&&(e="page"),{point:Ni(t)?Di(t,e):Mi(t,e)}}var Vi=function(t,e){void 0===e&&(e=!1);var n,r=function(e){return t(e,Ui(e))};return e?(n=r,function(t){var e=t instanceof MouseEvent;(!e||e&&0===t.button)&&n(t)}):r},Fi={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},ji={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Bi(t){return Hn&&null===window.onpointerdown?t:Hn&&null===window.ontouchstart?ji[t]:Hn&&null===window.onmousedown?Fi[t]:t}function zi(t,e,n,r){return Pi(t,Bi(e),Vi(n,"pointerdown"===e),r)}function $i(t,e,n,r){return Ri(t,Bi(e),n&&Vi(n,"pointerdown"===e),r)}function Hi(t){var e=null;return function(){return null===e&&(e=t,function(){e=null})}}var qi=Hi("dragHorizontal"),Wi=Hi("dragVertical");function Ki(t){var e=!1;if("y"===t)e=Wi();else if("x"===t)e=qi();else{var n=qi(),r=Wi();n&&r?e=function(){n(),r()}:(n&&n(),r&&r())}return e}function Gi(){var t=Ki(!0);return!t||(t(),!1)}function Yi(t,e,n){return function(r,i){var o;Oi(r)&&!Gi()&&(null==n||n(r,i),null===(o=t.animationState)||void 0===o||o.setActive(Ai.Hover,e))}}var Xi=function(t,e){return!!e&&(t===e||Xi(t,e.parentElement))};function Ji(t){return(0,r.useEffect)((function(){return function(){return t()}}),[])}var Qi=function(t,e,n){return Math.min(Math.max(n,t),e)};function Zi(t,e){return t*Math.sqrt(1-e*e)}var to=["duration","bounce"],eo=["stiffness","damping","mass"];function no(t,e){return e.some((function(e){return void 0!==t[e]}))}function ro(t){var e=t.from,n=void 0===e?0:e,r=t.to,i=void 0===r?1:r,o=t.restSpeed,s=void 0===o?2:o,a=t.restDelta,u=xn(t,["from","to","restSpeed","restDelta"]),c={done:!1,value:n},l=function(t){var e=_n({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!no(t,eo)&&no(t,to)){var n=function(t){var e,n,r=t.duration,i=void 0===r?800:r,o=t.bounce,s=void 0===o?.25:o,a=t.velocity,u=void 0===a?0:a,c=t.mass,l=void 0===c?1:c;Pn(i<=1e4,"Spring duration must be 10 seconds or less");var h=1-s;h=Qi(.05,1,h),i=Qi(.01,10,i/1e3),h<1?(e=function(t){var e=t*h,n=e*i;return.001-(e-u)/Zi(t,h)*Math.exp(-n)},n=function(t){var n=t*h*i,r=n*u+u,o=Math.pow(h,2)*Math.pow(t,2)*i,s=Math.exp(-n),a=Zi(Math.pow(t,2),h);return(.001-e(t)>0?-1:1)*((r-o)*s)/a}):(e=function(t){return Math.exp(-t*i)*((t-u)*i+1)-.001},n=function(t){return Math.exp(-t*i)*(i*i*(u-t))});var f=function(t,e,n){for(var r=n,i=1;i<12;i++)r-=t(r)/e(r);return r}(e,n,5/i);if(i*=1e3,isNaN(f))return{stiffness:100,damping:10,duration:i};var d=Math.pow(f,2)*l;return{stiffness:d,damping:2*h*Math.sqrt(l*d),duration:i}}(t);(e=_n(_n(_n({},e),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return e}(u),h=l.stiffness,f=l.damping,d=l.mass,p=l.velocity,m=l.duration,g=l.isResolvedFromDuration,v=io,y=io;function b(){var t=p?-p/1e3:0,e=i-n,r=f/(2*Math.sqrt(h*d)),o=Math.sqrt(h/d)/1e3;if(null!=a||(a=Math.abs(i-n)<=1?.01:.4),r<1){var s=Zi(o,r);v=function(n){var a=Math.exp(-r*o*n);return i-a*((t+r*o*e)/s*Math.sin(s*n)+e*Math.cos(s*n))},y=function(n){var i=Math.exp(-r*o*n);return r*o*i*(Math.sin(s*n)*(t+r*o*e)/s+e*Math.cos(s*n))-i*(Math.cos(s*n)*(t+r*o*e)-s*e*Math.sin(s*n))}}else if(1===r)v=function(n){return i-Math.exp(-o*n)*(e+(t+o*e)*n)};else{var u=o*Math.sqrt(r*r-1);v=function(n){var s=Math.exp(-r*o*n),a=Math.min(u*n,300);return i-s*((t+r*o*e)*Math.sinh(a)+u*e*Math.cosh(a))/u}}}return b(),{next:function(t){var e=v(t);if(g)c.done=t>=m;else{var n=1e3*y(t),r=Math.abs(n)<=s,o=Math.abs(i-e)<=a;c.done=r&&o}return c.value=c.done?i:e,c},flipTarget:function(){var t;p=-p,n=(t=[i,n])[0],i=t[1],b()}}}ro.needsInterpolation=function(t,e){return"string"==typeof t||"string"==typeof e};var io=function(t){return 0},oo=function(t,e,n){var r=e-t;return 0===r?1:(n-t)/r},so=function(t,e,n){return-n*t+n*e+t},ao=function(t,e,n){var r=t*t,i=e*e;return Math.sqrt(Math.max(0,n*(i-r)+r))},uo=[Vr,Ur,Lr],co=function(t){return uo.find((function(e){return e.test(t)}))},lo=function(t){return"'"+t+"' is not an animatable color. Use the equivalent color code instead."},ho=function(t,e){var n=co(t),r=co(e);Rn(!!n,lo(t)),Rn(!!r,lo(e)),Rn(n.transform===r.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var i=n.parse(t),o=r.parse(e),s=_n({},i),a=n===Lr?so:ao;return function(t){for(var e in s)"alpha"!==e&&(s[e]=a(i[e],o[e],t));return s.alpha=so(i.alpha,o.alpha,t),n.transform(s)}},fo=function(t){return"number"==typeof t},po=function(t,e){return function(n){return e(t(n))}},mo=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce(po)};function go(t,e){return fo(t)?function(n){return so(t,e,n)}:Fr.test(t)?ho(t,e):wo(t,e)}var vo=function(t,e){var n=In([],t),r=n.length,i=t.map((function(t,n){return go(t,e[n])}));return function(t){for(var e=0;e<r;e++)n[e]=i[e](t);return n}},yo=function(t,e){var n=_n(_n({},t),e),r={};for(var i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=go(t[i],e[i]));return function(t){for(var e in r)n[e]=r[e](t);return n}};function bo(t){for(var e=Hr.parse(t),n=e.length,r=0,i=0,o=0,s=0;s<n;s++)r||"number"==typeof e[s]?r++:void 0!==e[s].hue?o++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:o}}var wo=function(t,e){var n=Hr.createTransformer(e),r=bo(t),i=bo(e);return Rn(r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers,"Complex values '"+t+"' and '"+e+"' too different to mix. Ensure all colors are of the same type."),mo(vo(r.parsed,i.parsed),n)},Eo=function(t,e){return function(n){return so(t,e,n)}};function To(t,e,n){var r=void 0===n?{}:n,i=r.clamp,o=void 0===i||i,s=r.ease,a=r.mixer,u=t.length;Rn(u===e.length,"Both input and output ranges must be the same length"),Rn(!s||!Array.isArray(s)||s.length===u-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),t[0]>t[u-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());var c=function(t,e,n){for(var r=[],i=n||function(t){return"number"==typeof t?Eo:"string"==typeof t?Fr.test(t)?ho:wo:Array.isArray(t)?vo:"object"==typeof t?yo:void 0}(t[0]),o=t.length-1,s=0;s<o;s++){var a=i(t[s],t[s+1]);if(e){var u=Array.isArray(e)?e[s]:e;a=mo(u,a)}r.push(a)}return r}(e,s,a),l=2===u?function(t,e){var n=t[0],r=t[1],i=e[0];return function(t){return i(oo(n,r,t))}}(t,c):function(t,e){var n=t.length,r=n-1;return function(i){var o=0,s=!1;if(i<=t[0]?s=!0:i>=t[r]&&(o=r-1,s=!0),!s){for(var a=1;a<n&&!(t[a]>i||a===r);a++);o=a-1}var u=oo(t[o],t[o+1],i);return e[o](u)}}(t,c);return o?function(e){return l(Qi(t[0],t[u-1],e))}:l}var So=function(t){return function(e){return 1-t(1-e)}},_o=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},xo=function(t){return function(e){return e*e*((t+1)*e-t)}},Ao=function(t){return t},Io=(2,function(t){return Math.pow(t,2)}),Co=So(Io),ko=_o(Io),Po=function(t){return 1-Math.sin(Math.acos(t))},Ro=So(Po),Oo=_o(Ro),No=xo(1.525),Lo=So(No),Do=_o(No),Mo=function(t){var e=xo(1.525);return function(t){return(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))}}(),Uo=function(t){if(1===t||0===t)return t;var e=t*t;return t<.36363636363636365?7.5625*e:t<.7272727272727273?9.075*e-9.9*t+3.4:t<.9?12.066481994459833*e-19.63545706371191*t+8.898060941828255:10.8*t*t-20.52*t+10.72},Vo=So(Uo);function Fo(t,e){return t.map((function(){return e||ko})).splice(0,t.length-1)}function jo(t){var e=t.from,n=void 0===e?0:e,r=t.to,i=void 0===r?1:r,o=t.ease,s=t.offset,a=t.duration,u=void 0===a?300:a,c={done:!1,value:n},l=Array.isArray(i)?i:[n,i],h=function(t,e){return t.map((function(t){return t*e}))}(s&&s.length===l.length?s:function(t){var e=t.length;return t.map((function(t,n){return 0!==n?n/(e-1):0}))}(l),u);function f(){return To(h,l,{ease:Array.isArray(o)?o:Fo(l,o)})}var d=f();return{next:function(t){return c.value=d(t),c.done=t>=u,c},flipTarget:function(){l.reverse(),d=f()}}}var Bo={keyframes:jo,spring:ro,decay:function(t){var e=t.velocity,n=void 0===e?0:e,r=t.from,i=void 0===r?0:r,o=t.power,s=void 0===o?.8:o,a=t.timeConstant,u=void 0===a?350:a,c=t.restDelta,l=void 0===c?.5:c,h=t.modifyTarget,f={done:!1,value:i},d=s*n,p=i+d,m=void 0===h?p:h(p);return m!==p&&(d=m-i),{next:function(t){var e=-d*Math.exp(-t/u);return f.done=!(e>l||e<-l),f.value=f.done?m:m+e,f},flipTarget:function(){}}}},zo="undefined"!=typeof performance?function(){return performance.now()}:function(){return Date.now()},$o="undefined"!=typeof window?function(t){return window.requestAnimationFrame(t)}:function(t){return setTimeout((function(){return t(zo())}),16.666666666666668)},Ho=!0,qo=!1,Wo=!1,Ko={delta:0,timestamp:0},Go=["read","update","preRender","render","postRender"],Yo=Go.reduce((function(t,e){return t[e]=function(t){var e=[],n=[],r=0,i=!1,o=new WeakSet,s={schedule:function(t,s,a){void 0===s&&(s=!1),void 0===a&&(a=!1);var u=a&&i,c=u?e:n;return s&&o.add(t),-1===c.indexOf(t)&&(c.push(t),u&&i&&(r=e.length)),t},cancel:function(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1),o.delete(t)},process:function(t){var a;if(i=!0,e=(a=[n,e])[0],(n=a[1]).length=0,r=e.length)for(var u=0;u<r;u++){var c=e[u];c(t),o.has(c)&&(s.schedule(c),qo=!0)}i=!1}};return s}(),t}),{}),Xo=Go.reduce((function(t,e){var n=Yo[e];return t[e]=function(t,e,r){return void 0===e&&(e=!1),void 0===r&&(r=!1),qo||es(),n.schedule(t,e,r)},t}),{}),Jo=Go.reduce((function(t,e){return t[e]=Yo[e].cancel,t}),{}),Qo=Go.reduce((function(t,e){return t[e]=function(){return Yo[e].process(Ko)},t}),{}),Zo=function(t){return Yo[t].process(Ko)},ts=function(t){qo=!1,Ko.delta=Ho?16.666666666666668:Math.max(Math.min(t-Ko.timestamp,40),1),Ko.timestamp=t,Wo=!0,Go.forEach(Zo),Wo=!1,qo&&(Ho=!1,$o(ts))},es=function(){qo=!0,Ho=!0,Wo||$o(ts)},ns=function(){return Ko};function rs(t,e,n){return void 0===n&&(n=0),t-e-n}var is=function(t){var e=function(e){var n=e.delta;return t(n)};return{start:function(){return Xo.update(e,!0)},stop:function(){return Jo.update(e)}}};function os(t){var e,n,r,i,o,s=t.from,a=t.autoplay,u=void 0===a||a,c=t.driver,l=void 0===c?is:c,h=t.elapsed,f=void 0===h?0:h,d=t.repeat,p=void 0===d?0:d,m=t.repeatType,g=void 0===m?"loop":m,v=t.repeatDelay,y=void 0===v?0:v,b=t.onPlay,w=t.onStop,E=t.onComplete,T=t.onRepeat,S=t.onUpdate,_=xn(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),x=_.to,A=0,I=_.duration,C=!1,k=!0,P=function(t){if(Array.isArray(t.to))return jo;if(Bo[t.type])return Bo[t.type];var e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?jo:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?ro:jo}(_);(null===(n=(e=P).needsInterpolation)||void 0===n?void 0:n.call(e,s,x))&&(o=To([0,100],[s,x],{clamp:!1}),s=0,x=100);var R=P(_n(_n({},_),{from:s,to:x}));return u&&(null==b||b(),(r=l((function(t){if(k||(t=-t),f+=t,!C){var e=R.next(Math.max(0,f));i=e.value,o&&(i=o(i)),C=k?e.done:f<=0}null==S||S(i),C&&(0===A&&(null!=I||(I=f)),A<p?function(t,e,n,r){return r?t>=e+n:t<=-n}(f,I,y,k)&&(A++,"reverse"===g?f=function(t,e,n,r){return void 0===n&&(n=0),void 0===r&&(r=!0),r?rs(e+-t,e,n):e-(t-e)+n}(f,I,y,k=A%2==0):(f=rs(f,I,y),"mirror"===g&&R.flipTarget()),C=!1,T&&T()):(r.stop(),E&&E()))}))).start()),{stop:function(){null==w||w(),r.stop()}}}function ss(t,e){return e?t*(1e3/e):0}var as=function(t){return t.hasOwnProperty("x")&&t.hasOwnProperty("y")},us=function(t){return as(t)&&t.hasOwnProperty("z")},cs=function(t,e){return Math.abs(t-e)};function ls(t,e){if(fo(t)&&fo(e))return cs(t,e);if(as(t)&&as(e)){var n=cs(t.x,e.x),r=cs(t.y,e.y),i=us(t)&&us(e)?cs(t.z,e.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}var hs=function(t,e){return 1-3*e+3*t},fs=function(t,e){return 3*e-6*t},ds=function(t){return 3*t},ps=function(t,e,n){return((hs(e,n)*t+fs(e,n))*t+ds(e))*t},ms=function(t,e,n){return 3*hs(e,n)*t*t+2*fs(e,n)*t+ds(e)};var gs=function(t){return function(e){return t(e),null}},vs={tap:gs((function(t){var e=t.onTap,n=t.onTapStart,i=t.onTapCancel,o=t.whileTap,s=t.visualElement,a=e||n||i||o,u=(0,r.useRef)(!1),c=(0,r.useRef)(null);function l(){var t;null===(t=c.current)||void 0===t||t.call(c),c.current=null}function h(){var t;return l(),u.current=!1,null===(t=s.animationState)||void 0===t||t.setActive(Ai.Tap,!1),!Gi()}function f(t,n){h()&&(Xi(s.getInstance(),t.target)?null==e||e(t,n):null==i||i(t,n))}function d(t,e){h()&&(null==i||i(t,e))}$i(s,"pointerdown",a?function(t,e){var r;l(),u.current||(u.current=!0,c.current=mo(zi(window,"pointerup",f),zi(window,"pointercancel",d)),null==n||n(t,e),null===(r=s.animationState)||void 0===r||r.setActive(Ai.Tap,!0))}:void 0),Ji(l)})),focus:gs((function(t){var e=t.whileFocus,n=t.visualElement;Ri(n,"focus",e?function(){var t;null===(t=n.animationState)||void 0===t||t.setActive(Ai.Focus,!0)}:void 0),Ri(n,"blur",e?function(){var t;null===(t=n.animationState)||void 0===t||t.setActive(Ai.Focus,!1)}:void 0)})),hover:gs((function(t){var e=t.onHoverStart,n=t.onHoverEnd,r=t.whileHover,i=t.visualElement;$i(i,"pointerenter",e||r?Yi(i,!0,e):void 0),$i(i,"pointerleave",n||r?Yi(i,!1,n):void 0)}))};function ys(t,e){if(!Array.isArray(e))return!1;var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}var bs=function(t){return 1e3*t},ws={linear:Ao,easeIn:Io,easeInOut:ko,easeOut:Co,circIn:Po,circInOut:Oo,circOut:Ro,backIn:No,backInOut:Do,backOut:Lo,anticipate:Mo,bounceIn:Vo,bounceInOut:function(t){return t<.5?.5*(1-Uo(1-2*t)):.5*Uo(2*t-1)+.5},bounceOut:Uo},Es=function(t){if(Array.isArray(t)){Rn(4===t.length,"Cubic bezier arrays must contain four numerical values.");var e=An(t,4);return function(t,e,n,r){if(t===e&&n===r)return Ao;for(var i=new Float32Array(11),o=0;o<11;++o)i[o]=ps(.1*o,t,n);function s(e){for(var r=0,o=1;10!==o&&i[o]<=e;++o)r+=.1;--o;var s=r+(e-i[o])/(i[o+1]-i[o])*.1,a=ms(s,t,n);return a>=.001?function(t,e,n,r){for(var i=0;i<8;++i){var o=ms(e,n,r);if(0===o)return e;e-=(ps(e,n,r)-t)/o}return e}(e,s,t,n):0===a?s:function(t,e,n,r,i){var o,s,a=0;do{(o=ps(s=e+(n-e)/2,r,i)-t)>0?n=s:e=s}while(Math.abs(o)>1e-7&&++a<10);return s}(e,r,r+.1,t,n)}return function(t){return 0===t||1===t?t:ps(s(t),e,r)}}(e[0],e[1],e[2],e[3])}return"string"==typeof t?(Rn(void 0!==ws[t],"Invalid easing type '"+t+"'"),ws[t]):t},Ts=function(t,e){return"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!Hr.test(e)||e.startsWith("url(")))},Ss=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},_s=function(t){return{type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}},xs=function(){return{type:"keyframes",ease:"linear",duration:.3}},As=function(t){return{type:"keyframes",duration:.8,values:t}},Is={x:Ss,y:Ss,z:Ss,rotate:Ss,rotateX:Ss,rotateY:Ss,rotateZ:Ss,scaleX:_s,scaleY:_s,scale:_s,opacity:xs,backgroundColor:xs,color:xs,default:_s},Cs=_n(_n({},Xr),{color:Fr,backgroundColor:Fr,outlineColor:Fr,fill:Fr,stroke:Fr,borderColor:Fr,borderTopColor:Fr,borderRightColor:Fr,borderBottomColor:Fr,borderLeftColor:Fr,filter:Gr,WebkitFilter:Gr}),ks=function(t){return Cs[t]};function Ps(t,e){var n,r=ks(t);return r!==Gr&&(r=Hr),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,e)}var Rs=!1;function Os(t,e,n){var r,i,o,s;return Array.isArray(e.to)&&(null!==(r=t.duration)&&void 0!==r||(t.duration=.8)),function(t){Array.isArray(t.to)&&null===t.to[0]&&(t.to=In([],An(t.to)),t.to[0]=t.from)}(e),function(t){t.when,t.delay,t.delayChildren,t.staggerChildren,t.staggerDirection,t.repeat,t.repeatType,t.repeatDelay,t.from;var e=xn(t,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(e).length}(t)||(t=_n(_n({},t),(i=n,o=e.to,s=wi(o)?As:Is[i]||Is.default,_n({to:o},s(o))))),_n(_n({},e),function(t){var e=t.ease,n=t.times,r=t.yoyo,i=t.flip,o=t.loop,s=xn(t,["ease","times","yoyo","flip","loop"]),a=_n({},s);return n&&(a.offset=n),s.duration&&(a.duration=bs(s.duration)),s.repeatDelay&&(a.repeatDelay=bs(s.repeatDelay)),e&&(a.ease=function(t){return Array.isArray(t)&&"number"!=typeof t[0]}(e)?e.map(Es):Es(e)),"tween"===s.type&&(a.type="keyframes"),(r||o||i)&&(Pn(!Rs,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),Rs=!0,r?a.repeatType="reverse":o?a.repeatType="loop":i&&(a.repeatType="mirror"),a.repeat=o||r||i||s.repeat),"spring"!==s.type&&(a.type="keyframes"),a}(t))}function Ns(t){return 0===t||"string"==typeof t&&0===parseFloat(t)&&-1===t.indexOf(" ")}function Ls(t){return"number"==typeof t?0:Ps("",t)}function Ds(t,e){return t[e]||t.default||t}function Ms(t,e,n,r){return void 0===r&&(r={}),e.start((function(i){var o,s,a=function(t,e,n,r,i){var o,s=Ds(r,t),a=null!==(o=s.from)&&void 0!==o?o:e.get(),u=Ts(t,n);"none"===a&&u&&"string"==typeof n?a=Ps(t,n):Ns(a)&&"string"==typeof n?a=Ls(n):!Array.isArray(n)&&Ns(n)&&"string"==typeof a&&(n=Ls(a));var c=Ts(t,a);return Pn(c===u,"You are trying to animate "+t+' from "'+a+'" to "'+n+'". '+a+" is not an animatable value - to enable this animation set "+a+" to a value animatable to "+n+" via the `style` property."),c&&u&&!1!==s.type?function(){var r={from:a,to:n,velocity:e.getVelocity(),onComplete:i,onUpdate:function(t){return e.set(t)}};return"inertia"===s.type||"decay"===s.type?function(t){var e,n=t.from,r=void 0===n?0:n,i=t.velocity,o=void 0===i?0:i,s=t.min,a=t.max,u=t.power,c=void 0===u?.8:u,l=t.timeConstant,h=void 0===l?750:l,f=t.bounceStiffness,d=void 0===f?500:f,p=t.bounceDamping,m=void 0===p?10:p,g=t.restDelta,v=void 0===g?1:g,y=t.modifyTarget,b=t.driver,w=t.onUpdate,E=t.onComplete;function T(t){return void 0!==s&&t<s||void 0!==a&&t>a}function S(t){return void 0===s?a:void 0===a||Math.abs(s-t)<Math.abs(a-t)?s:a}function _(t){null==e||e.stop(),e=os(_n(_n({},t),{driver:b,onUpdate:function(e){var n;null==w||w(e),null===(n=t.onUpdate)||void 0===n||n.call(t,e)},onComplete:E}))}function x(t){_(_n({type:"spring",stiffness:d,damping:m,restDelta:v},t))}if(T(r))x({from:r,velocity:o,to:S(r)});else{var A=c*o+r;void 0!==y&&(A=y(A));var I,C,k=S(A),P=k===s?-1:1;_({type:"decay",from:r,velocity:o,timeConstant:h,power:c,restDelta:v,modifyTarget:y,onUpdate:T(A)?function(t){I=C,C=t,o=ss(t-I,ns().delta),(1===P&&t>k||-1===P&&t<k)&&x({from:t,to:k,velocity:o})}:void 0})}return{stop:function(){return null==e?void 0:e.stop()}}}(_n(_n({},r),s)):os(_n(_n({},Os(s,r,t)),{onUpdate:function(t){var e;r.onUpdate(t),null===(e=s.onUpdate)||void 0===e||e.call(s,t)},onComplete:function(){var t;r.onComplete(),null===(t=s.onComplete)||void 0===t||t.call(s)}}))}:function(){var t;return e.set(n),i(),null===(t=null==s?void 0:s.onComplete)||void 0===t||t.call(s),{stop:function(){}}}}(t,e,n,r,i),u=function(t,e){var n;return null!==(n=(Ds(t,e)||{}).delay)&&void 0!==n?n:0}(r,t),c=function(){return s=a()};return u?o=setTimeout(c,bs(u)):c(),function(){clearTimeout(o),null==s||s.stop()}}))}var Us=function(t){return/^\-?\d*\.?\d+$/.test(t)};function Vs(t,e){-1===t.indexOf(e)&&t.push(e)}function Fs(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var js=function(){function t(){this.subscriptions=[]}return t.prototype.add=function(t){var e=this;return Vs(this.subscriptions,t),function(){return Fs(e.subscriptions,t)}},t.prototype.notify=function(t,e,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(var i=0;i<r;i++){var o=this.subscriptions[i];o&&o(t,e,n)}},t.prototype.getSize=function(){return this.subscriptions.length},t.prototype.clear=function(){this.subscriptions.length=0},t}(),Bs=function(){function t(t){var e,n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new js,this.velocityUpdateSubscribers=new js,this.renderSubscribers=new js,this.canTrackVelocity=!1,this.updateAndNotify=function(t,e){void 0===e&&(e=!0),n.prev=n.current,n.current=t;var r=ns(),i=r.delta,o=r.timestamp;n.lastUpdated!==o&&(n.timeDelta=i,n.lastUpdated=o,Xo.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),e&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return Xo.postRender(n.velocityCheck)},this.velocityCheck=function(t){t.timestamp!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e)))}return t.prototype.onChange=function(t){return this.updateSubscribers.add(t)},t.prototype.clearListeners=function(){this.updateSubscribers.clear()},t.prototype.onRenderRequest=function(t){return t(this.get()),this.renderSubscribers.add(t)},t.prototype.attach=function(t){this.passiveEffect=t},t.prototype.set=function(t,e){void 0===e&&(e=!0),e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)},t.prototype.get=function(){return this.current},t.prototype.getPrevious=function(){return this.prev},t.prototype.getVelocity=function(){return this.canTrackVelocity?ss(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},t.prototype.start=function(t){var e=this;return this.stop(),new Promise((function(n){e.hasAnimated=!0,e.stopAnimation=t(n)})).then((function(){return e.clearAnimation()}))},t.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},t.prototype.isAnimating=function(){return!!this.stopAnimation},t.prototype.clearAnimation=function(){this.stopAnimation=null},t.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},t}();function zs(t){return new Bs(t)}var $s=function(t){return function(e){return e.test(t)}},Hs=[Tr,Cr,Ir,Ar,Pr,kr,{test:function(t){return"auto"===t},parse:function(t){return t}}],qs=function(t){return Hs.find($s(t))},Ws=In(In([],An(Hs)),[Fr,Hr]),Ks=function(t){return Ws.find($s(t))};function Gs(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zs(n))}function Ys(t,e){if(e)return(e[t]||e.default||e).from}function Xs(t,e,n){var r;void 0===n&&(n={});var i=Xn(t,e,n.custom),o=(i||{}).transition,s=void 0===o?t.getDefaultTransition()||{}:o;n.transitionOverride&&(s=n.transitionOverride);var a=i?function(){return Js(t,i,n)}:function(){return Promise.resolve()},u=(null===(r=t.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var i=s.delayChildren,o=void 0===i?0:i,a=s.staggerChildren,u=s.staggerDirection;return function(t,e,n,r,i,o){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=1);var s=[],a=(t.variantChildren.size-1)*r,u=1===i?function(t){return void 0===t&&(t=0),t*r}:function(t){return void 0===t&&(t=0),a-t*r};return Array.from(t.variantChildren).sort(Qs).forEach((function(t,r){s.push(Xs(t,e,_n(_n({},o),{delay:n+u(r)})).then((function(){return t.notifyAnimationComplete(e)})))})),Promise.all(s)}(t,e,o+r,a,u,n)}:function(){return Promise.resolve()},c=s.when;if(c){var l=An("beforeChildren"===c?[a,u]:[u,a],2),h=l[0],f=l[1];return h().then(f)}return Promise.all([a(),u(n.delay)])}function Js(t,e,n){var r,i=void 0===n?{}:n,o=i.delay,s=void 0===o?0:o,a=i.transitionOverride,u=i.type,c=t.makeTargetAnimatable(e),l=c.transition,h=void 0===l?t.getDefaultTransition():l,f=c.transitionEnd,d=xn(c,["transition","transitionEnd"]);a&&(h=a);var p=[],m=u&&(null===(r=t.animationState)||void 0===r?void 0:r.getState()[u]);for(var g in d){var v=t.getValue(g),y=d[g];if(!(!v||void 0===y||m&&Zs(m,g))){var b=Ms(g,v,y,_n({delay:s},h));p.push(b)}}return Promise.all(p).then((function(){f&&function(t,e){var n=Xn(t,e),r=n?t.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,o=void 0===i?{}:i;r.transition;var s=xn(r,["transitionEnd","transition"]);for(var a in s=_n(_n({},s),o))Gs(t,a,Ei(s[a]))}(t,f)}))}function Qs(t,e){return t.sortNodePosition(e)}function Zs(t,e){var n=t.protectedKeys,r=t.needsAnimating,i=n.hasOwnProperty(e)&&!0!==r[e];return r[e]=!1,i}var ta=[Ai.Animate,Ai.Hover,Ai.Tap,Ai.Drag,Ai.Focus,Ai.Exit],ea=In([],An(ta)).reverse(),na=ta.length;function ra(t){var e,n=function(t){return function(e){return Promise.all(e.map((function(e){var n=e.animation,r=e.options;return function(t,e,n){var r;if(void 0===n&&(n={}),t.notifyAnimationStart(),Array.isArray(e)){var i=e.map((function(e){return Xs(t,e,n)}));r=Promise.all(i)}else if("string"==typeof e)r=Xs(t,e,n);else{var o="function"==typeof e?Xn(t,e,n.custom):e;r=Js(t,o,n)}return r.then((function(){return t.notifyAnimationComplete(e)}))}(t,n,r)})))}}(t),r=((e={})[Ai.Animate]=ia(!0),e[Ai.Hover]=ia(),e[Ai.Tap]=ia(),e[Ai.Drag]=ia(),e[Ai.Focus]=ia(),e[Ai.Exit]=ia(),e),i={},o=!0,s=function(e,n){var r=Xn(t,n);if(r){r.transition;var i=r.transitionEnd,o=xn(r,["transition","transitionEnd"]);e=_n(_n(_n({},e),o),i)}return e};function a(e,a){for(var u,c=t.getProps(),l=t.getVariantContext(!0)||{},h=[],f=new Set,d={},p=1/0,m=function(n){var i=ea[n],m=r[i],g=null!==(u=c[i])&&void 0!==u?u:l[i],v=Gn(g),y=i===a?m.isActive:null;!1===y&&(p=n);var b=g===l[i]&&g!==c[i]&&v;if(b&&o&&t.manuallyAnimateOnMount&&(b=!1),m.protectedKeys=_n({},d),!m.isActive&&null===y||!g&&!m.prevProp||bi(g)||"boolean"==typeof g)return"continue";var w=function(t,e){return"string"==typeof e?e!==t:!!Kn(e)&&!ys(e,t)}(m.prevProp,g)||i===a&&m.isActive&&!b&&v||n>p&&v,E=Array.isArray(g)?g:[g],T=E.reduce(s,{});!1===y&&(T={});var S=m.prevResolvedValues,_=void 0===S?{}:S,x=_n(_n({},_),T),A=function(t){w=!0,f.delete(t),m.needsAnimating[t]=!0};for(var I in x){var C=T[I],k=_[I];d.hasOwnProperty(I)||(C!==k?wi(C)&&wi(k)?ys(C,k)?m.protectedKeys[I]=!0:A(I):void 0!==C?A(I):f.add(I):void 0!==C&&f.has(I)?A(I):m.protectedKeys[I]=!0)}m.prevProp=g,m.prevResolvedValues=T,m.isActive&&(d=_n(_n({},d),T)),o&&t.blockInitialAnimation&&(w=!1),w&&!b&&h.push.apply(h,In([],An(E.map((function(t){return{animation:t,options:_n({type:i},e)}})))))},g=0;g<na;g++)m(g);if(i=_n({},d),f.size){var v={};f.forEach((function(e){var n=t.getBaseTarget(e);void 0!==n&&(v[e]=n)})),h.push({animation:v})}var y=Boolean(h.length);return o&&!1===c.initial&&!t.manuallyAnimateOnMount&&(y=!1),o=!1,y?n(h):Promise.resolve()}return{isAnimated:function(t){return void 0!==i[t]},animateChanges:a,setActive:function(e,n,i){var o;return r[e].isActive===n?Promise.resolve():(null===(o=t.variantChildren)||void 0===o||o.forEach((function(t){var r;return null===(r=t.animationState)||void 0===r?void 0:r.setActive(e,n)})),r[e].isActive=n,a(i,e))},setAnimateFunction:function(e){n=e(t)},getState:function(){return r}}}function ia(t){return void 0===t&&(t=!1),{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var oa={animation:gs((function(t){var e=t.visualElement,n=t.animate;e.animationState||(e.animationState=ra(e)),bi(n)&&(0,r.useEffect)((function(){return n.subscribe(e)}),[n])})),exit:gs((function(t){var e=t.custom,n=t.visualElement,i=An(Fn(),2),o=i[0],s=i[1],a=(0,r.useContext)(Un);(0,r.useEffect)((function(){var t,r,i=null===(t=n.animationState)||void 0===t?void 0:t.setActive(Ai.Exit,!o,{custom:null!==(r=null==a?void 0:a.custom)&&void 0!==r?r:e});!o&&(null==i||i.then(s))}),[o])}))},sa=function(){function t(t,e,n){var r=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var t=ca(r.lastMoveEventInfo,r.history),e=null!==r.startEvent,n=ls(t.offset,{x:0,y:0})>=3;if(e||n){var i=t.point,o=ns().timestamp;r.history.push(_n(_n({},i),{timestamp:o}));var s=r.handlers,a=s.onStart,u=s.onMove;e||(a&&a(r.lastMoveEvent,t),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,t)}}},this.handlePointerMove=function(t,e){r.lastMoveEvent=t,r.lastMoveEventInfo=aa(e,r.transformPagePoint),Oi(t)&&0===t.buttons?r.handlePointerUp(t,e):Xo.update(r.updatePoint,!0)},this.handlePointerUp=function(t,e){r.end();var n=r.handlers,i=n.onEnd,o=n.onSessionEnd,s=ca(aa(e,r.transformPagePoint),r.history);r.startEvent&&i&&i(t,s),o&&o(t,s)},!(Ni(t)&&t.touches.length>1)){this.handlers=e,this.transformPagePoint=i;var o=aa(Ui(t),this.transformPagePoint),s=o.point,a=ns().timestamp;this.history=[_n(_n({},s),{timestamp:a})];var u=e.onSessionStart;u&&u(t,ca(o,this.history)),this.removeListeners=mo(zi(window,"pointermove",this.handlePointerMove),zi(window,"pointerup",this.handlePointerUp),zi(window,"pointercancel",this.handlePointerUp))}}return t.prototype.updateHandlers=function(t){this.handlers=t},t.prototype.end=function(){this.removeListeners&&this.removeListeners(),Jo.update(this.updatePoint)},t}();function aa(t,e){return e?{point:e(t.point)}:t}function ua(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ca(t,e){var n=t.point;return{point:n,delta:ua(n,ha(e)),offset:ua(n,la(e)),velocity:fa(e,.1)}}function la(t){return t[0]}function ha(t){return t[t.length-1]}function fa(t,e){if(t.length<2)return{x:0,y:0};for(var n=t.length-1,r=null,i=ha(t);n>=0&&(r=t[n],!(i.timestamp-r.timestamp>bs(e)));)n--;if(!r)return{x:0,y:0};var o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};var s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function da(t){return t}function pa(t){var e=t.top;return{x:{min:t.left,max:t.right},y:{min:e,max:t.bottom}}}var ma={translate:0,scale:1,origin:0,originPoint:0};function ga(){return{x:_n({},ma),y:_n({},ma)}}function va(t){return[t("x"),t("y")]}function ya(t,e,n){var r=e.min,i=e.max;return void 0!==r&&t<r?t=n?so(r,t,n.min):Math.max(t,r):void 0!==i&&t>i&&(t=n?so(i,t,n.max):Math.min(t,i)),t}function ba(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function wa(t,e){var n,r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&(r=(n=An([i,r],2))[0],i=n[1]),{min:t.min+r,max:t.min+i}}function Ea(t,e,n){return{min:Ta(t,e),max:Ta(t,n)}}function Ta(t,e){var n;return"number"==typeof t?t:null!==(n=t[e])&&void 0!==n?n:0}function Sa(t,e){return pa(function(t,e){var n=t.top,r=t.left,i=t.bottom,o=t.right;void 0===e&&(e=da);var s=e({x:r,y:n}),a=e({x:o,y:i});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}(t.getBoundingClientRect(),e))}function _a(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=.01),ls(t,e)<n}function xa(t){return t.max-t.min}function Aa(t,e,n,r){void 0===r&&(r=.5),t.origin=r,t.originPoint=so(e.min,e.max,t.origin),t.scale=xa(n)/xa(e),_a(t.scale,1,1e-4)&&(t.scale=1),t.translate=so(n.min,n.max,t.origin)-t.originPoint,_a(t.translate)&&(t.translate=0)}function Ia(t,e,n,r){Aa(t.x,e.x,n.x,Ca(r.originX)),Aa(t.y,e.y,n.y,Ca(r.originY))}function Ca(t){return"number"==typeof t?t:.5}function ka(t,e,n){t.min=n.min+e.min,t.max=t.min+xa(e)}var Pa=function(t,e){return t.depth-e.depth};function Ra(t){return t.projection.isEnabled||t.shouldResetTransform()}function Oa(t,e){void 0===e&&(e=[]);var n=t.parent;return n&&Oa(n,e),Ra(t)&&e.push(t),e}function Na(t){if(!t.shouldResetTransform()){var e,n=t.getLayoutState();t.notifyBeforeLayoutMeasure(n.layout),n.isHydrated=!0,n.layout=t.measureViewportBox(),n.layoutCorrected=(e=n.layout,{x:_n({},e.x),y:_n({},e.y)}),t.notifyLayoutMeasure(n.layout,t.prevViewportBox||n.layout),Xo.update((function(){return t.rebaseProjectionTarget()}))}}function La(t,e){return{min:e.min-t.min,max:e.max-t.min}}function Da(t,e){return{x:La(t.x,e.x),y:La(t.y,e.y)}}function Ma(t,e){var n=t.getLayoutId(),r=e.getLayoutId();return n!==r||void 0===r&&t!==e}function Ua(t){var e=t.getProps(),n=e.drag,r=e._dragX;return n&&!r}function Va(t,e){t.min=e.min,t.max=e.max}function Fa(t,e,n){return n+e*(t-n)}function ja(t,e,n,r,i){return void 0!==i&&(t=Fa(t,i,r)),Fa(t,n,r)+e}function Ba(t,e,n,r,i){void 0===e&&(e=0),void 0===n&&(n=1),t.min=ja(t.min,e,n,r,i),t.max=ja(t.max,e,n,r,i)}function za(t,e){var n=e.x,r=e.y;Ba(t.x,n.translate,n.scale,n.originPoint),Ba(t.y,r.translate,r.scale,r.originPoint)}function $a(t,e,n,r){var i=An(r,3),o=i[0],s=i[1],a=i[2];t.min=e.min,t.max=e.max;var u=void 0!==n[a]?n[a]:.5,c=so(e.min,e.max,u);Ba(t,n[o],n[s],c,n.scale)}var Ha=["x","scaleX","originX"],qa=["y","scaleY","originY"];function Wa(t,e,n){$a(t.x,e.x,n,Ha),$a(t.y,e.y,n,qa)}function Ka(t,e,n,r,i){return t=Fa(t-=e,1/n,r),void 0!==i&&(t=Fa(t,1/i,r)),t}function Ga(t,e,n){var r=An(n,3),i=r[0],o=r[1],s=r[2];!function(t,e,n,r,i){void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r=.5);var o=so(t.min,t.max,r)-e;t.min=Ka(t.min,e,n,o,i),t.max=Ka(t.max,e,n,o,i)}(t,e[i],e[o],e[s],e.scale)}function Ya(t,e){Ga(t.x,e,Ha),Ga(t.y,e,qa)}var Xa=new Set;function Ja(t,e,n){t[n]||(t[n]=[]),t[n].push(e)}function Qa(t){return Xa.add(t),function(){return Xa.delete(t)}}function Za(){if(Xa.size){var t=0,e=[[]],n=[],r=function(n){return Ja(e,n,t)},i=function(e){Ja(n,e,t),t++};Xa.forEach((function(e){e(r,i),t=0})),Xa.clear();for(var o=n.length,s=0;s<=o;s++)e[s]&&e[s].forEach(eu),n[s]&&n[s].forEach(eu)}}var tu,eu=function(t){return t()},nu=new WeakMap,ru=function(){function t(t){var e=t.visualElement;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.elastic={x:{min:0,max:1},y:{min:0,max:1}},this.props={},this.hasMutatedConstraints=!1,this.cursorProgress={x:.5,y:.5},this.originPoint={},this.openGlobalLock=null,this.panSession=null,this.visualElement=e,this.visualElement.enableLayoutProjection(),nu.set(e,this)}return t.prototype.start=function(t,e){var n=this,r=void 0===e?{}:e,i=r.snapToCursor,o=void 0!==i&&i,s=r.cursorProgress,a=this.props.transformPagePoint;this.panSession=new sa(t,{onSessionStart:function(t){var e;n.stopMotion();var r=function(t){return Ui(t,"client")}(t).point;null===(e=n.cancelLayout)||void 0===e||e.call(n),n.cancelLayout=Qa((function(t,e){var i=Oa(n.visualElement),a=function(t){var e=[],n=function(t){Ra(t)&&e.push(t),t.children.forEach(n)};return t.children.forEach(n),e.sort(Pa)}(n.visualElement),u=In(In([],An(i)),An(a)),c=!1;n.isLayoutDrag()&&n.visualElement.lockProjectionTarget(),e((function(){u.forEach((function(t){return t.resetTransform()}))})),t((function(){Na(n.visualElement),a.forEach(Na)})),e((function(){u.forEach((function(t){return t.restoreTransform()})),o&&(c=n.snapToCursor(r))})),t((function(){Boolean(n.getAxisMotionValue("x")&&!n.isExternalDrag())||n.visualElement.rebaseProjectionTarget(!0,n.visualElement.measureViewportBox(!1)),n.visualElement.scheduleUpdateLayoutProjection();var t=n.visualElement.projection;va((function(e){if(!c){var i=t.target[e],o=i.min,a=i.max;n.cursorProgress[e]=s?s[e]:oo(o,a,r[e])}var u=n.getAxisMotionValue(e);u&&(n.originPoint[e]=u.get())}))})),e((function(){Qo.update(),Qo.preRender(),Qo.render(),Qo.postRender()})),t((function(){return n.resolveDragConstraints()}))}))},onStart:function(t,e){var r,i,o,s=n.props,a=s.drag,u=s.dragPropagation;(!a||u||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=Ki(a),n.openGlobalLock))&&(Za(),n.isDragging=!0,n.currentDirection=null,null===(i=(r=n.props).onDragStart)||void 0===i||i.call(r,t,e),null===(o=n.visualElement.animationState)||void 0===o||o.setActive(Ai.Drag,!0))},onMove:function(t,e){var r,i,o,s,a=n.props,u=a.dragPropagation,c=a.dragDirectionLock;if(u||n.openGlobalLock){var l=e.offset;if(c&&null===n.currentDirection)return n.currentDirection=function(t,e){void 0===e&&(e=10);var n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}(l),void(null!==n.currentDirection&&(null===(i=(r=n.props).onDirectionLock)||void 0===i||i.call(r,n.currentDirection)));n.updateAxis("x",e.point,l),n.updateAxis("y",e.point,l),null===(s=(o=n.props).onDrag)||void 0===s||s.call(o,t,e),tu=t}},onSessionEnd:function(t,e){return n.stop(t,e)}},{transformPagePoint:a})},t.prototype.resolveDragConstraints=function(){var t=this,e=this.props,n=e.dragConstraints,r=e.dragElastic,i=this.visualElement.getLayoutState().layoutCorrected;this.constraints=!!n&&(Wn(n)?this.resolveRefConstraints(i,n):function(t,e){var n=e.top,r=e.left,i=e.bottom,o=e.right;return{x:ba(t.x,r,o),y:ba(t.y,n,i)}}(i,n)),this.elastic=function(t){return!1===t?t=0:!0===t&&(t=.35),{x:Ea(t,"left","right"),y:Ea(t,"top","bottom")}}(r),this.constraints&&!this.hasMutatedConstraints&&va((function(e){t.getAxisMotionValue(e)&&(t.constraints[e]=function(t,e){var n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(i[e],t.constraints[e]))}))},t.prototype.resolveRefConstraints=function(t,e){var n=this.props,r=n.onMeasureDragConstraints,i=n.transformPagePoint,o=e.current;Rn(null!==o,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop."),this.constraintsBox=Sa(o,i);var s=function(t,e){return{x:wa(t.x,e.x),y:wa(t.y,e.y)}}(t,this.constraintsBox);if(r){var a=r(function(t){var e=t.x,n=t.y;return{top:n.min,bottom:n.max,left:e.min,right:e.max}}(s));this.hasMutatedConstraints=!!a,a&&(s=pa(a))}return s},t.prototype.cancelDrag=function(){var t,e;this.visualElement.unlockProjectionTarget(),null===(t=this.cancelLayout)||void 0===t||t.call(this),this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(e=this.visualElement.animationState)||void 0===e||e.setActive(Ai.Drag,!1)},t.prototype.stop=function(t,e){var n,r,i;null===(n=this.panSession)||void 0===n||n.end(),this.panSession=null;var o=this.isDragging;if(this.cancelDrag(),o){var s=e.velocity;this.animateDragEnd(s),null===(i=(r=this.props).onDragEnd)||void 0===i||i.call(r,t,e)}},t.prototype.snapToCursor=function(t){var e=this;return va((function(n){if(iu(n,e.props.drag,e.currentDirection)){var r=e.getAxisMotionValue(n);if(!r)return e.cursorProgress[n]=.5,!0;var i=e.visualElement.getLayoutState().layout,o=i[n].max-i[n].min,s=i[n].min+o/2,a=t[n]-s;e.originPoint[n]=t[n],r.set(a)}})).includes(!0)},t.prototype.updateAxis=function(t,e,n){if(iu(t,this.props.drag,this.currentDirection))return this.getAxisMotionValue(t)?this.updateAxisMotionValue(t,n):this.updateVisualElementAxis(t,e)},t.prototype.updateAxisMotionValue=function(t,e){var n=this.getAxisMotionValue(t);if(e&&n){var r=this.originPoint[t]+e[t],i=this.constraints?ya(r,this.constraints[t],this.elastic[t]):r;n.set(i)}},t.prototype.updateVisualElementAxis=function(t,e){var n,r=this.visualElement.getLayoutState().layout[t],i=r.max-r.min,o=this.cursorProgress[t],s=function(t,e,n,r,i){var o=t-e*n;return r?ya(o,r,i):o}(e[t],i,o,null===(n=this.constraints)||void 0===n?void 0:n[t],this.elastic[t]);this.visualElement.setProjectionTargetAxis(t,s,s+i)},t.prototype.setProps=function(t){var e=t.drag,n=void 0!==e&&e,r=t.dragDirectionLock,i=void 0!==r&&r,o=t.dragPropagation,s=void 0!==o&&o,a=t.dragConstraints,u=void 0!==a&&a,c=t.dragElastic,l=void 0===c?.35:c,h=t.dragMomentum,f=void 0===h||h,d=xn(t,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=_n({drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:u,dragElastic:l,dragMomentum:f},d)},t.prototype.getAxisMotionValue=function(t){var e=this.props,n=e.layout,r=e.layoutId,i="_drag"+t.toUpperCase();return this.props[i]?this.props[i]:n||void 0!==r?void 0:this.visualElement.getValue(t,0)},t.prototype.isLayoutDrag=function(){return!this.getAxisMotionValue("x")},t.prototype.isExternalDrag=function(){var t=this.props,e=t._dragX,n=t._dragY;return e||n},t.prototype.animateDragEnd=function(t){var e=this,n=this.props,r=n.drag,i=n.dragMomentum,o=n.dragElastic,s=n.dragTransition,a=function(t,e){void 0===e&&(e=!0);var n,r=t.getProjectionParent();return!!r&&(e?Ya(n=Da(r.projection.target,t.projection.target),r.getLatestValues()):n=Da(r.getLayoutState().layout,t.getLayoutState().layout),va((function(e){return t.setProjectionTargetAxis(e,n[e].min,n[e].max,!0)})),!0)}(this.visualElement,this.isLayoutDrag()&&!this.isExternalDrag()),u=this.constraints||{};if(a&&Object.keys(u).length&&this.isLayoutDrag()){var c=this.visualElement.getProjectionParent();if(c){var l=Da(c.projection.targetFinal,u);va((function(t){var e=l[t],n=e.min,r=e.max;u[t]={min:isNaN(n)?void 0:n,max:isNaN(r)?void 0:r}}))}}var h=va((function(n){var c;if(iu(n,r,e.currentDirection)){var l=null!==(c=null==u?void 0:u[n])&&void 0!==c?c:{},h=o?200:1e6,f=o?40:1e7,d=_n(_n({type:"inertia",velocity:i?t[n]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10},s),l);return e.getAxisMotionValue(n)?e.startAxisValueAnimation(n,d):e.visualElement.startLayoutAnimation(n,d,a)}}));return Promise.all(h).then((function(){var t,n;null===(n=(t=e.props).onDragTransitionEnd)||void 0===n||n.call(t)}))},t.prototype.stopMotion=function(){var t=this;va((function(e){var n=t.getAxisMotionValue(e);n?n.stop():t.visualElement.stopLayoutAnimation()}))},t.prototype.startAxisValueAnimation=function(t,e){var n=this.getAxisMotionValue(t);if(n){var r=n.get();return n.set(r),n.set(r),Ms(t,n,0,e)}},t.prototype.scalePoint=function(){var t=this,e=this.props,n=e.drag;if(Wn(e.dragConstraints)&&this.constraintsBox){this.stopMotion();var r={x:0,y:0};va((function(e){r[e]=function(t,e){var n=.5,r=xa(t),i=xa(e);return i>r?n=oo(e.min,e.max-r,t.min):r>i&&(n=oo(t.min,t.max-i,e.min)),function(t){return Qi(0,1,t)}(n)}(t.visualElement.projection.target[e],t.constraintsBox[e])})),this.updateConstraints((function(){va((function(e){if(iu(e,n,null)){var i=function(t,e,n){var r=t.max-t.min,i=so(e.min,e.max-r,n);return{min:i,max:i+r}}(t.visualElement.projection.target[e],t.constraintsBox[e],r[e]),o=i.min,s=i.max;t.visualElement.setProjectionTargetAxis(e,o,s)}}))})),setTimeout(Za,1)}},t.prototype.updateConstraints=function(t){var e=this;this.cancelLayout=Qa((function(n,r){var i=Oa(e.visualElement);r((function(){return i.forEach((function(t){return t.resetTransform()}))})),n((function(){return Na(e.visualElement)})),r((function(){return i.forEach((function(t){return t.restoreTransform()}))})),n((function(){e.resolveDragConstraints()})),t&&r(t)}))},t.prototype.mount=function(t){var e=this,n=zi(t.getInstance(),"pointerdown",(function(t){var n=e.props,r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&e.start(t)})),r=Pi(window,"resize",(function(){e.scalePoint()})),i=t.onLayoutUpdate((function(){e.isDragging&&e.resolveDragConstraints()})),o=t.prevDragCursor;return o&&this.start(tu,{cursorProgress:o}),function(){null==n||n(),null==r||r(),null==i||i(),e.cancelDrag()}},t}();function iu(t,e,n){return!(!0!==e&&e!==t||null!==n&&n!==t)}var ou,su,au={pan:gs((function(t){var e=t.onPan,n=t.onPanStart,i=t.onPanEnd,o=t.onPanSessionStart,s=t.visualElement,a=e||n||i||o,u=(0,r.useRef)(null),c=(0,r.useContext)(Dn).transformPagePoint,l={onSessionStart:o,onStart:n,onMove:e,onEnd:function(t,e){u.current=null,i&&i(t,e)}};(0,r.useEffect)((function(){null!==u.current&&u.current.updateHandlers(l)})),$i(s,"pointerdown",a&&function(t){u.current=new sa(t,l,{transformPagePoint:c})}),Ji((function(){return u.current&&u.current.end()}))})),drag:gs((function(t){var e=t.dragControls,n=t.visualElement,i=(0,r.useContext)(Dn).transformPagePoint,o=Vn((function(){return new ru({visualElement:n})}));o.setProps(_n(_n({},t),{transformPagePoint:i})),(0,r.useEffect)((function(){return e&&e.subscribe(o)}),[o]),(0,r.useEffect)((function(){return o.mount(n)}),[])}))};function uu(t){return"string"==typeof t&&t.startsWith("var(--")}!function(t){t[t.Entering=0]="Entering",t[t.Present=1]="Present",t[t.Exiting=2]="Exiting"}(ou||(ou={})),function(t){t[t.Hide=0]="Hide",t[t.Show=1]="Show"}(su||(su={}));var cu=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function lu(t,e,n){void 0===n&&(n=1),Rn(n<=4,'Max CSS variable fallback depth detected in property "'+t+'". This may indicate a circular fallback dependency.');var r=An(function(t){var e=cu.exec(t);if(!e)return[,];var n=An(e,3);return[n[1],n[2]]}(t),2),i=r[0],o=r[1];if(i){var s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():uu(o)?lu(o,e,n+1):o}}function hu(t,e){return t/(e.max-e.min)*100}var fu={process:function(t,e,n){var r=n.target;if("string"==typeof t){if(!Cr.test(t))return t;t=parseFloat(t)}return hu(t,r.x)+"% "+hu(t,r.y)+"%"}},du={borderRadius:_n(_n({},fu),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:fu,borderTopRightRadius:fu,borderBottomLeftRadius:fu,borderBottomRightRadius:fu,boxShadow:{process:function(t,e){var n=e.delta,r=e.treeScale,i=t,o=t.includes("var("),s=[];o&&(t=t.replace(cu,(function(t){return s.push(t),"_$css"})));var a=Hr.parse(t);if(a.length>5)return i;var u=Hr.createTransformer(t),c="number"!=typeof a[0]?1:0,l=n.x.scale*r.x,h=n.y.scale*r.y;a[0+c]/=l,a[1+c]/=h;var f=so(l,h,.5);"number"==typeof a[2+c]&&(a[2+c]/=f),"number"==typeof a[3+c]&&(a[3+c]/=f);var d=u(a);if(o){var p=0;d=d.replace("_$css",(function(){var t=s[p];return p++,t}))}return d}}},pu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frameTarget={x:{min:0,max:1},y:{min:0,max:1}},e.currentAnimationTarget={x:{min:0,max:1},y:{min:0,max:1}},e.isAnimating={x:!1,y:!1},e.stopAxisAnimation={x:void 0,y:void 0},e.isAnimatingTree=!1,e.animate=function(t,n,r){void 0===r&&(r={});var i=r.originBox,o=r.targetBox,s=r.visibilityAction,a=r.shouldStackAnimate,u=r.onComplete,c=r.prevParent,l=xn(r,["originBox","targetBox","visibilityAction","shouldStackAnimate","onComplete","prevParent"]),h=e.props,f=h.visualElement,d=h.layout;if(!1===a)return e.isAnimatingTree=!1,e.safeToRemove();if(!e.isAnimatingTree||!0===a){a&&(e.isAnimatingTree=!0),n=i||n,t=o||t;var p=!1,m=f.getProjectionParent();if(m){var g=m.prevViewportBox,v=m.getLayoutState().layout;c&&(o&&(v=c.getLayoutState().layout),i&&!Ma(c,m)&&c.prevViewportBox&&(g=c.prevViewportBox)),g&&wu(c,i,o)&&(p=!0,n=Da(g,n),t=Da(v,t))}var y=mu(n,t),b=va((function(r){var i,o;if("position"===d){var a=t[r].max-t[r].min;n[r].max=n[r].min+a}if(!f.projection.isTargetLocked)return void 0===s?y?e.animateAxis(r,t[r],n[r],_n(_n({},l),{isRelative:p})):(null===(o=(i=e.stopAxisAnimation)[r])||void 0===o||o.call(i),f.setProjectionTargetAxis(r,t[r].min,t[r].max,p)):void f.setVisibility(s===su.Show)}));return f.syncRender(),Promise.all(b).then((function(){e.isAnimatingTree=!1,u&&u(),f.notifyLayoutAnimationComplete()}))}},e}return Sn(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props.visualElement;e.animateMotionValue=Ms,e.enableLayoutProjection(),this.unsubLayoutReady=e.onLayoutUpdate(this.animate),e.layoutSafeToRemove=function(){return t.safeToRemove()},function(t){for(var e in t)rr[e]=t[e]}(du)},e.prototype.componentWillUnmount=function(){var t=this;this.unsubLayoutReady(),va((function(e){var n,r;return null===(r=(n=t.stopAxisAnimation)[e])||void 0===r?void 0:r.call(n)}))},e.prototype.animateAxis=function(t,e,n,r){var i,o,s=this,a=void 0===r?{}:r,u=a.transition,c=a.isRelative;if(!this.isAnimating[t]||!yu(e,this.currentAnimationTarget[t])){null===(o=(i=this.stopAxisAnimation)[t])||void 0===o||o.call(i),this.isAnimating[t]=!0;var l=this.props.visualElement,h=this.frameTarget[t],f=l.getProjectionAnimationProgress()[t];f.clearListeners(),f.set(0),f.set(0);var d=function(){var r=f.get()/1e3;!function(t,e,n,r){t.min=so(e.min,n.min,r),t.max=so(e.max,n.max,r)}(h,n,e,r),l.setProjectionTargetAxis(t,h.min,h.max,c)};d();var p=f.onChange(d);this.stopAxisAnimation[t]=function(){s.isAnimating[t]=!1,f.stop(),p()},this.currentAnimationTarget[t]=e;var m=u||l.getDefaultTransition()||bu;return Ms("x"===t?"layoutX":"layoutY",f,1e3,m&&Ds(m,"layout")).then(this.stopAxisAnimation[t])}},e.prototype.safeToRemove=function(){var t,e;null===(e=(t=this.props).safeToRemove)||void 0===e||e.call(t)},e.prototype.render=function(){return null},e}(r.Component);function mu(t,e){return!(vu(t)||vu(e)||yu(t.x,e.x)&&yu(t.y,e.y))}var gu={min:0,max:0};function vu(t){return yu(t.x,gu)&&yu(t.y,gu)}function yu(t,e){return t.min===e.min&&t.max===e.max}var bu={duration:.45,ease:[.4,0,.1,1]};function wu(t,e,n){return t||!t&&!(e||n)}var Eu={layoutReady:function(t){return t.notifyLayoutReady()}};function Tu(){var t=new Set;return{add:function(e){return t.add(e)},flush:function(e){var n=void 0===e?Eu:e,r=n.layoutReady,i=n.parent;Qa((function(e,n){var o=Array.from(t).sort(Pa),s=i?Oa(i):[];n((function(){In(In([],An(s)),An(o)).forEach((function(t){return t.resetTransform()}))})),e((function(){o.forEach(Na)})),n((function(){s.forEach((function(t){return t.restoreTransform()})),o.forEach(r)})),e((function(){o.forEach((function(t){t.isPresent&&(t.presence=ou.Present)}))})),n((function(){Qo.preRender(),Qo.render()})),e((function(){Xo.postRender((function(){return o.forEach(Su)})),t.clear()}))})),Za()}}}function Su(t){t.prevViewportBox=t.projection.target}var _u=(0,r.createContext)(Tu()),xu=(0,r.createContext)(Tu());function Au(t){return!!t.forceUpdate}var Iu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sn(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.syncLayout,n=t.framerSyncLayout,r=t.visualElement;Au(e)&&e.register(r),Au(n)&&n.register(r),r.onUnmount((function(){Au(e)&&e.remove(r),Au(n)&&n.remove(r)}))},e.prototype.getSnapshotBeforeUpdate=function(){var t=this.props,e=t.syncLayout,n=t.visualElement;return Au(e)?e.syncUpdate():(function(t){t.shouldResetTransform()||(t.prevViewportBox=t.measureViewportBox(!1),t.rebaseProjectionTarget(!1,t.prevViewportBox))}(n),e.add(n)),null},e.prototype.componentDidUpdate=function(){var t=this.props.syncLayout;Au(t)||t.flush()},e.prototype.render=function(){return null},e}(r.Component),Cu={measureLayout:function(t){var e=(0,r.useContext)(_u),n=(0,r.useContext)(xu);return r.createElement(Iu,_n({},t,{syncLayout:e,framerSyncLayout:n}))},layoutAnimation:function(t){var e=An(Fn(),2)[1];return r.createElement(pu,_n({},t,{safeToRemove:e}))}};function ku(){return{isHydrated:!1,layout:{x:{min:0,max:1},y:{min:0,max:1}},layoutCorrected:{x:{min:0,max:1},y:{min:0,max:1}},treeScale:{x:1,y:1},delta:ga(),deltaFinal:ga(),deltaTransform:""}}var Pu=ku();function Ru(t,e,n){var r=t.x,i=t.y,o="translate3d("+r.translate/e.x+"px, "+i.translate/e.y+"px, 0) ";if(n){var s=n.rotate,a=n.rotateX,u=n.rotateY;s&&(o+="rotate("+s+") "),a&&(o+="rotateX("+a+") "),u&&(o+="rotateY("+u+") ")}return o+="scale("+r.scale+", "+i.scale+")",n||o!==Nu?o:""}function Ou(t){var e=t.deltaFinal;return 100*e.x.origin+"% "+100*e.y.origin+"% 0"}var Nu=Ru(Pu.delta,Pu.treeScale,{x:1,y:1}),Lu=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];var Du=function(){function t(){this.children=[],this.isDirty=!1}return t.prototype.add=function(t){Vs(this.children,t),this.isDirty=!0},t.prototype.remove=function(t){Fs(this.children,t),this.isDirty=!0},t.prototype.forEach=function(t){this.isDirty&&this.children.sort(Pa),this.isDirty=!1,this.children.forEach(t)},t}(),Mu=function(t){var e=t.treeType,n=void 0===e?"":e,r=t.build,i=t.getBaseTarget,o=t.makeTargetAnimatable,s=t.measureViewportBox,a=t.render,u=t.readValueFromInstance,c=t.resetTransform,l=t.restoreTransform,h=t.removeValueFromRenderState,f=t.sortNodePosition,d=t.scrapeMotionValuesFromProps;return function(t,e){var p=t.parent,m=t.props,g=t.presenceId,v=t.blockInitialAnimation,y=t.visualState;void 0===e&&(e={});var b,w,E,T,S,_,x=y.latestValues,A=y.renderState,I=function(){var t=Lu.map((function(){return new js})),e={},n={clearAllListeners:function(){return t.forEach((function(t){return t.clear()}))},updatePropListeners:function(t){return Lu.forEach((function(r){var i;null===(i=e[r])||void 0===i||i.call(e);var o="on"+r,s=t[o];s&&(e[r]=n[o](s))}))}};return t.forEach((function(t,e){n["on"+Lu[e]]=function(e){return t.add(e)},n["notify"+Lu[e]]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.notify.apply(t,In([],An(e)))}})),n}(),C={isEnabled:!1,isHydrated:!1,isTargetLocked:!1,target:{x:{min:0,max:1},y:{min:0,max:1}},targetFinal:{x:{min:0,max:1},y:{min:0,max:1}}},k=C,P=x,R=ku(),O=!1,N=new Map,L=new Map,D={},M=_n({},x);function U(){b&&(W.isProjectionReady()&&(Wa(k.targetFinal,k.target,P),Ia(R.deltaFinal,R.layoutCorrected,k.targetFinal,x)),V(),a(b,A))}function V(){var t=x;if(T&&T.isActive()){var n=T.getCrossfadeState(W);n&&(t=n)}r(W,A,t,k,R,e,m)}function F(){I.notifyUpdate(x)}function j(){W.layoutTree.forEach(Vu)}var B=d(m);for(var z in B){var $=B[z];void 0!==x[z]&&fr($)&&$.set(x[z],!1)}var H=Jn(m),q=Qn(m),W=_n(_n({treeType:n,current:null,depth:p?p.depth+1:0,parent:p,children:new Set,path:p?In(In([],An(p.path)),[p]):[],layoutTree:p?p.layoutTree:new Du,presenceId:g,projection:C,variantChildren:q?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==p?void 0:p.isMounted()),blockInitialAnimation:v,isMounted:function(){return Boolean(b)},mount:function(t){b=W.current=t,W.pointTo(W),q&&p&&!H&&(_=null==p?void 0:p.addVariantChild(W)),null==p||p.children.add(W)},unmount:function(){Jo.update(F),Jo.render(U),Jo.preRender(W.updateLayoutProjection),L.forEach((function(t){return t()})),W.stopLayoutAnimation(),W.layoutTree.remove(W),null==_||_(),null==p||p.children.delete(W),null==E||E(),I.clearAllListeners()},addVariantChild:function(t){var e,n=W.getClosestVariantNode();if(n)return null===(e=n.variantChildren)||void 0===e||e.add(t),function(){return n.variantChildren.delete(t)}},sortNodePosition:function(t){return f&&n===t.treeType?f(W.getInstance(),t.getInstance()):0},getClosestVariantNode:function(){return q?W:null==p?void 0:p.getClosestVariantNode()},scheduleUpdateLayoutProjection:p?p.scheduleUpdateLayoutProjection:function(){return Xo.preRender(W.updateTreeLayoutProjection,!1,!0)},getLayoutId:function(){return m.layoutId},getInstance:function(){return b},getStaticValue:function(t){return x[t]},setStaticValue:function(t,e){return x[t]=e},getLatestValues:function(){return x},setVisibility:function(t){W.isVisible!==t&&(W.isVisible=t,W.scheduleRender())},makeTargetAnimatable:function(t,e){return void 0===e&&(e=!0),o(W,t,m,e)},addValue:function(t,e){W.hasValue(t)&&W.removeValue(t),N.set(t,e),x[t]=e.get(),function(t,e){var n=e.onChange((function(e){x[t]=e,m.onUpdate&&Xo.update(F,!1,!0)})),r=e.onRenderRequest(W.scheduleRender);L.set(t,(function(){n(),r()}))}(t,e)},removeValue:function(t){var e;N.delete(t),null===(e=L.get(t))||void 0===e||e(),L.delete(t),delete x[t],h(t,A)},hasValue:function(t){return N.has(t)},getValue:function(t,e){var n=N.get(t);return void 0===n&&void 0!==e&&(n=zs(e),W.addValue(t,n)),n},forEachValue:function(t){return N.forEach(t)},readValue:function(t){var n;return null!==(n=x[t])&&void 0!==n?n:u(b,t,e)},setBaseTarget:function(t,e){M[t]=e},getBaseTarget:function(t){if(i){var e=i(m,t);if(void 0!==e&&!fr(e))return e}return M[t]}},I),{build:function(){return V(),A},scheduleRender:function(){Xo.render(U,!1,!0)},syncRender:U,setProps:function(t){m=t,I.updatePropListeners(t),D=function(t,e,n){var r;for(var i in e){var o=e[i],s=n[i];if(fr(o))t.addValue(i,o);else if(fr(s))t.addValue(i,zs(o));else if(s!==o)if(t.hasValue(i)){var a=t.getValue(i);!a.hasAnimated&&a.set(o)}else t.addValue(i,zs(null!==(r=t.getStaticValue(i))&&void 0!==r?r:o))}for(var i in n)void 0===e[i]&&t.removeValue(i);return e}(W,d(m),D)},getProps:function(){return m},getVariant:function(t){var e;return null===(e=m.variants)||void 0===e?void 0:e[t]},getDefaultTransition:function(){return m.transition},getVariantContext:function(t){if(void 0===t&&(t=!1),t)return null==p?void 0:p.getVariantContext();if(!H){var e=(null==p?void 0:p.getVariantContext())||{};return void 0!==m.initial&&(e.initial=m.initial),e}for(var n={},r=0;r<Bu;r++){var i=ju[r],o=m[i];(Gn(o)||!1===o)&&(n[i]=o)}return n},enableLayoutProjection:function(){C.isEnabled=!0,W.layoutTree.add(W)},lockProjectionTarget:function(){C.isTargetLocked=!0},unlockProjectionTarget:function(){W.stopLayoutAnimation(),C.isTargetLocked=!1},getLayoutState:function(){return R},setCrossfader:function(t){T=t},isProjectionReady:function(){return C.isEnabled&&C.isHydrated&&R.isHydrated},startLayoutAnimation:function(t,e,n){void 0===n&&(n=!1);var r=W.getProjectionAnimationProgress()[t],i=n?C.relativeTarget[t]:C.target[t],o=i.min,s=i.max-o;return r.clearListeners(),r.set(o),r.set(o),r.onChange((function(e){W.setProjectionTargetAxis(t,e,e+s,n)})),W.animateMotionValue(t,r,0,e)},stopLayoutAnimation:function(){va((function(t){return W.getProjectionAnimationProgress()[t].stop()}))},measureViewportBox:function(t){void 0===t&&(t=!0);var n=s(b,e);return t||Ya(n,x),n},getProjectionAnimationProgress:function(){return S||(S={x:zs(0),y:zs(0)}),S},setProjectionTargetAxis:function(t,e,n,r){var i;void 0===r&&(r=!1),r?(C.relativeTarget||(C.relativeTarget={x:{min:0,max:1},y:{min:0,max:1}}),i=C.relativeTarget[t]):(C.relativeTarget=void 0,i=C.target[t]),C.isHydrated=!0,i.min=e,i.max=n,O=!0,I.notifySetAxisTarget()},rebaseProjectionTarget:function(t,e){void 0===e&&(e=R.layout);var n=W.getProjectionAnimationProgress(),r=n.x,i=n.y,o=!(C.relativeTarget||C.isTargetLocked||r.isAnimating()||i.isAnimating());(t||o)&&va((function(t){var n=e[t],r=n.min,i=n.max;W.setProjectionTargetAxis(t,r,i)}))},notifyLayoutReady:function(t){!function(t){var e=t.getProjectionParent();if(e){var n=Da(e.getLayoutState().layout,t.getLayoutState().layout);va((function(e){t.setProjectionTargetAxis(e,n[e].min,n[e].max,!0)}))}else t.rebaseProjectionTarget()}(W),W.notifyLayoutUpdate(R.layout,W.prevViewportBox||R.layout,t)},resetTransform:function(){return c(W,b,m)},restoreTransform:function(){return l(b,A)},updateLayoutProjection:function(){if(W.isProjectionReady()){var t=R.delta,e=R.treeScale,n=e.x,r=e.y,i=R.deltaTransform;(function(t,e,n,r){var i,o,s=t.delta,a=t.layout,u=t.layoutCorrected,c=t.treeScale,l=e.target;o=a,Va((i=u).x,o.x),Va(i.y,o.y),function(t,e,n){var r=n.length;if(r){var i,o;e.x=e.y=1;for(var s=0;s<r;s++)o=(i=n[s]).getLayoutState().delta,e.x*=o.x.scale,e.y*=o.y.scale,za(t,o),Ua(i)&&Wa(t,t,i.getLatestValues())}}(u,c,n),Ia(s,u,l,r)})(R,k,W.path,x),O&&W.notifyViewportBoxUpdate(k.target,t),O=!1;var o=Ru(t,e);o===i&&n===e.x&&r===e.y||W.scheduleRender(),R.deltaTransform=o}},updateTreeLayoutProjection:function(){W.layoutTree.forEach(Uu),Xo.preRender(j,!1,!0)},getProjectionParent:function(){if(void 0===w){for(var t=!1,e=W.path.length-1;e>=0;e--){var n=W.path[e];if(n.projection.isEnabled){t=n;break}}w=t}return w},resolveRelativeTargetBox:function(){var t=W.getProjectionParent();if(C.relativeTarget&&t&&(function(t,e){ka(t.target.x,t.relativeTarget.x,e.target.x),ka(t.target.y,t.relativeTarget.y,e.target.y)}(C,t.projection),Ua(t))){var e=C.target;Wa(e,e,t.getLatestValues())}},shouldResetTransform:function(){return Boolean(m._layoutResetTransform)},pointTo:function(t){k=t.projection,P=t.getLatestValues(),null==E||E(),E=mo(t.onSetAxisTarget(W.scheduleUpdateLayoutProjection),t.onLayoutAnimationComplete((function(){var t;W.isPresent?W.presence=ou.Present:null===(t=W.layoutSafeToRemove)||void 0===t||t.call(W)})))},isPresent:!0,presence:ou.Entering});return W}};function Uu(t){t.resolveRelativeTargetBox()}function Vu(t){t.updateLayoutProjection()}var Fu,ju=In(["initial"],An(ta)),Bu=ju.length,zu=new Set(["width","height","top","left","right","bottom","x","y"]),$u=function(t){return zu.has(t)},Hu=function(t,e){t.set(e,!1),t.set(e)},qu=function(t){return t===Tr||t===Cr};!function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"}(Fu||(Fu={}));var Wu=function(t,e){return parseFloat(t.split(", ")[e])},Ku=function(t,e){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return Wu(o[1],e);var s=i.match(/^matrix\((.+)\)$/);return s?Wu(s[1],t):0}},Gu=new Set(["x","y","z"]),Yu=or.filter((function(t){return!Gu.has(t)})),Xu={width:function(t){var e=t.x;return e.max-e.min},height:function(t){var e=t.y;return e.max-e.min},top:function(t,e){var n=e.top;return parseFloat(n)},left:function(t,e){var n=e.left;return parseFloat(n)},bottom:function(t,e){var n=t.y,r=e.top;return parseFloat(r)+(n.max-n.min)},right:function(t,e){var n=t.x,r=e.left;return parseFloat(r)+(n.max-n.min)},x:Ku(4,13),y:Ku(5,14)};function Ju(t,e,n,r){return function(t){return Object.keys(t).some($u)}(e)?function(t,e,n,r){void 0===n&&(n={}),void 0===r&&(r={}),e=_n({},e),r=_n({},r);var i=Object.keys(e).filter($u),o=[],s=!1,a=[];if(i.forEach((function(i){var u=t.getValue(i);if(t.hasValue(i)){var c,l=n[i],h=e[i],f=qs(l);if(wi(h))for(var d=h.length,p=null===h[0]?1:0;p<d;p++)c?Rn(qs(h[p])===c,"All keyframes must be of the same type"):(c=qs(h[p]),Rn(c===f||qu(f)&&qu(c),"Keyframes must be of the same dimension as the current value"));else c=qs(h);if(f!==c)if(qu(f)&&qu(c)){var m=u.get();"string"==typeof m&&u.set(parseFloat(m)),"string"==typeof h?e[i]=parseFloat(h):Array.isArray(h)&&c===Cr&&(e[i]=h.map(parseFloat))}else(null==f?void 0:f.transform)&&(null==c?void 0:c.transform)&&(0===l||0===h)?0===l?u.set(c.transform(l)):e[i]=f.transform(h):(s||(o=function(t){var e=[];return Yu.forEach((function(n){var r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),e.length&&t.syncRender(),e}(t),s=!0),a.push(i),r[i]=void 0!==r[i]?r[i]:e[i],Hu(u,h))}})),a.length){var u=function(t,e,n){var r=e.measureViewportBox(),i=e.getInstance(),o=getComputedStyle(i),s=o.display,a={top:o.top,left:o.left,bottom:o.bottom,right:o.right,transform:o.transform};"none"===s&&e.setStaticValue("display",t.display||"block"),e.syncRender();var u=e.measureViewportBox();return n.forEach((function(n){var i=e.getValue(n);Hu(i,Xu[n](r,a)),t[n]=Xu[n](u,o)})),t}(e,t,a);return o.length&&o.forEach((function(e){var n=An(e,2),r=n[0],i=n[1];t.getValue(r).set(i)})),t.syncRender(),{target:u,transitionEnd:r}}return{target:e,transitionEnd:r}}(t,e,n,r):{target:e,transitionEnd:r}}var Qu={treeType:"dom",readValueFromInstance:function(t,e){if(ur(e)){var n=ks(e);return n&&n.default||0}var r,i=(r=t,window.getComputedStyle(r));return(pr(e)?i.getPropertyValue(e):i[e])||0},sortNodePosition:function(t,e){return 2&t.compareDocumentPosition(e)?1:-1},getBaseTarget:function(t,e){var n;return null===(n=t.style)||void 0===n?void 0:n[e]},measureViewportBox:function(t,e){return Sa(t,e.transformPagePoint)},resetTransform:function(t,e,n){var r=n.transformTemplate;e.style.transform=r?r({},""):"none",t.scheduleRender()},restoreTransform:function(t,e){t.style.transform=e.style.transform},removeValueFromRenderState:function(t,e){var n=e.vars,r=e.style;delete n[t],delete r[t]},makeTargetAnimatable:function(t,e,n,r){var i=n.transformValues;void 0===r&&(r=!0);var o=e.transition,s=e.transitionEnd,a=xn(e,["transition","transitionEnd"]),u=function(t,e,n){var r,i,o={};for(var s in t)o[s]=null!==(r=Ys(s,e))&&void 0!==r?r:null===(i=n.getValue(s))||void 0===i?void 0:i.get();return o}(a,o||{},t);if(i&&(s&&(s=i(s)),a&&(a=i(a)),u&&(u=i(u))),r){!function(t,e,n){var r,i,o,s,a=Object.keys(e).filter((function(e){return!t.hasValue(e)})),u=a.length;if(u)for(var c=0;c<u;c++){var l=a[c],h=e[l],f=null;Array.isArray(h)&&(f=h[0]),null===f&&(f=null!==(i=null!==(r=n[l])&&void 0!==r?r:t.readValue(l))&&void 0!==i?i:e[l]),null!=f&&("string"==typeof f&&Us(f)?f=parseFloat(f):!Ks(f)&&Hr.test(h)&&(f=Ps(l,h)),t.addValue(l,zs(f)),null!==(o=(s=n)[l])&&void 0!==o||(s[l]=f),t.setBaseTarget(l,f))}}(t,a,u);var c=function(t,e,n,r){var i=function(t,e,n){var r,i=xn(e,[]),o=t.getInstance();if(!(o instanceof HTMLElement))return{target:i,transitionEnd:n};for(var s in n&&(n=_n({},n)),t.forEachValue((function(t){var e=t.get();if(uu(e)){var n=lu(e,o);n&&t.set(n)}})),i){var a=i[s];if(uu(a)){var u=lu(a,o);u&&(i[s]=u,n&&(null!==(r=n[s])&&void 0!==r||(n[s]=a)))}}return{target:i,transitionEnd:n}}(t,e,r);return Ju(t,e=i.target,n,r=i.transitionEnd)}(t,a,u,s);s=c.transitionEnd,a=c.target}return _n({transition:o,transitionEnd:s},a)},scrapeMotionValuesFromProps:vi,build:function(t,e,n,r,i,o,s){void 0!==t.isVisible&&(e.style.visibility=t.isVisible?"visible":"hidden");var a=r.isEnabled&&i.isHydrated;Jr(e,n,r,i,o,s.transformTemplate,a?Ru:void 0,a?Ou:void 0)},render:pi},Zu=Mu(Qu),tc=Mu(_n(_n({},Qu),{getBaseTarget:function(t,e){return t[e]},readValueFromInstance:function(t,e){var n;return ur(e)?(null===(n=ks(e))||void 0===n?void 0:n.default)||0:(e=mi.has(e)?e:di(e),t.getAttribute(e))},scrapeMotionValuesFromProps:yi,build:function(t,e,n,r,i,o,s){var a=r.isEnabled&&i.isHydrated;ui(e,n,r,i,o,s.transformTemplate,a?Ru:void 0,a?Ou:void 0)},render:gi})),ec=function(t,e){return nr(t)?tc(e,{enableHardwareAcceleration:!1}):Zu(e,{enableHardwareAcceleration:!0})},nc=_n(_n(_n(_n({},oa),vs),au),Cu),rc=function(t){function e(e,n){return void 0===n&&(n={}),tr(t(e,n))}var n=new Map;return new Proxy(e,{get:function(t,r){return n.has(r)||n.set(r,e(r)),n.get(r)}})}((function(t,e){return function(t,e,n,r){var i=e.forwardMotionProps,o=void 0!==i&&i,s=nr(t)?Ci:ki;return _n(_n({},s),{preloadedFeatures:n,useRender:hi(o),createVisualElement:r,Component:t})}(t,e,nc,ec)})),ic=0;function oc(){var t=ic;return ic++,t}var sc=function(t){var e=t.children,n=t.initial,i=t.isPresent,o=t.onExitComplete,s=t.custom,a=t.presenceAffectsLayout,u=Vn(ac),c=Vn(oc),l=(0,r.useMemo)((function(){return{id:c,initial:n,isPresent:i,custom:s,onExitComplete:function(t){u.set(t,!0);var e=!0;u.forEach((function(t){t||(e=!1)})),e&&(null==o||o())},register:function(t){return u.set(t,!1),function(){return u.delete(t)}}}}),a?void 0:[i]);return(0,r.useMemo)((function(){u.forEach((function(t,e){return u.set(e,!1)}))}),[i]),r.useEffect((function(){!i&&!u.size&&(null==o||o())}),[i]),r.createElement(Un.Provider,{value:l},e)};function ac(){return new Map}function uc(t){return t.key||""}var cc,lc,hc,fc,dc,pc,mc,gc,vc,yc,bc=function(t){var e=t.children,n=t.custom,i=t.initial,s=void 0===i||i,a=t.onExitComplete,u=t.exitBeforeEnter,c=t.presenceAffectsLayout,l=void 0===c||c,h=function(){var t=(0,r.useRef)(!1),e=An((0,r.useState)(0),2),n=e[0],i=e[1];return Ji((function(){return t.current=!0})),(0,r.useCallback)((function(){!t.current&&i(n+1)}),[n])}(),f=(0,r.useContext)(_u);Au(f)&&(h=f.forceUpdate);var d=(0,r.useRef)(!0),p=function(t){var e=[];return r.Children.forEach(t,(function(t){(0,r.isValidElement)(t)&&e.push(t)})),e}(e),m=(0,r.useRef)(p),g=(0,r.useRef)(new Map).current,v=(0,r.useRef)(new Set).current;if(function(t,e){var n="production"!==o().env.NODE_ENV?new Set:null;t.forEach((function(t){var r=uc(t);"production"!==o().env.NODE_ENV&&n&&(n.has(r)&&console.warn('Children of AnimatePresence require unique keys. "'+r+'" is a duplicate.'),n.add(r)),e.set(r,t)}))}(p,g),d.current)return d.current=!1,r.createElement(r.Fragment,null,p.map((function(t){return r.createElement(sc,{key:uc(t),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:l},t)})));for(var y=In([],An(p)),b=m.current.map(uc),w=p.map(uc),E=b.length,T=0;T<E;T++){var S=b[T];-1===w.indexOf(S)?v.add(S):v.delete(S)}return u&&v.size&&(y=[]),v.forEach((function(t){if(-1===w.indexOf(t)){var e=g.get(t);if(e){var i=b.indexOf(t);y.splice(i,0,r.createElement(sc,{key:uc(e),isPresent:!1,onExitComplete:function(){g.delete(t),v.delete(t);var e=m.current.findIndex((function(e){return e.key===t}));m.current.splice(e,1),v.size||(m.current=p,h(),a&&a())},custom:n,presenceAffectsLayout:l},e))}}})),y=y.map((function(t){var e=t.key;return v.has(e)?t:r.createElement(sc,{key:uc(t),isPresent:!0,presenceAffectsLayout:l},t)})),m.current=y,"production"!==o().env.NODE_ENV&&u&&y.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),r.createElement(r.Fragment,null,v.size?y:y.map((function(t){return(0,r.cloneElement)(t)})))},wc=En(rc.div)(cc||(cc=Et(["\n  background-color: ",";\n  position: fixed;\n  width: 100%;\n  height: 100vh;\n  height: calc(var(--vh, 1vh) * 100);\n  top: 0;\n  left: 0;\n  z-index: 9999;\n"])),(function(t){return t.overlayColor})),Ec={visible:{opacity:1},hidden:{opacity:0}},Tc=function(t){var e=t.isOpened,n=t.children,i=t.className,o=(0,r.useContext)(ct).options,a=r.createElement(wc,{id:"SRLLightbox",initial:"hidden",animate:"visible",exit:"hidden",variants:Ec,overlayColor:o.settings.overlayColor,transition:{duration:o.settings.lightboxTransitionSpeed,ease:o.settings.lightboxTransitionTimingFunction},className:i},n);return e&&"undefined"!=typeof window?s.createPortal(a,document.body):null};function Sc(t){return(Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Tc.propTypes={selector:et.string,isOpened:et.bool,children:et.oneOfType([et.arrayOf(et.node),et.node]).isRequired};var _c=function(t){return an(lc||(lc=Et(["\n  flex-direction: column;\n  -ms-grid-column: 2;\n  grid-column-start: 2;\n  -ms-grid-row: 1;\n  grid-row-start: 1;\n  -ms-grid-row-span: 2;\n  grid-row-end: 3;\n  height: 100%;\n  width: auto;\n\n  /* SAFARI HACK */\n  @media not all and (min-resolution: 0.001dpcm) {\n    @media {\n      height: 100vh;\n    }\n  }\n\n  /* IE 11 HACK **/\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n    height: 100vh;\n  }\n"])))},xc=function(t){return an(hc||(hc=Et(["\n  flex-direction: column;\n  -ms-grid-column: 1;\n  grid-column-start: 1;\n  -ms-grid-row: 1;\n  grid-row-start: 1;\n  -ms-grid-row-span: 2;\n  grid-row-end: 3;\n  height: 100%;\n  width: auto;\n\n  /* SAFARI HACK */\n  @media not all and (min-resolution: 0.001dpcm) {\n    @media {\n      height: 100vh;\n    }\n  }\n\n  /* IE 11 HACK **/\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n    height: 100vh;\n  }\n"])))},Ac=En.div(fc||(fc=Et(["\n  display: flex;\n  color: white;\n  height: auto;\n  width: 100vw;\n  justify-content: center;\n  overflow-x: hidden;\n  overflow-y: hidden;\n  -webkit-overflow-scrolling: touch;\n  opacity: 1;\n  transition: 0.3s ease;\n  will-change: transform, opacity;\n  position: relative;\n  z-index: 9997;\n  cursor: pointer;\n  padding: ",";\n  background-color: ",";\n\n  /* Thumbnails alignment */\n  ",";\n\n  ",";\n\n  ",";\n\n  ",";\n\n  /* Thumbnails aligned to the right */\n  ",";\n\n  /* Thumbnails aligned to the left */\n  ",";\n\n  /* if the body has a class of SRLIdle */\n  .SRLIdle & {\n    opacity: 0;\n  }\n\n  /* if the thumbnails are draggable */\n  &.SRLDraggable {\n    cursor: grabbing;\n  }\n\n  @media (max-width: 768px) {\n    justify-content: start;\n    overflow: scroll !important;\n    flex-direction: row;\n    width: 100vw !important;\n    height: auto;\n    grid-column: auto;\n    grid-row: auto;\n  }\n"])),(function(t){return t.thumbnailsContainerPadding?t.thumbnailsContainerPadding:"0"}),(function(t){return t.thumbnailsContainerBackgroundColor?t.thumbnailsContainerBackgroundColor:"transparent"}),(function(t){return"start"===t.thumbnailsAlignment&&an(dc||(dc=Et(["\n      justify-content: flex-start;\n    "])))}),(function(t){return"end"===t.thumbnailsAlignment&&an(pc||(pc=Et(["\n      justify-content: flex-end;\n    "])))}),(function(t){return"space-between"===t.thumbnailsAlignment&&an(mc||(mc=Et(["\n      justify-content: space-between;\n    "])))}),(function(t){return"space-evenly"===t.thumbnailsAlignment&&an(gc||(gc=Et(["\n      justify-content: space-evenly;\n    "])))}),(function(t){return"right"===t.thumbnailsPosition&&_c}),(function(t){return"left"===t.thumbnailsPosition&&xc})),Ic=En.a(vc||(vc=Et(["\n  width: ",";\n  height: ",";\n  background-repeat: no-repeat;\n  background-size: cover;\n  margin: ",";\n  opacity: ",";\n  transition: 0.3s ease;\n  will-change: opacity;\n  display: block;\n  cursor: draggable;\n  flex: 0 0 auto;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &.SRLThumbnailSelected {\n    opacity: 1;\n  }\n\n  @media (max-width: 768px) {\n    height: 60px;\n    width: 80px;\n  }\n"])),(function(t){return t.thumbnailsSize?t.thumbnailsSize[0]:"80px"}),(function(t){return t.thumbnailsSize?t.thumbnailsSize[1]:"80px"}),(function(t){return t.thumbnailsGap?t.thumbnailsGap:"1px"}),(function(t){return t.thumbnailsOpacity?t.thumbnailsOpacity:"0.4"})),Cc=En.svg(yc||(yc=Et(["\n  width: ",";\n  height: ",";\n  opacity: ",";\n"])),(function(t){return t.thumbnailsSize?t.thumbnailsSize[0]/2:"40px"}),(function(t){return t.thumbnailsSize?t.thumbnailsSize[1]/2:"40px"}),(function(t){return t.thumbnailsOpacity?t.thumbnailsOpacity:"0.4"}));function kc(t){var e=t.thumbnailsIconColor;return r.createElement(Cc,{"aria-hidden":"true","data-prefix":"fas","data-icon":"play-circle",className:"SRLThumbIcon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.createElement("path",{fill:e,className:"SRLThumbIcon",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"}))}kc.propTypes={thumbnailsIconColor:et.string};var Pc,Rc,Oc,Nc=function(t){var e=t.elements,n=t.currentId,i=t.handleCurrentElement,o=t.thumbnails,s=t.SRLThumbnailsRef,a=o.thumbnailsOpacity,u=o.thumbnailsSize,c=o.thumbnailsPosition,l=o.thumbnailsAlignment,h=o.thumbnailsContainerBackgroundColor,f=o.thumbnailsContainerPadding,d=o.thumbnailsGap,p=o.thumbnailsIconColor,m=(0,r.useRef)(0),g=(0,r.useRef)(0),v=(0,r.useRef)(0),y=(0,r.useRef)(0),b=(0,r.useRef)(0),w=(0,r.useRef)();return(0,r.useEffect)((function(){var t=s.current,e=document.querySelector(".SRLThumb".concat(n));if(e){var r=e.getBoundingClientRect();t.scrollWidth>t.offsetWidth||t.scrollHeight>t.offsetHeight?t.style.justifyContent="start":t.style.justifyContent=l||"center",t.scrollWidth>t.offsetWidth?"scrollBehavior"in document.documentElement.style?t.scrollBy({top:0,left:r.left,behavior:"smooth"}):t.scrollLeft=80*parseInt(n):t.scrollHeight>t.offsetHeight&&("scrollBehavior"in document.documentElement.style?t.scrollBy({top:r.top,left:0,behavior:"smooth"}):t.scrollTop=r.top)}function o(e,n){t.scrollWidth>t.offsetWidth?(m.current=!0,g.current=e-t.offsetLeft,y.current=t.scrollLeft,t.classList.add("SRLDraggable")):t.scrollHeight>t.offsetHeight&&(m.current=!0,v.current=n-t.offsetTop,b.current=t.scrollTop,t.classList.add("SRLDraggable"))}function a(){m.current=!1,t.classList.remove("SRLDraggable")}function u(e,n){if(m.current)if(t.scrollHeight>t.offsetHeight){var r=n-t.offsetTop-v.current;t.scrollTop=b.current-r}else{var i=e-t.offsetLeft-g.current;t.scrollLeft=y.current-i}}return w.current=function(e,r,o){(t.scrollWidth>t.offsetWidth||t.scrollHeight>t.offsetHeight)&&Math.trunc(e)!==Math.trunc(g.current)&&Math.trunc(r)!==Math.trunc(v.current)||i(o,n)},t.addEventListener("mousedown",(function(t){return o(t.pageX,t.pageY)})),t.addEventListener("mouseleave",(function(){return a()})),t.addEventListener("mouseup",(function(){return a()})),t.addEventListener("mousemove",(function(t){return u(t.pageX,t.pageY)})),function(){t.removeEventListener("mousedown",(function(t){return o(t.pageX)})),t.removeEventListener("mouseleave",(function(){return a()})),t.removeEventListener("mouseup",(function(){return a()})),t.removeEventListener("mousemove",(function(t){return u(t)}))}}),[n,i,s,l]),r.createElement(Ac,{ref:s,thumbnailsPosition:c,thumbnailsSize:u,thumbnailsAlignment:l,thumbnailsContainerBackgroundColor:h,thumbnailsContainerPadding:f,className:"SRLThumbnailsContainer"},e.map((function(t){return r.createElement(Ic,{onClick:function(e){return w.current(e.pageX,e.pageY,t.id)},thumbnailsOpacity:a,thumbnailsSize:u,thumbnailsGap:d,key:t.id,id:t.id,className:"SRLThumb SRLThumb".concat(t.id," ").concat(n===t.id?"SRLThumbnailSelected":""),style:{backgroundImage:"url('".concat(t.thumbnail,"')")}},("video"===t.type||"embed_video"===t.type)&&r.createElement(kc,{thumbnailsIconColor:p}))})))};Nc.propTypes={elements:et.array,handleCurrentElement:et.func,currentId:et.string,SRLThumbnailsRef:et.object,thumbnails:et.shape({thumbnailsAlignment:et.string,thumbnailsContainerBackgroundColor:et.string,thumbnailsContainerPadding:et.string,thumbnailsGap:et.string,thumbnailsIconColor:et.string,thumbnailsOpacity:et.number,thumbnailsPosition:et.string,thumbnailsSize:et.array})};var Lc=En.div(Pc||(Pc=Et(["\n  color: white;\n  font-family: inherit;\n  outline: none;\n  border: 0;\n  position: relative;\n  z-index: 9996;\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n    width: 100vw;\n  }\n  width: 100%;\n  min-height: 50px;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n  align-content: ",";\n  padding: ",";\n\n  ",";\n\n  /* Thumbnails aligned to the left */\n  ",";\n\n  @media (max-width: 768px) {\n    grid-column: auto;\n  }\n\n  /* Paragraph inside the caption container */\n  p {\n    margin: 0;\n    text-align: center;\n    font-weight: ",";\n    font-size: ",";\n    font-family: ",";\n    color: ",";\n    font-style: ",";\n    text-transform: ",";\n\n    @media (max-width: 768px) {\n      font-size: 14px;\n      padding: 0 15px;\n    }\n  }\n"])),(function(t){return t.captionAlignment}),(function(t){return t.captionStyle.captionContainerPadding?t.captionStyle.captionContainerPadding:"20px 0 30px 0"}),(function(t){return"right"===t.thumbnailsPosition&&an(Rc||(Rc=Et(["\n      grid-column: 1/2;\n      -ms-grid-column: 1;\n      -ms-grid-column-span: 1;\n      align-items: start;\n    "])))}),(function(t){return"left"===t.thumbnailsPosition&&an(Oc||(Oc=Et(["\n      grid-column: 2/2;\n      -ms-grid-column: 2;\n      align-items: start;\n    "])))}),(function(t){return t.captionStyle.captionFontWeight?t.captionStyle.captionFontWeight:"inherit"}),(function(t){return t.captionStyle.captionFontSize?t.captionStyle.captionFontSize:"inherit"}),(function(t){return t.captionStyle.captionColor?t.captionStyle.captionFontFamily:"inherit"}),(function(t){return t.captionStyle.captionColor?t.captionStyle.captionColor:"white"}),(function(t){return t.captionStyle.captionFontStyle?t.captionStyle.captionFontStyle:"inherit"}),(function(t){return t.captionStyle.captionTextTransform?t.captionStyle.captionTextTransform:"inherit"})),Dc=function(t){var e=t.captionOptions,n=t.caption,i=t.thumbnailsPosition,o=t.SRLCaptionRef;return r.createElement(Lc,{captionStyle:e,thumbnailsPosition:i,className:"SRLCaptionContainer",ref:o},r.createElement("p",{className:"SRLCaptionText"},n))};function Mc(){return(Mc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}Dc.propTypes={captionOptions:et.shape({showCaption:et.bool,captionColor:et.string,captionFontFamily:et.string,captionFontSize:et.string,captionFontStyle:et.string,captionFontWeight:et.oneOfType([et.number,et.string]),captionTextTransform:et.string}),SRLCaptionRef:et.object,thumbnailsPosition:et.string,caption:et.string};var Uc={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},Vc={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]};function Fc(t,e){if(0===e)return t;var n=Math.PI/180*e;return[t[0]*Math.cos(n)+t[1]*Math.sin(n),t[1]*Math.cos(n)-t[0]*Math.sin(n)]}function jc(t){var e=t.trackMouse,n=r.useRef(Mc({},Vc)),i=r.useRef(Mc({},Uc));i.current=Mc({},Uc,t);var o=r.useMemo((function(){return function(t,e){var n=function(e){e&&"touches"in e&&e.touches.length>1||t((function(t,n){n.trackMouse&&(document.addEventListener("mousemove",r),document.addEventListener("mouseup",o));var i="touches"in e?e.touches[0]:e,s=Fc([i.clientX,i.clientY],n.rotationAngle);return Mc({},t,Vc,{initial:[].concat(s),xy:s,start:e.timeStamp||0})}))},r=function(e){t((function(t,n){if("touches"in e&&e.touches.length>1)return t;var r="touches"in e?e.touches[0]:e,i=Fc([r.clientX,r.clientY],n.rotationAngle),o=i[0],s=i[1],a=o-t.xy[0],u=s-t.xy[1],c=Math.abs(a),l=Math.abs(u),h=(e.timeStamp||0)-t.start,f=Math.sqrt(c*c+l*l)/(h||1),d=[a/(h||1),u/(h||1)],p=function(t,e,n,r){return t>e?n>0?"Right":"Left":r>0?"Down":"Up"}(c,l,a,u),m="number"==typeof n.delta?n.delta:n.delta[p.toLowerCase()]||Uc.delta;if(c<m&&l<m&&!t.swiping)return t;var g={absX:c,absY:l,deltaX:a,deltaY:u,dir:p,event:e,first:t.first,initial:t.initial,velocity:f,vxvy:d};g.first&&n.onSwipeStart&&n.onSwipeStart(g),n.onSwiping&&n.onSwiping(g);var v=!1;return(n.onSwiping||n.onSwiped||"onSwiped"+p in n)&&(v=!0),v&&n.preventDefaultTouchmoveEvent&&n.trackTouch&&e.cancelable&&e.preventDefault(),Mc({},t,{first:!1,eventData:g,swiping:!0})}))},i=function(e){t((function(t,n){var r;if(t.swiping&&t.eventData){r=Mc({},t.eventData,{event:e}),n.onSwiped&&n.onSwiped(r);var i=n["onSwiped"+r.dir];i&&i(r)}else n.onTap&&n.onTap({event:e});return Mc({},t,Vc,{eventData:r})}))},o=function(t){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",o),i(t)},s=function(t,e){var o=function(){};if(t&&t.addEventListener){var s=[["touchstart",n],["touchmove",r],["touchend",i]];s.forEach((function(n){var r=n[0],i=n[1];return t.addEventListener(r,i,{passive:e})})),o=function(){return s.forEach((function(e){var n=e[0],r=e[1];return t.removeEventListener(n,r)}))}}return o},a={ref:function(e){null!==e&&t((function(t,n){if(t.el===e)return t;var r={};return t.el&&t.el!==e&&t.cleanUpTouch&&(t.cleanUpTouch(),r.cleanUpTouch=void 0),n.trackTouch&&e&&(r.cleanUpTouch=s(e,!n.preventDefaultTouchmoveEvent)),Mc({},t,{el:e},r)}))}};return e.trackMouse&&(a.onMouseDown=n),[a,s]}((function(t){return n.current=t(n.current,i.current)}),{trackMouse:e})}),[e]),s=o[0],a=o[1];return n.current=function(t,e,n){var r={};return!e.trackTouch&&t.cleanUpTouch?(t.cleanUpTouch(),r.cleanUpTouch=void 0):e.trackTouch&&!t.cleanUpTouch&&t.el&&(r.cleanUpTouch=n(t.el,!e.preventDefaultTouchmoveEvent)),Mc({},t,r)}(n.current,i.current,a),s}function Bc(t,e,n){var i=this,o=(0,r.useRef)(null),s=(0,r.useRef)(0),a=(0,r.useRef)(null),u=(0,r.useRef)([]),c=(0,r.useRef)(),l=(0,r.useRef)(),h=(0,r.useRef)(t),f=(0,r.useRef)(!0);h.current=t;var d=!e&&0!==e&&"undefined"!=typeof window;if("function"!=typeof t)throw new TypeError("Expected a function");e=+e||0;var p=!!(n=n||{}).leading,m=!("trailing"in n)||!!n.trailing,g="maxWait"in n,v=g?Math.max(+n.maxWait||0,e):null;return(0,r.useEffect)((function(){return f.current=!0,function(){f.current=!1}}),[]),(0,r.useMemo)((function(){var t=function(t){var e=u.current,n=c.current;return u.current=c.current=null,s.current=t,l.current=h.current.apply(n,e)},n=function(t,e){d&&cancelAnimationFrame(a.current),a.current=d?requestAnimationFrame(t):setTimeout(t,e)},r=function(t){if(!f.current)return!1;var n=t-o.current,r=t-s.current;return!o.current||n>=e||n<0||g&&r>=v},y=function(e){return a.current=null,m&&u.current?t(e):(u.current=c.current=null,l.current)},b=function(){var t=Date.now();if(r(t))return y(t);if(f.current){var i=t-o.current,a=t-s.current,u=e-i,c=g?Math.min(u,v-a):u;n(b,c)}},w=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var m=Date.now(),v=r(m);if(u.current=h,c.current=i,o.current=m,v){if(!a.current&&f.current)return s.current=o.current,n(b,e),p?t(o.current):l.current;if(g)return n(b,e),t(o.current)}return a.current||n(b,e),l.current};return w.cancel=function(){a.current&&(d?cancelAnimationFrame(a.current):clearTimeout(a.current)),s.current=0,u.current=o.current=c.current=a.current=null},w.isPending=function(){return!!a.current},w.flush=function(){return a.current?y(Date.now()):l.current},w}),[p,g,e,v,m,d])}var zc={exports:{}};!function(t,e){!function(){function e(t,e,n,r){var i="removeEventListener",o=function(){t[i](e,n)};return t.addEventListener?(t.addEventListener(e,n,r),o):t.attachEvent?(e="on"+e,t.attachEvent(e,n),i="detachEvent",o):t.on?(t.on(e,n),i="off",o):void 0}e.define=function(t,e){return function(n,r,i,o){return n[t](r,i,o),function(){n[e](r,i)}}},t.exports=e}()}(zc);var $c,Hc,qc,Wc,Kc,Gc,Yc,Xc=zc.exports;function Jc(t,e,n){var i=(0,r.useRef)();(0,r.useEffect)((function(){i.current=t}),[t,n]),(0,r.useEffect)((function(){if(null!==e){var t=setInterval((function(){i.current()}),e);return function(){return clearInterval(t)}}}),[e,n])}function Qc(t){var e=it((0,r.useState)({x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0,scrollHeight:0,scrollWidth:0}),2),n=e[0],i=e[1],o="object"===("undefined"==typeof window?"undefined":Sc(window));return(0,r.useEffect)((function(){if(t.current||o)return t.current&&i(e()),window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)};function e(){var e=t.current.getBoundingClientRect(),n=e.x,r=e.y,i=e.width,o=e.height,s=e.top,a=e.left,u=e.bottom,c=e.right;return{width:i,height:o,scrollWidth:t.current.scrollWidth,scrollHeight:t.current.scrollHeight,x:n,y:r,top:s,left:a,bottom:u,right:c}}function n(){t.current&&i(e())}}),[t,o]),[n]}var Zc=function(t){return an($c||($c=Et(["\n  grid-column: 1/2;\n  -ms-grid-column: 1;\n  -ms-grid-column-span: 1;\n  width: 100%;\n  height: calc(100vh - ","px);\n"])),t.captionDivSizes.height)},tl=function(t){return an(Hc||(Hc=Et(["\n  grid-column: 2/2;\n  -ms-grid-column: 2;\n  width: 100%;\n  height: calc(100vh - ","px);\n"])),t.captionDivSizes.height)},el=En.div(qc||(qc=Et(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  outline: none;\n  width: 100vw;\n  height: ",";\n\n  /* Thumbnails aligned to the right.\n  We need to exclude the height of the div containing the thumbnails this time */\n  ",";\n\n  /* Thumbnails aligned to the left.\n    We need to exclude the height of the div containing the thumbnails this time */\n  ",";\n  /* Thumbnails hidden */\n  ",";\n\n  @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (-webkit-min-device-pixel-ratio: 2) {\n    grid-column: auto;\n    width: 100vw;\n    height: ",";\n  }\n\n  @media only screen and (min-device-width: 1024px) and (max-device-width: 1366px) {\n    grid-column: auto;\n    width: 100vw;\n    height: ",";\n  }\n\n  @media (max-width: 768px) {\n    grid-column: auto;\n    width: 100vw;\n    height: ",";\n  }\n"])),(function(t){return t?"calc(100vh - ".concat(t.captionDivSizes.height+t.thumbnailsDivSizes.height,"px)"):"100%"}),(function(t){return"right"===t.thumbnailsPosition&&Zc}),(function(t){return"left"===t.thumbnailsPosition&&tl}),(function(t){return t.hideThumbnails&&"bottom"===t.thumbnailsPosition&&an(Wc||(Wc=Et(["\n      height: calc(100vh - ","px);\n    "])),t.thumbnailsDivSizes.height)}),(function(t){return t?"calc((var(--vh, 1vh) * 100) - ".concat(t.captionDivSizes.height+t.thumbnailsDivSizes.height,"px)"):"100%"}),(function(t){return t?"calc((var(--vh, 1vh) * 100) - ".concat(t.captionDivSizes.height+t.thumbnailsDivSizes.height,"px)"):"100%"}),(function(t){return t?"calc((var(--vh, 1vh) * 100) - ".concat(t.captionDivSizes.height+t.thumbnailsDivSizes.height,"px)"):"100%"})),nl=En(rc.div)(Kc||(Kc=Et(["\n  width: 100%;\n  height: 90%;\n  position: absolute;\n  /* IE 11 HACK **/\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n    top: 5%;\n    left: 0;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  outline: none;\n  border: 0;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n\n  .SRLLoadingIndicator {\n    animation: spin 1.2s linear infinite;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n  }\n\n  /* react-zoom-pan-pinch library styles overrides*/\n  .react-transform-component {\n    width: fit-content;\n    width: auto;\n    height: fit-content;\n    height: auto;\n    z-index: 9997;\n    overflow: inherit;\n    cursor: grab;\n  }\n  .react-transform-element {\n    width: fit-content;\n    width: auto;\n    height: fit-content;\n    height: auto;\n    top: 0;\n    left: 0;\n    position: relative;\n\n    z-index: 9997;\n    display: block;\n    max-width: 100%;\n    max-height: 100%;\n    width: auto;\n    height: auto;\n  }\n"]))),rl=En(rc.img)(Gc||(Gc=Et(["\n  background: transparent;\n  border: 0;\n  position: relative;\n  display: block;\n  max-width: 100%;\n  max-height: 100%;\n  width: auto;\n  height: auto;\n  outline: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  transition: all 200ms ease;\n  opacity: 1;\n  margin: auto;\n  z-index: 9997;\n  box-shadow: ",";\n  cursor: ",";\n"])),(function(t){return t.boxShadow}),(function(t){return t.disablePanzoom?"auto":"zoom-in"})),il=En(rc.img)(Yc||(Yc=Et(["\n  top: 0;\n  left: 0;\n  position: relative;\n  z-index: 9997;\n  display: block;\n  max-width: 100%;\n  max-height: 100%;\n  width: auto;\n  height: auto;\n"])));function ol(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50px",height:"50px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:"SRLLoadingIndicator"},r.createElement("circle",{cx:"50",cy:"50",fill:"none",stroke:"#ffffff",strokeWidth:"10",r:"35",strokeDasharray:"164.93361431346415 56.97787143782138"}))}var sl=function(t,e){return(sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},al=function(){return(al=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function ul(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}var cl=function(t,e){return Number(t.toFixed(e))},ll=function(t,e,n){n&&"function"==typeof n&&n(t,e)},hl={easeOut:function(t){return-Math.cos(t*Math.PI)/2+.5},linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},fl=function(t){"number"==typeof t&&cancelAnimationFrame(t)},dl=function(t){t.mounted&&(fl(t.animation),t.animate=!1,t.animation=null,t.velocity=null)};function pl(t,e,n,r){if(t.mounted){var i=(new Date).getTime();dl(t),t.animation=function(){if(!t.mounted)return fl(t.animation);var o=(new Date).getTime()-i,s=(0,hl[e])(o/n);o>=n?(r(1),t.animation=null):t.animation&&(r(s),requestAnimationFrame(t.animation))},requestAnimationFrame(t.animation)}}function ml(t,e,n,r){var i=function(t){var e=t.scale,n=t.positionX,r=t.positionY;return!(isNaN(e)||isNaN(n)||isNaN(r))}(e);if(t.mounted&&i){var o=t.setTransformState,s=t.transformState,a=s.scale,u=s.positionX,c=s.positionY,l=e.scale-a,h=e.positionX-u,f=e.positionY-c;0===n?o(e.scale,e.positionX,e.positionY):pl(t,r,n,(function(t){o(a+l*t,u+h*t,c+f*t)}))}}var gl=function(t,e){var n=t.wrapperComponent,r=t.contentComponent,i=t.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var o=function(t,e,n){var r=t.offsetWidth,i=t.offsetHeight,o=e.offsetWidth*n,s=e.offsetHeight*n;return{wrapperWidth:r,wrapperHeight:i,newContentWidth:o,newDiffWidth:r-o,newContentHeight:s,newDiffHeight:i-s}}(n,r,e),s=o.wrapperWidth,a=o.wrapperHeight;return function(t,e,n,r,i,o,s){var a=t>e?n*(s?1:.5):0,u=r>i?o*(s?1:.5):0;return{minPositionX:t-e-a,maxPositionX:a,minPositionY:r-i-u,maxPositionY:u}}(s,o.newContentWidth,o.newDiffWidth,a,o.newContentHeight,o.newDiffHeight,Boolean(i))},vl=function(t,e){var n=gl(t,e);return t.bounds=n,n};function yl(t,e,n,r,i,o,s){var a=n.minPositionX,u=n.minPositionY,c=n.maxPositionX,l=n.maxPositionY,h=0,f=0;return s&&(h=i,f=o),{x:bl(t,a-h,c+h,r),y:bl(e,u-f,l+f,r)}}var bl=function(t,e,n,r){return cl(r?t<e?e:t>n?n:t:t,2)};function wl(t,e,n,r,i,o){var s=t.transformState,a=s.scale,u=s.positionX,c=s.positionY,l=r-a;return"number"!=typeof e||"number"!=typeof n?(console.error("Mouse X and Y position were not provided!"),{x:u,y:c}):yl(u-e*l,c-n*l,i,o,0,0,null)}function El(t,e,n,r,i){var o=e-(i?r:0);return!isNaN(n)&&t>=n?n:!isNaN(e)&&t<=o?o:t}var Tl=function(t,e){var n=t.setup.panning.excluded,r=t.isInitialized,i=t.wrapperComponent,o=e.target,s=null==i?void 0:i.contains(o);return!!(r&&o&&s)&&!Gl(o,n)},Sl=function(t){var e=t.isInitialized,n=t.isPanning,r=t.setup.panning.disabled;return!(!e||!n||r)},_l=function(t,e){var n=t.setup,r=t.transformState.scale,i=n.minScale;return e>0&&r>=i?e:0};function xl(t,e,n,r,i,o,s,a,u,c){if(i){var l;if(e>s&&n>s)return(l=s+(t-s)*c)>u?u:l<s?s:l;if(e<o&&n<o)return(l=o+(t-o)*c)<a?a:l>o?o:l}return r?e:bl(t,o,s,i)}function Al(t,e){var n=t.transformState.scale;dl(t),vl(t,n),e.touches?function(t,e){var n=e.touches,r=t.transformState,i=r.positionX,o=r.positionY;if(t.isPanning=!0,1===n.length){var s=n[0].clientX,a=n[0].clientY;t.startCoords={x:s-i,y:a-o}}}(t,e):function(t,e){var n=t.transformState,r=n.positionX,i=n.positionY;t.isPanning=!0;var o=e.clientX,s=e.clientY;t.startCoords={x:o-r,y:s-i}}(t,e)}function Il(t,e,n){var r=t.startCoords,i=t.setup.alignmentAnimation,o=i.sizeX,s=i.sizeY;if(r){var a=function(t,e,n){var r=t.startCoords,i=t.transformState,o=t.setup.panning,s=o.lockAxisX,a=o.lockAxisY,u=i.positionX,c=i.positionY;if(!r)return{x:u,y:c};var l=e-r.x,h=n-r.y;return{x:s?u:l,y:a?c:h}}(t,e,n),u=a.x,c=a.y,l=_l(t,o),h=_l(t,s);(function(t,e){if(function(t){var e=t.mounted,n=t.setup,r=n.disabled,i=n.velocityAnimation,o=t.transformState.scale;return!(i.disabled&&!(o>1)&&r&&!e)}(t)){var n=t.lastMousePosition,r=t.velocityTime,i=t.setup,o=t.wrapperComponent,s=i.velocityAnimation.equalToMove,a=Date.now();if(n&&r&&o){var u=function(t,e){return e?Math.min(1,t.offsetWidth/window.innerWidth):1}(o,s),c=e.x-n.x,l=e.y-n.y,h=c/u,f=l/u,d=a-r,p=c*c+l*l,m=Math.sqrt(p)/d;t.velocity={velocityX:h,velocityY:f,total:m}}t.lastMousePosition=e,t.velocityTime=a}})(t,{x:u,y:c}),function(t,e,n,r,i){var o=t.setup.limitToBounds,s=t.wrapperComponent,a=t.bounds,u=t.transformState,c=u.scale,l=u.positionX,h=u.positionY;if(s&&e!==l&&n!==h&&a){var f=yl(e,n,a,o,r,i,s),d=f.x,p=f.y;t.setTransformState(c,d,p)}}(t,u,c,l,h)}}function Cl(t){if(t.isPanning){var e=t.setup.panning.velocityDisabled,n=t.velocity,r=t.wrapperComponent,i=t.contentComponent;t.isPanning=!1,t.animate=!1,t.animation=null;var o=null==r?void 0:r.getBoundingClientRect(),s=null==i?void 0:i.getBoundingClientRect(),a=(null==o?void 0:o.width)||0,u=(null==o?void 0:o.height)||0,c=(null==s?void 0:s.width)||0,l=(null==s?void 0:s.height)||0,h=a<c||u<l;!e&&n&&(null==n?void 0:n.total)>.1&&h?function(t){var e=t.velocity,n=t.bounds,r=t.setup,i=t.wrapperComponent;if(function(t){var e=t.mounted,n=t.velocity,r=t.bounds,i=t.setup,o=i.disabled,s=i.velocityAnimation,a=t.transformState.scale;return!(s.disabled&&!(a>1)&&o&&!e||!n||!r)}(t)&&e&&n&&i){var o=e.velocityX,s=e.velocityY,a=e.total,u=n.maxPositionX,c=n.minPositionX,l=n.maxPositionY,h=n.minPositionY,f=r.limitToBounds,d=r.alignmentAnimation,p=r.zoomAnimation,m=r.panning,g=m.lockAxisY,v=m.lockAxisX,y=p.animationType,b=d.sizeX,w=d.sizeY,E=d.velocityAlignmentTime,T=function(t,e){var n=t.setup.velocityAnimation,r=n.equalToMove,i=n.animationTime,o=n.sensitivity;return r?i*e*o:i}(t,a),S=Math.max(T,E),_=_l(t,b),x=_l(t,w),A=_*i.offsetWidth/100,I=x*i.offsetHeight/100,C=u+A,k=c-A,P=l+I,R=h-I,O=t.transformState,N=(new Date).getTime();pl(t,y,S,(function(e){var n=t.transformState,r=n.scale,i=n.positionX,a=n.positionY,p=((new Date).getTime()-N)/E,m=1-(0,hl[d.animationType])(Math.min(1,p)),y=1-e,b=i+o*y,w=a+s*y,T=xl(b,O.positionX,i,v,f,c,u,k,C,m),S=xl(w,O.positionY,a,g,f,h,l,R,P,m);i===b&&a===w||t.setTransformState(r,T,S)}))}}(t):kl(t)}}function kl(t){var e=t.transformState.scale,n=t.setup,r=n.minScale,i=n.alignmentAnimation,o=i.disabled,s=i.sizeX,a=i.sizeY,u=i.animationTime,c=i.animationType;if(!(o||e<r||!s&&!a)){var l=function(t){var e=t.transformState,n=e.positionX,r=e.positionY,i=e.scale,o=t.setup,s=o.disabled,a=o.limitToBounds,u=o.centerZoomedOut,c=t.wrapperComponent;if(!s&&c&&t.bounds){var l=t.bounds,h=l.maxPositionX,f=l.minPositionX,d=l.maxPositionY,p=l.minPositionY,m=n>h||n<f,g=r>d||r<p,v=wl(t,n>h?c.offsetWidth:t.setup.minPositionX||0,r>d?c.offsetHeight:t.setup.minPositionY||0,i,t.bounds,a||u),y=v.x,b=v.y;return{scale:i,positionX:m?y:n,positionY:g?b:r}}}(t);l&&ml(t,l,u,c)}}function Pl(t,e,n){var r=t.transformState.scale,i=t.wrapperComponent,o=t.setup,s=o.minScale,a=o.limitToBounds,u=o.zoomAnimation,c=u.disabled,l=u.animationTime,h=u.animationType,f=c||r>=s;if((r>=1||a)&&kl(t),!f&&i&&t.mounted){var d=Rl(t,s,e||i.offsetWidth/2,n||i.offsetHeight/2);d&&ml(t,d,l,h)}}function Rl(t,e,n,r){var i=t.setup,o=i.minScale,s=i.maxScale,a=i.limitToBounds,u=El(cl(e,2),o,s,0,!1),c=wl(t,n,r,u,vl(t,u),a);return{scale:u,positionX:c.x,positionY:c.y}}var Ol={previousScale:1,scale:1,positionX:0,positionY:0},Nl=al(al({},Ol),{setComponents:function(){},contextInstance:null}),Ll={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,wheel:{step:.2,disabled:!1,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Dl=function(t){var e,n,r,i;return{previousScale:null!==(e=t.initialScale)&&void 0!==e?e:Ol.scale,scale:null!==(n=t.initialScale)&&void 0!==n?n:Ol.scale,positionX:null!==(r=t.initialPositionX)&&void 0!==r?r:Ol.positionX,positionY:null!==(i=t.initialPositionY)&&void 0!==i?i:Ol.positionY}},Ml=function(t){var e=al({},Ll);return Object.keys(t).forEach((function(n){var r=void 0!==t[n];if(void 0!==Ll[n]&&r){var i=Object.prototype.toString.call(Ll[n]),o="[object Object]"===i,s="[object Array]"===i;e[n]=o?al(al({},Ll[n]),t[n]):s?ul(ul([],Ll[n]),t[n]):t[n]}})),e},Ul=function(t,e,n){var r=t.transformState.scale,i=t.wrapperComponent,o=t.setup,s=o.maxScale,a=o.minScale,u=o.zoomAnimation.size;if(!i)throw new Error("Wrapper is not mounted");var c=r*Math.exp(e*n);return El(cl(c,3),a,s,u,!1)};function Vl(t,e,n,r,i){var o=t.wrapperComponent,s=t.transformState,a=s.scale,u=s.positionX,c=s.positionY;if(!o)return console.error("No WrapperComponent found");var l=(o.offsetWidth/2-u)/a,h=(o.offsetHeight/2-c)/a,f=Rl(t,Ul(t,e,n),l,h);if(!f)return console.error("Error during zoom event. New transformation state was not calculated.");ml(t,f,r,i)}function Fl(t,e,n){var r=t.setup,i=t.wrapperComponent,o=r.limitToBounds,s=Dl(t.props),a=t.transformState,u=a.scale,c=a.positionX,l=a.positionY;if(i){var h=gl(t,s.scale),f=yl(s.positionX,s.positionY,h,o,0,0,i),d={scale:s.scale,positionX:f.x,positionY:f.y};u===s.scale&&c===s.positionX&&l===s.positionY||ml(t,d,e,n)}}var jl=function(t){return function(e,n,r){void 0===e&&(e=.5),void 0===n&&(n=300),void 0===r&&(r="easeOut"),Vl(t,1,e,n,r)}},Bl=function(t){return function(e,n,r){void 0===e&&(e=.5),void 0===n&&(n=300),void 0===r&&(r="easeOut"),Vl(t,-1,e,n,r)}},zl=function(t){return function(e,n,r,i,o){void 0===i&&(i=300),void 0===o&&(o="easeOut");var s=t.transformState,a=s.positionX,u=s.positionY,c=s.scale,l=t.wrapperComponent,h=t.contentComponent;if(!t.setup.disabled&&l&&h){var f={positionX:isNaN(e)?a:e,positionY:isNaN(n)?u:n,scale:isNaN(r)?c:r};ml(t,f,i,o)}}},$l=function(t){return function(e,n){void 0===e&&(e=200),void 0===n&&(n="easeOut"),Fl(t,e,n)}},Hl=function(t){return function(e,n,r){void 0===n&&(n=200),void 0===r&&(r="easeOut");var i=t.transformState,o=t.wrapperComponent,s=t.contentComponent;if(o&&s){var a=Jl(e||i.scale,o,s);ml(t,a,n,r)}}},ql=function(t){return function(e,n,r,i){void 0===r&&(r=600),void 0===i&&(i="easeOut"),dl(t);var o=t.wrapperComponent,s="string"==typeof e?document.getElementById(e):e;if(o&&function(t){return t?void 0!==(null==t?void 0:t.offsetWidth)&&void 0!==(null==t?void 0:t.offsetHeight)||(console.error("Zoom node is not valid - it must contain offsetWidth and offsetHeight"),!1):(console.error("Zoom node not found"),!1)}(s)&&s&&o.contains(s)){var a=function(t,e,n){var r=t.wrapperComponent,i=t.setup,o=i.limitToBounds,s=i.minScale,a=i.maxScale;if(!r)return Ol;var u=r.getBoundingClientRect(),c=function(t){for(var e=t,n=0,r=0;e;)n+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{x:n,y:r}}(e),l=c.x,h=c.y,f=e.offsetWidth,d=e.offsetHeight,p=r.offsetWidth/f,m=r.offsetHeight/d,g=El(n||Math.min(p,m),s,a,0,!1),v=(u.width-f*g)/2,y=(u.height-d*g)/2,b=yl((u.left-l)*g+v,(u.top-h)*g+y,gl(t,g),o,0,0,r);return{positionX:b.x,positionY:b.y,scale:g}}(t,s,n);ml(t,a,r,i)}}},Wl=function(t){return{instance:t,state:t.transformState,zoomIn:jl(t),zoomOut:Bl(t),setTransform:zl(t),resetTransform:$l(t),centerView:Hl(t),zoomToElement:ql(t)}};function Kl(){try{return{get passive(){return!1}}}catch(Ii){return!1}}var Gl=function(t,e){var n=t.tagName.toUpperCase();return!!e.find((function(t){return t.toUpperCase()===n}))||!!e.find((function(e){return t.classList.contains(e)}))},Yl=function(t){t&&clearTimeout(t)},Xl=function(t,e,n){return"translate3d("+t+"px, "+e+"px, 0) scale("+n+")"},Jl=function(t,e,n){var r=n.offsetWidth*t,i=n.offsetHeight*t;return{scale:t,positionX:(e.offsetWidth-r)/2,positionY:(e.offsetHeight-i)/2}},Ql=function(t,e){var n=t.setup.wheel,r=n.disabled,i=n.wheelDisabled,o=n.touchPadDisabled,s=n.excluded,a=t.isInitialized,u=t.isPanning,c=e.target;return!(!a||u||r||!c)&&!(i&&!e.ctrlKey)&&(!o||!e.ctrlKey)&&!Gl(c,s)};function Zl(t,e,n){var r=e.getBoundingClientRect(),i=0,o=0;if("clientX"in t)i=(t.clientX-r.left)/n,o=(t.clientY-r.top)/n;else{var s=t.touches[0];i=(s.clientX-r.left)/n,o=(s.clientY-r.top)/n}return(isNaN(i)||isNaN(o))&&console.error("No mouse or touch offset found"),{x:i,y:o}}var th=function(t,e){var n=t.setup.pinch,r=n.disabled,i=n.excluded,o=t.isInitialized,s=e.target;return!(!o||r||!s)&&!Gl(s,i)},eh=function(t){var e=t.setup.pinch.disabled,n=t.isInitialized,r=t.pinchStartDistance;return!(!n||e||!r)},nh=function(t){return Math.sqrt(Math.pow(t.touches[0].pageX-t.touches[1].pageX,2)+Math.pow(t.touches[0].pageY-t.touches[1].pageY,2))},rh=function(t,e){var n=t.props,r=n.onWheelStart,i=n.onZoomStart;t.wheelStopEventTimer||(dl(t),ll(Wl(t),e,r),ll(Wl(t),e,i))},ih=function(t,e){var n=t.props,r=n.onWheel,i=n.onZoom,o=t.contentComponent,s=t.setup,a=t.transformState.scale,u=s.limitToBounds,c=s.centerZoomedOut,l=s.zoomAnimation,h=s.wheel,f=l.size,d=l.disabled,p=h.step;if(!o)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var m=function(t,e,n,r,i){var o=t.transformState.scale,s=t.wrapperComponent,a=t.setup,u=a.maxScale,c=a.minScale,l=a.zoomAnimation,h=l.size,f=l.disabled;if(!s)throw new Error("Wrapper is not mounted");var d=o+e*(o-o*n)*n;var p=!r&&!f;return El(cl(d,3),c,u,h,p)}(t,function(t,e){var n=t?t.deltaY<0?1:-1:0;return"number"==typeof null?null:n}(e),p,!e.ctrlKey);if(a!==m){var g=vl(t,m),v=Zl(e,o,a),y=u&&(d||0===f||c),b=wl(t,v.x,v.y,m,g,y),w=b.x,E=b.y;t.previousWheelEvent=e,t.setTransformState(m,w,E),ll(Wl(t),e,r),ll(Wl(t),e,i)}},oh=function(t,e){var n=t.props,r=n.onWheelStop,i=n.onZoomStop;Yl(t.wheelAnimationTimer),t.wheelAnimationTimer=setTimeout((function(){t.mounted&&(Pl(t,e.x,e.y),t.wheelAnimationTimer=null)}),100),function(t,e){var n=t.previousWheelEvent,r=t.transformState.scale,i=t.setup,o=i.maxScale,s=i.minScale;return!!n&&(r<o||r>s||Math.sign(n.deltaY)!==Math.sign(e.deltaY)||n.deltaY>0&&n.deltaY<e.deltaY||n.deltaY<0&&n.deltaY>e.deltaY||Math.sign(n.deltaY)!==Math.sign(e.deltaY))}(t,e)&&(Yl(t.wheelStopEventTimer),t.wheelStopEventTimer=setTimeout((function(){t.mounted&&(t.wheelStopEventTimer=null,ll(Wl(t),e,r),ll(Wl(t),e,i))}),160))},sh=function(t,e){var n=nh(e);t.pinchStartDistance=n,t.lastDistance=n,t.pinchStartScale=t.transformState.scale,t.isPanning=!1,dl(t)},ah=function(t,e){var n=t.contentComponent,r=t.pinchStartDistance,i=t.transformState.scale,o=t.setup,s=o.limitToBounds,a=o.centerZoomedOut,u=o.zoomAnimation,c=u.disabled,l=u.size;if(null!==r&&n){var h=function(t,e,n){var r=n.getBoundingClientRect(),i=t.touches,o=cl(i[0].clientX-r.left,5),s=cl(i[0].clientY-r.top,5);return{x:(o+cl(i[1].clientX-r.left,5))/2/e,y:(s+cl(i[1].clientY-r.top,5))/2/e}}(e,i,n);if(isFinite(h.x)&&isFinite(h.y)){var f=nh(e),d=function(t,e){var n=t.pinchStartScale,r=t.pinchStartDistance,i=t.setup,o=i.maxScale,s=i.minScale,a=i.zoomAnimation,u=a.size,c=a.disabled;if(!n||null===r||!e)throw new Error("Pinch touches distance was not provided");return e<0?t.transformState.scale:El(cl(e/r*n,2),s,o,u,!c)}(t,f);if(d!==i){var p=vl(t,d),m=s&&(c||0===l||a),g=wl(t,h.x,h.y,d,p,m),v=g.x,y=g.y;t.pinchMidpoint=h,t.lastDistance=f,t.setTransformState(d,v,y)}}}},uh=function(t){var e=t.pinchMidpoint;t.velocity=null,t.lastDistance=null,t.pinchMidpoint=null,t.pinchStartScale=null,t.pinchStartDistance=null,Pl(t,null==e?void 0:e.x,null==e?void 0:e.y)};function ch(t,e){var n=t.setup.doubleClick,r=n.disabled,i=n.mode,o=n.step,s=n.animationTime,a=n.animationType;if(!r){if("reset"===i)return Fl(t,s,a);var u=t.transformState.scale,c=t.contentComponent;if(!c)return console.error("No ContentComponent found");var l=Ul(t,"zoomOut"===i?-1:1,o),h=Zl(e,c,u),f=Rl(t,l,h.x,h.y);if(!f)return console.error("Error during zoom event. New transformation state was not calculated.");ml(t,f,s,a)}}var lh=function(t,e){var n=t.isInitialized,r=t.setup,i=t.wrapperComponent,o=r.doubleClick,s=o.disabled,a=o.excluded,u=e.target,c=null==i?void 0:i.contains(u),l=n&&u&&c&&!s;return!!l&&!Gl(u,a)&&!!l},hh=r.createContext(Nl),fh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mounted=!0,e.transformState=Dl(e.props),e.setup=Ml(e.props),e.wrapperComponent=null,e.contentComponent=null,e.isInitialized=!1,e.bounds=null,e.previousWheelEvent=null,e.wheelStopEventTimer=null,e.wheelAnimationTimer=null,e.isPanning=!1,e.startCoords=null,e.lastTouch=null,e.distance=null,e.lastDistance=null,e.pinchStartDistance=null,e.pinchStartScale=null,e.pinchMidpoint=null,e.velocity=null,e.velocityTime=null,e.lastMousePosition=null,e.animate=!1,e.animation=null,e.maxBounds=null,e.pressedKeys={},e.handleInitializeWrapperEvents=function(t){var n=Kl();t.addEventListener("wheel",e.onWheelZoom,n),t.addEventListener("dblclick",e.onDoubleClick,n),t.addEventListener("touchstart",e.onTouchPanningStart,n),t.addEventListener("touchmove",e.onTouchPanning,n),t.addEventListener("touchend",e.onTouchPanningStop,n)},e.handleInitialize=function(){var t=e.setup.centerOnInit;e.applyTransformation(),e.forceUpdate(),t&&(setTimeout((function(){e.mounted&&e.setCenter()}),50),setTimeout((function(){e.mounted&&e.setCenter()}),100),setTimeout((function(){e.mounted&&e.setCenter()}),200))},e.onWheelZoom=function(t){e.setup.disabled||Ql(e,t)&&e.isPressingKeys(e.setup.wheel.activationKeys)&&(rh(e,t),ih(e,t),oh(e,t))},e.onPanningStart=function(t){var n=e.setup.disabled,r=e.props.onPanningStart;n||Tl(e,t)&&e.isPressingKeys(e.setup.panning.activationKeys)&&(t.preventDefault(),t.stopPropagation(),dl(e),Al(e,t),ll(Wl(e),t,r))},e.onPanning=function(t){var n=e.setup.disabled,r=e.props.onPanning;n||Sl(e)&&e.isPressingKeys(e.setup.panning.activationKeys)&&(t.preventDefault(),t.stopPropagation(),Il(e,t.clientX,t.clientY),ll(Wl(e),t,r))},e.onPanningStop=function(t){var n=e.props.onPanningStop;e.isPanning&&(Cl(e),ll(Wl(e),t,n))},e.onPinchStart=function(t){var n=e.setup.disabled,r=e.props,i=r.onPinchingStart,o=r.onZoomStart;n||th(e,t)&&(sh(e,t),dl(e),ll(Wl(e),t,i),ll(Wl(e),t,o))},e.onPinch=function(t){var n=e.setup.disabled,r=e.props,i=r.onPinching,o=r.onZoom;n||eh(e)&&(t.preventDefault(),t.stopPropagation(),ah(e,t),ll(Wl(e),t,i),ll(Wl(e),t,o))},e.onPinchStop=function(t){var n=e.props,r=n.onPinchingStop,i=n.onZoomStop;e.pinchStartScale&&(uh(e),ll(Wl(e),t,r),ll(Wl(e),t,i))},e.onTouchPanningStart=function(t){var n=e.setup.disabled,r=e.props.onPanningStart;if(!n&&Tl(e,t))if(e.lastTouch&&+new Date-e.lastTouch<200&&1===t.touches.length)e.onDoubleClick(t);else{e.lastTouch=+new Date,dl(e);var i=t.touches,o=1===i.length,s=2===i.length;o&&(dl(e),Al(e,t),ll(Wl(e),t,r)),s&&e.onPinchStart(t)}},e.onTouchPanning=function(t){var n=e.setup.disabled,r=e.props.onPanning;if(e.isPanning&&1===t.touches.length){if(n)return;if(!Sl(e))return;t.preventDefault(),t.stopPropagation();var i=t.touches[0];Il(e,i.clientX,i.clientY),ll(Wl(e),t,r)}else t.touches.length>1&&e.onPinch(t)},e.onTouchPanningStop=function(t){e.onPanningStop(t),e.onPinchStop(t)},e.onDoubleClick=function(t){e.setup.disabled||lh(e,t)&&ch(e,t)},e.clearPanning=function(t){e.isPanning&&e.onPanningStop(t)},e.setKeyPressed=function(t){e.pressedKeys[t.key]=!0},e.setKeyUnPressed=function(t){e.pressedKeys[t.key]=!1},e.isPressingKeys=function(t){return!t.length||Boolean(t.find((function(t){return e.pressedKeys[t]})))},e.setComponents=function(t,n){e.wrapperComponent=t,e.contentComponent=n,vl(e,e.transformState.scale),e.handleInitializeWrapperEvents(t),e.handleInitialize(),e.handleRef(),e.isInitialized=!0,ll(Wl(e),void 0,e.props.onInit)},e.setTransformState=function(t,n,r){isNaN(t)||isNaN(n)||isNaN(r)?console.error("Detected NaN set state values"):(t!==e.transformState.scale&&(e.transformState.previousScale=e.transformState.scale,e.transformState.scale=t),e.transformState.positionX=n,e.transformState.positionY=r,e.applyTransformation())},e.setCenter=function(){if(e.wrapperComponent&&e.contentComponent){var t=Jl(e.transformState.scale,e.wrapperComponent,e.contentComponent);e.setTransformState(t.scale,t.positionX,t.positionY)}},e.applyTransformation=function(){if(e.mounted&&e.contentComponent){var t=e.transformState,n=t.scale,r=t.positionX,i=t.positionY,o=Xl(r,i,n);e.contentComponent.style.transform=o,e.handleRef()}},e.handleRef=function(){e.props.setRef(Wl(e))},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}sl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.componentDidMount=function(){var t=Kl();window.addEventListener("mousedown",this.onPanningStart,t),window.addEventListener("mousemove",this.onPanning,t),window.addEventListener("mouseup",this.onPanningStop,t),document.addEventListener("mouseleave",this.clearPanning,t),window.addEventListener("keyup",this.setKeyUnPressed,t),window.addEventListener("keydown",this.setKeyPressed,t),this.handleRef()},e.prototype.componentWillUnmount=function(){var t=Kl();window.removeEventListener("mousedown",this.onPanningStart,t),window.removeEventListener("mousemove",this.onPanning,t),window.removeEventListener("mouseup",this.onPanningStop,t),window.removeEventListener("keyup",this.setKeyUnPressed,t),window.removeEventListener("keydown",this.setKeyPressed,t),dl(this)},e.prototype.componentDidUpdate=function(t){t!==this.props&&(vl(this,this.transformState.scale),this.setup=Ml(this.props))},e.prototype.render=function(){var t=Wl(this),e=this.props.children,n="function"==typeof e?e(t):e;return r.createElement(hh.Provider,{value:al(al({},this.transformState),{setComponents:this.setComponents,contextInstance:this})},n)},e}(r.Component),dh=r.forwardRef((function(t,e){var n=(0,r.useState)(null),i=n[0],o=n[1];return(0,r.useImperativeHandle)(e,(function(){return i}),[i]),r.createElement(fh,al({},t,{setRef:o}))}));!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".transform-component-module_wrapper__1_Fgj {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n.transform-component-module_content__2jYgh {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__2jYgh img {\n  pointer-events: none;\n}\n");var ph,mh,gh,vh,yh,bh=function(t){var e=t.children,n=t.wrapperClass,i=void 0===n?"":n,o=t.contentClass,s=void 0===o?"":o,a=t.wrapperStyle,u=t.contentStyle,c=(0,r.useContext)(hh).setComponents,l=(0,r.useRef)(null),h=(0,r.useRef)(null);return(0,r.useEffect)((function(){var t=l.current,e=h.current;null!==t&&null!==e&&c&&c(t,e)}),[]),r.createElement("div",{ref:l,className:"react-transform-wrapper transform-component-module_wrapper__1_Fgj "+i,style:a},r.createElement("div",{ref:h,className:"react-transform-component transform-component-module_content__2jYgh "+s,style:u},e))},wh=r.memo((function(t){var e=t.src,n=t.caption,i=t.disablePanzoom,o=t.handlePanzoom,s=t.panzoomEnabled,a=t.boxShadow,u=t.imgHeight,c=t.imgWidth,l=it((0,r.useState)(!0),2),h=l[0],f=l[1];function d(t){t.touches.length>1&&!s&&t.cancelable&&(t.preventDefault(),o(!0))}(0,r.useEffect)((function(){var t=new Image;t.src=e,t.onload=function(){f(!1)}}),[e]),(0,r.useEffect)((function(){return document.addEventListener("touchstart",d,{passive:!1}),function(){document.addEventListener("touchstart",d,{passive:!1})}}),[]);var p=h?r.createElement(ol,null):s?r.createElement(dh,{maxScale:6,minScale:.5,wheel:{step:.5},zoomAnimation:{animationType:"easeInOutQuad"}},r.createElement(bh,null,r.createElement(il,{src:e,className:"SRLImage SRLImageZoomed",alt:n,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeInOut"}}))):r.createElement(rl,{src:e,className:"SRLImage",disablePanzoom:i,onClick:function(){return o(!0)},alt:n,boxShadow:a,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeInOut"},width:c,height:u});return r.createElement(bc,null,p)}));wh.displayName="ImageLoad",wh.propTypes={handlePanzoom:et.func,src:et.string,caption:et.string,disablePanzoom:et.bool,boxShadow:et.string,panzoomEnabled:et.bool,containerRef:et.any,imgWidth:et.number,imgHeight:et.number};var Eh,Th,Sh,_h,xh,Ah,Ih,Ch,kh,Ph,Rh,Oh,Nh,Lh,Dh,Mh,Uh,Vh,Fh,jh=an(ph||(ph=Et(["\n  -ms-grid-columns: 1fr auto;\n  grid-template-columns: 1fr auto;\n  -ms-grid-rows: 90% auto;\n  grid-template-rows: 90% auto;\n\n  > *:nth-of-type(1) {\n    -ms-grid-row: 1;\n  }\n\n  > *:nth-of-type(2) {\n    -ms-grid-row: 2;\n  }\n\n  > *:nth-of-type(3) {\n    -ms-grid-row: 1;\n  }\n"]))),Bh=an(mh||(mh=Et(["\n  -ms-grid-columns: auto 1fr;\n  grid-template-columns: auto 1fr;\n  -ms-grid-rows: 90% auto;\n  grid-template-rows: 90% auto;\n\n  > *:nth-of-type(1) {\n    -ms-grid-row: 1;\n  }\n\n  > *:nth-of-type(2) {\n    -ms-grid-row: 2;\n  }\n\n  > *:nth-of-type(3) {\n    -ms-grid-row: 1;\n  }\n"]))),zh=En.div(gh||(gh=Et(["\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  display: grid;\n  display: -ms-grid;\n  -ms-grid-rows: auto;\n  grid-template-rows: auto;\n  align-items: center;\n  justify-content: center;\n  justify-items: center;\n  width: 100vw;\n  height: 100vh;\n  height: calc(var(--vh, 1vh) * 100);\n\n  > *:nth-of-type(1) {\n    -ms-grid-row: 1;\n  }\n\n  > *:nth-of-type(2) {\n    -ms-grid-row: 2;\n  }\n\n  > *:nth-of-type(3) {\n    -ms-grid-row: 3;\n  }\n\n  /* Thumbnails aligned to the right */\n  ",";\n\n  /* Thumbnails aligned to the left */\n  ",";\n\n  ",";\n\n  ",";\n\n  @media (max-width: 768px) {\n    grid-template-columns: auto;\n    grid-template-rows: auto;\n  }\n"])),(function(t){return"right"===t.thumbnailsPosition&&jh}),(function(t){return"left"===t.thumbnailsPosition&&Bh}),(function(t){return t.hideThumbnails&&an(vh||(vh=Et(["\n      -ms-grid-rows: 90% auto;\n      grid-template-rows: 90% auto;\n    "])))}),(function(t){return!t.showCaption&&an(yh||(yh=Et(["\n      -ms-grid-rows: auto;\n      grid-template-rows: auto;\n    "])))}));function $h(t){var e,n,i=t.caption,o=t.direction,s=t.elements,a=t.handleCurrentElement,u=t.handleCloseLightbox,c=t.handleNextElement,l=t.handlePanzoom,h=t.handlePrevElement,f=t.height,d=t.hideThumbnails,p=t.id,m=t.options,g=t.panzoomEnabled,v=t.source,y=t.SRLThumbnailsRef,b=t.SRLCaptionRef,w=t.width,E=m.settings,T=m.thumbnails,S=m.caption,_=it(Qc(b),1)[0],x=it(Qc(y),1)[0],A=(0,r.useRef)(),I=!!window.MSInputMethodContext&&!!document.documentMode,C=I?1e3:"100%",k=I?-1e3:"-100%",P={slideIn:function(t){return{x:void 0===t?0:"next"===t?C:k,transition:{ease:E.slideTransitionTimingFunction}}},slideOut:function(t){return{x:"previous"===t?C:k,transition:{ease:E.slideTransitionTimingFunction}}},fadeIn:{opacity:0,transition:{ease:E.slideTransitionTimingFunction}},fadeOut:{opacity:0,transition:{ease:E.slideTransitionTimingFunction}},bothIn:function(t){return{opacity:1,x:void 0===t?"0":"next"===t?1e3:-1e3,transition:{ease:E.slideTransitionTimingFunction}}},bothOut:function(t){return{opacity:0,x:"previous"===t?1e3:-1e3,transition:{ease:E.slideTransitionTimingFunction}}},center:{x:0,opacity:1}},R=jc({onSwipedLeft:function(){return c(p)},onSwipedRight:function(){return h(p)},delta:g?500:90,preventDefaultTouchmoveEvent:!0,trackTouch:!0,trackMouse:!1}),O=Bc((function(t){t>0?c(p):t<0&&h(p)}),150);(0,r.useEffect)((function(){if(!g&&!E.disableWheelControls){var t=Xc(document,"wheel",(function(t){return O(t.deltaY)}));return function(){t()}}}),[O,g,E.disableWheelControls]),(0,r.useEffect)((function(){var t=function(t){!e.current||t.target.classList.contains("SRLImage")||t.target.classList.contains("SRLPanzoomImage")||t.target.classList.contains("SRLNextButton")||t.target.classList.contains("SRLPrevButton")||t.target.classList.contains("SRLCloseButton")||t.target.classList.contains("SRLAutoplayButton")||t.target.classList.contains("SRLExpandButton")||t.target.classList.contains("SRLZoomOutButton")||t.target.classList.contains("SRLDownloadButton")||t.target.classList.contains("SRLThumbnailsButton")||t.target.classList.contains("SRLCaptionContainer")||t.target.classList.contains("SRLCaptionText")||t.target.classList.contains("SRLCustomCaption")||t.target.classList.contains("SRLThumbnails")||t.target.classList.contains("SRLThumb")||t.target.classList.contains("SRLCaption")||t.target.classList.contains("react-transform-component")||t.target.classList.contains("react-transform-element")||"touchstart"===t.type||0!==t.button||n(t)};return"undefined"!=typeof window&&(document.addEventListener("mousedown",t),document.addEventListener("touchstart",t)),function(){"undefined"!=typeof window&&(document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t))}}),[e=A,n=function(){return u()}]);var N={captionAlignment:m.caption.captionAlignment,captionColor:m.caption.captionColor,captionContainerPadding:m.caption.captionContainerPadding,captionFontFamily:m.caption.captionFontFamily,captionFontSize:m.caption.captionFontSize,captionFontStyle:m.caption.captionFontStyle,captionFontWeight:m.caption.captionFontWeight,captionTextTransform:m.caption.captionTextTransform};return r.createElement(zh,{className:"SRLContainer",ref:A,thumbnailsPosition:T.thumbnailsPosition,showCaption:S.showCaption,hideThumbnails:d},r.createElement(el,wt({thumbnailsPosition:T.thumbnailsPosition,showThumbnails:T.showThumbnails,hideThumbnails:d,showCaption:S.showCaption,className:"SRLElementContainer",captionDivSizes:_,thumbnailsDivSizes:x},R),r.createElement(bc,{className:"SRLAnimatePresence",custom:o},r.createElement(nl,{variants:P,custom:o,initial:"slide"===E.slideAnimationType?"slideIn":"both"===E.slideAnimationType?"bothIn":"fadeIn",animate:"center",exit:"slide"===E.slideAnimationType?"slideOut":"both"===E.slideAnimationType?"bothOut":"fadeOut",className:"SRLElementWrapper",key:p||0,transition:{x:{type:"spring",stiffness:E.slideSpringValues[0],damping:E.slideSpringValues[1]},opacity:{duration:E.slideTransitionSpeed}}},r.createElement(wh,{disablePanzoom:E.disablePanzoom,panzoomEnabled:g,handlePanzoom:l,containerRef:A,imgHeight:f,imgWidth:w,src:v,caption:i,boxShadow:E.boxShadow})))),S.showCaption&&r.createElement(Dc,{id:p,thumbnailsPosition:T.thumbnailsPosition,captionOptions:N,caption:i,SRLCaptionRef:b}),T.showThumbnails&&!d&&r.createElement(Nc,{handleCurrentElement:a,thumbnails:T,currentId:p,elements:s||[],SRLThumbnailsRef:y}))}$h.propTypes={caption:et.string,direction:et.string,elements:et.array,handleCloseLightbox:et.func,handleCurrentElement:et.func,handleNextElement:et.func,handlePanzoom:et.func,handlePrevElement:et.func,height:et.oneOfType([et.number,et.string]),hideThumbnails:et.bool,id:et.string,options:et.shape({settings:et.shape({boxShadow:et.string,disablePanzoom:et.bool,disableWheelControls:et.bool,slideAnimationType:et.string,slideSpringValues:et.array,slideTransitionSpeed:et.number,slideTransitionTimingFunction:et.oneOfType([et.string,et.array])}),caption:et.shape({captionAlignment:et.string,captionColor:et.string,captionFontFamily:et.string,captionFontSize:et.string,captionFontStyle:et.string,captionFontWeight:et.oneOfType([et.number,et.string]),captionContainerPadding:et.string,captionTextTransform:et.string,showCaption:et.bool}),thumbnails:et.shape({showThumbnails:et.bool,thumbnailsOpacity:et.number,thumbnailsPosition:et.string,thumbnailsSize:et.array})}),panzoomEnabled:et.bool,showControls:et.bool,source:et.oneOfType([et.string,et.object]),SRLCaptionRef:et.object,SRLThumbnailsRef:et.object,thumbnailsOpacity:et.number,type:et.string,width:et.oneOfType([et.number,et.string])};var Hh,qh,Wh=En.button(Eh||(Eh=Et(["\n  position: absolute;\n  height: ",";\n  width: ",";\n  transition: color 0.3s ease;\n  background-color: ",";\n  border: 0;\n  border-radius: 0;\n  box-shadow: none;\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  visibility: inherit;\n  z-index: 9998;\n  opacity: 1;\n  transition: opacity 0.3s ease;\n  display: flex;\n  align-items: center;\n  align-content: center;\n  justify-content: center;\n\n  .SRLIdle & {\n    opacity: 0;\n\n    @media (max-width: 768px) {\n      opacity: 1;\n    }\n\n    @media (max-width: 360px) {\n      opacity: 1;\n    }\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  @media (max-width: 768px) {\n    height: ",";\n    width: ",";\n\n    .SRLIdle & {\n      opacity: 1;\n    }\n  }\n\n  div {\n    height: ",";\n    width: ",";\n    padding: ",";\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n\n    @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (-webkit-min-device-pixel-ratio: 2) {\n      padding: 10px;\n      height: ",";\n      width: ",";\n    }\n\n    @media only screen and (min-device-width: 1024px) and (max-device-width: 1366px) {\n      padding: 10px;\n      height: ",";\n      width: ",";\n    }\n\n    @media (max-width: 768px) {\n      padding: 10px;\n      height: ",";\n      width: ",";\n\n      .SRLIdle & {\n        opacity: 1;\n      }\n    }\n\n    svg {\n      display: block;\n      height: 100%;\n      width: 100%;\n      overflow: visible;\n      position: relative;\n      path {\n        transition: fill 0.3s ease;\n        fill: ",";\n      }\n    }\n    &:hover {\n      svg path {\n        fill: ",";\n      }\n    }\n  }\n"])),(function(t){return t.buttonsSize?t.buttonsSize:"30px"}),(function(t){return t.buttonsSize?t.buttonsSize:"30px"}),(function(t){return t.buttonsBackgroundColor?t.buttonsBackgroundColor:"rgba(30, 30, 36, 0.8)"}),(function(t){return t.buttonsSize?Math.round(parseInt(t.buttonsSize,10)/1.2)+"px":"30px"}),(function(t){return t.buttonsSize?Math.round(parseInt(t.buttonsSize,10)/1.2)+"px":"30px"}),(function(t){return t.buttonsSize?t.buttonsSize:"30px"}),(function(t){return t.buttonsSize?t.buttonsSize:"30px"}),(function(t){return t.buttonsIconPadding?t.buttonsIconPadding:"5px"}),(function(t){return t.buttonsSize?Math.round(parseInt(t.buttonsSize,10)/1)+"px":"30px"}),(function(t){return t.buttonsSize?Math.round(parseInt(t.buttonsSize,10)/1)+"px":"30px"}),(function(t){return t.buttonsSize?Math.round(parseInt(t.buttonsSize,10)/1)+"px":"30px"}),(function(t){return t.buttonsSize?Math.round(parseInt(t.buttonsSize,10)/1)+"px":"30px"}),(function(t){return t.buttonsSize?Math.round(parseInt(t.buttonsSize,10)/1.1)+"px":"30px"}),(function(t){return t.buttonsSize?Math.round(parseInt(t.buttonsSize,10)/1.1)+"px":"30px"}),(function(t){return t.buttonsIconColor?t.buttonsIconColor:"rgba(255, 255, 255, 0.8)"}),(function(t){return t.buttonsIconColor&&t.buttonsIconColor.replace(/[\d\.]+\)$/g,"1)")})),Kh=En.div(Th||(Th=Et(['\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  top: calc(env(safe-area-inset-top) + 5px);\n  right: calc(env(safe-area-inset-right) + 5px);\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  transition: 0.3s ease;\n  will-change: right;\n\n  /* Offset the buttons if the progress bar is active and the autoplay is "playing" */\n  ',";\n\n  /* Offset the buttons if the thumbnails are on the right */\n  ",";\n\n  /* Thumbnails on right are closed so we need to reset the position */\n  ",";\n\n  @media (max-width: 768px) {\n    right: 5px;\n    right: calc(env(safe-area-inset-right) + 5px) !important;\n  }\n"])),(function(t){return t.showProgressBar&&t.autoplay&&an(Sh||(Sh=Et(["\n      top: ","px;\n      top: calc(\n        env(safe-area-inset-top) +\n          ","px\n      );\n    "])),2*Math.round(parseInt(t.buttonsOffsetFromProgressBar,10)),2*Math.round(parseInt(t.buttonsOffsetFromProgressBar,10)))}),(function(t){return"right"===t.thumbnailsPosition&&an(_h||(_h=Et(["\n      right: ","px;\n      right: calc(\n        env(safe-area-inset-top) + ","px\n      );\n    "])),t.thumbnailsDivSizes.width+5,t.thumbnailsDivSizes.width+5)}),(function(t){return t.hideThumbnails&&"right"===t.thumbnailsPosition&&an(xh||(xh=Et(["\n      right: 5px;\n      right: calc(env(safe-area-inset-right) + 5px);\n    "])))})),Gh=En(Wh)(Ah||(Ah=Et(["\n  position: relative;\n"]))),Yh=En(Wh)(Ih||(Ih=Et(["\n  position: relative;\n  margin-right: 5px;\n\n  @media (max-width: 768px) {\n    display: none;\n  }\n"]))),Xh=En(Wh)(Ch||(Ch=Et(["\n  position: relative;\n  margin-right: 5px;\n"]))),Jh=En(Wh)(kh||(kh=Et(["\n  position: relative;\n  margin-right: 5px;\n  display: ",";\n"])),(function(t){return 0===t.autoplaySpeed?"none":"flex"})),Qh=En(Wh)(Ph||(Ph=Et(["\n  position: relative;\n  margin-right: 5px;\n\n  ","\n\n  ","\n\n  @media (max-width: 768px) {\n    svg {\n      transform: rotate(0) !important;\n    }\n  }\n"])),(function(t){return"right"===t.thumbnailsPosition&&an(Rh||(Rh=Et(["\n      svg {\n        transform: rotate(-90deg);\n      }\n    "])))}),(function(t){return"left"===t.thumbnailsPosition&&an(Oh||(Oh=Et(["\n      svg {\n        transform: rotate(90deg);\n      }\n    "])))})),Zh=En(Wh)(Nh||(Nh=Et(["\n  position: relative;\n  margin-right: 5px;\n"]))),tf=En(Wh)(Lh||(Lh=Et(["\n  top: calc(50% - 50px);\n  right: 5px;\n  right: calc(env(safe-area-inset-right) + 5px);\n  transition: 0.3s ease;\n  will-change: right;\n\n  /* Offset the thumbnails with the width of the div of the thumbnails */\n  ",";\n\n  /* Thumbnails on right are closed so we need to reset the position */\n  ",";\n\n  @media (max-width: 768px) {\n    display: none;\n  }\n"])),(function(t){return"right"===t.thumbnailsPosition&&an(Dh||(Dh=Et(["\n      right: ","px;\n      right: calc(\n        env(safe-area-inset-right) + ","px\n      );\n    "])),t.thumbnailsDivSizes.width+5,t.thumbnailsDivSizes.width+5)}),(function(t){return t.hideThumbnails&&"right"===t.thumbnailsPosition&&an(Mh||(Mh=Et(["\n      right: 5px;\n      right: calc(env(safe-area-inset-right) + 5px);\n    "])))})),ef=En(Wh)(Uh||(Uh=Et(["\n  top: calc(50% - 50px);\n  left: 5px;\n  left: calc(env(safe-area-inset-left) + 5px);\n  transition: 0.3s ease;\n  will-change: left;\n\n  /* Offset the thumbnails with the width of the div of the thumbnails */\n  ",";\n\n  /* Thumbnails on left are closed so we need to reset the position */\n  ",";\n\n  @media (max-width: 768px) {\n    display: none;\n  }\n"])),(function(t){return"left"===t.thumbnailsPosition&&an(Vh||(Vh=Et(["\n      left: ","px;\n      left: calc(\n        env(safe-area-inset-right) + ","px\n      );\n    "])),t.thumbnailsDivSizes.width+5,t.thumbnailsDivSizes.width+5)}),(function(t){return t.hideThumbnails&&"left"===t.thumbnailsPosition&&an(Fh||(Fh=Et(["\n      left: 5px;\n      left: calc(env(safe-area-inset-right) + 5px);\n    "])))})),nf=function(t){var e=t.autoplay,n=t.buttons,i=t.buttonsOffsetFromProgressBar,o=t.currentElementID,s=t.handleCloseLightbox,a=t.handleFullScreen,u=t.handleImageDownload,c=t.handleNextElement,l=t.handlePanzoom,h=t.handlePrevElement,f=t.handleThumbnails,d=t.hideThumbnails,p=t.panzoomEnabled,m=t.setAutoplay,g=t.settings,v=t.showProgressBar,y=t.showThumbnails,b=t.SRLThumbnailsRef,w=t.thumbnailsPosition,E=t.thumbnailsSize,T=it(Qc(b),1)[0];return r.createElement(r.Fragment,null,r.createElement(Kh,{className:"SRLControls",autoplay:e,showProgressBar:v,buttonsOffsetFromProgressBar:i,thumbnailsPosition:w,thumbnailsDivSizes:T,thumbnailsSize:E,hideThumbnails:d},n.showAutoplayButton&&r.createElement(Jh,{buttonsBackgroundColor:n.backgroundColor,buttonsIconColor:n.iconColor,buttonsSize:n.size,buttonsIconPadding:n.iconPadding,autoplaySpeed:g.autoplaySpeed,title:e?"Pause":"Play",className:"SRLAutoplayButton",onClick:function(){return m(!e)}},r.createElement("div",{className:"SRLAutoplayButton"},e?r.createElement("svg",{className:"SRLAutoplayButton",xmlns:"http://www.w3.org/2000/svg",viewBox:"11 11 30 30"},r.createElement("path",{className:"SRLAutoplayButton",d:"M14.2 38.7h5.9c1.6 0 2.9-1.3 2.9-2.9V14.2c0-1.6-1.3-2.9-2.9-2.9h-5.9c-1.6 0-2.9 1.3-2.9 2.9v21.6c0 1.6 1.3 2.9 2.9 2.9zm-1-24.5c0-.5.4-1 1-1h5.9c.5 0 1 .4 1 1v21.6c0 .5-.4 1-1 1h-5.9c-.5 0-1-.4-1-1V14.2zm16.7 24.5h5.9c1.6 0 2.9-1.3 2.9-2.9V14.2c0-1.6-1.3-2.9-2.9-2.9h-5.9c-1.6 0-2.9 1.3-2.9 2.9v21.6c0 1.6 1.3 2.9 2.9 2.9zm-1-24.5c0-.5.4-1 1-1h5.9c.5 0 1 .4 1 1v21.6c0 .5-.4 1-1 1h-5.9c-.5 0-1-.4-1-1V14.2z"})):r.createElement("svg",{className:"SRLAutoplayButton",xmlns:"http://www.w3.org/2000/svg",viewBox:"11 11 30 30"},r.createElement("path",{className:"SRLAutoplayButton",d:"M35.7 22.8L16.9 11.6c-1.5-.9-3.9 0-3.9 2.2v22.3c0 2 2.2 3.2 3.9 2.2l18.9-11.1c1.6-1 1.6-3.4-.1-4.4zm-.8 2.9L16 36.9c-.6.3-1.3-.1-1.3-.7V13.8c0-.9.9-1 1.3-.7l18.9 11.1c.5.4.5 1.2 0 1.5z"})))),n.showThumbnailsButton&&y&&r.createElement(Qh,{buttonsBackgroundColor:n.backgroundColor,buttonsIconColor:n.iconColor,buttonsSize:n.size,buttonsIconPadding:n.iconPadding,thumbnailsPosition:w,onClick:f,title:d?"Show Thumbnails":"Hide Thumbnails",className:"SRLThumbnailsButton"},r.createElement("div",{className:"SRLThumbnailsButton"},r.createElement("svg",{className:"SRLThumbnailsButton",xmlns:"http://www.w3.org/2000/svg",viewBox:"11 11 30 30"},r.createElement("g",{fill:"#fff",className:"SRLThumbnailsButton"},r.createElement("path",{className:"SRLThumbnailsButton",d:"M15.4 27.4h-4.8c-1.3 0-2.4 1.1-2.4 2.4v4.8c0 1.3 1.1 2.4 2.4 2.4h4.8c1.3 0 2.4-1.1 2.4-2.4v-4.8c0-1.3-1.1-2.4-2.4-2.4zm12 0h-4.8c-1.3 0-2.4 1.1-2.4 2.4v4.8c0 1.3 1.1 2.4 2.4 2.4h4.8c1.3 0 2.4-1.1 2.4-2.4v-4.8c0-1.3-1.1-2.4-2.4-2.4zm12 0h-4.8c-1.3 0-2.4 1.1-2.4 2.4v4.8c0 1.3 1.1 2.4 2.4 2.4h4.8c1.3 0 2.4-1.1 2.4-2.4v-4.8c0-1.3-1.1-2.4-2.4-2.4z",opacity:".4"}),r.createElement("path",{className:"SRLThumbnailsButton",d:"M39.4 13h-4.8c-1.3 0-2.4 1.1-2.4 2.4v4.8c0 1.3 1.1 2.4 2.4 2.4h4.8c1.3 0 2.4-1.1 2.4-2.4v-4.8c0-1.3-1.1-2.4-2.4-2.4zm-24 0h-4.8c-1.3 0-2.4 1.1-2.4 2.4v4.8c0 1.3 1.1 2.4 2.4 2.4h4.8c1.3 0 2.4-1.1 2.4-2.4v-4.8c0-1.3-1.1-2.4-2.4-2.4zm12 0h-4.8c-1.3 0-2.4 1.1-2.4 2.4v4.8c0 1.3 1.1 2.4 2.4 2.4h4.8c1.3 0 2.4-1.1 2.4-2.4v-4.8c0-1.3-1.1-2.4-2.4-2.4z"}))))),n.showDownloadButton&&r.createElement(Zh,{buttonsBackgroundColor:n.backgroundColor,buttonsIconColor:n.iconColor,buttonsSize:n.size,buttonsIconPadding:n.iconPadding,title:"Download image",className:"SRLDownloadButton",onClick:u},r.createElement("div",{className:"SRLDownloadButton"},r.createElement("svg",{className:"SRLDownloadButton",xmlns:"http://www.w3.org/2000/svg",viewBox:"11 11 30 30"},r.createElement("path",{className:"SRLDownloadButton",d:"M35.7 34.1c0 .6-.5 1-1.1 1-.6 0-1.1-.5-1.1-1s.5-1 1.1-1c.6 0 1.1.5 1.1 1zm-4.6-1c-.6 0-1.1.5-1.1 1s.5 1 1.1 1c.6 0 1.1-.5 1.1-1s-.5-1-1.1-1zm7.8-2.5V36c0 1.3-1.1 2.3-2.4 2.3h-23c-1.3 0-2.4-1-2.4-2.3v-5.4c0-1.3 1.1-2.3 2.4-2.3h5.4l-3.1-2.9c-1.4-1.3-.4-3.5 1.5-3.5h2.9v-8.1c0-1.1 1-2.1 2.2-2.1h5.2c1.2 0 2.2.9 2.2 2.1v8.1h2.9c1.9 0 2.9 2.2 1.5 3.5l-3.1 2.9h5.4c1.3 0 2.4 1 2.4 2.3zm-14.2.9c.2.2.4.2.6 0l7.6-7.3c.3-.3.1-.7-.3-.7H28v-9.7c0-.2-.2-.4-.4-.4h-5.2c-.2 0-.4.2-.4.4v9.7h-4.6c-.4 0-.6.4-.3.7l7.6 7.3zm12.5-.9c0-.3-.3-.6-.7-.6h-7.1l-2.8 2.7c-.8.8-2.2.8-3.1 0L20.6 30h-7.1c-.4 0-.7.3-.7.6V36c0 .3.3.6.7.6h23c.4 0 .7-.3.7-.6v-5.4z"})))),p?r.createElement(Xh,{buttonsBackgroundColor:n.backgroundColor,buttonsIconColor:n.iconColor,buttonsSize:n.size,buttonsIconPadding:n.iconPadding,title:"Zoom out",className:"SRLZoomOutButton",onClick:function(){return l(!1)}},r.createElement("div",{className:"SRLZoomOutButton"},r.createElement("svg",{className:"SRLZoomOutButton",xmlns:"http://www.w3.org/2000/svg",viewBox:"11 11 30 30"},r.createElement("path",{className:"SRLZoomOutButton",d:"M27.9 21.6v1.3c0 .4-.3.7-.7.7h-10c-.4 0-.7-.3-.7-.7v-1.3c0-.4.3-.7.7-.7h10c.4 0 .7.3.7.7zm10.7 15.8l-1.2 1.2c-.3.3-.7.3-.9 0L29.9 32c-.1-.1-.2-.3-.2-.5v-.7c-2 1.7-4.6 2.8-7.4 2.8C16 33.6 11 28.5 11 22.3s5-11.4 11.3-11.4S33.6 16 33.6 22.3c0 2.8-1 5.4-2.8 7.4h.7c.2 0 .3.1.5.2l6.6 6.6c.3.2.3.6 0 .9zM31 22.3c0-4.8-3.9-8.7-8.7-8.7s-8.7 3.9-8.7 8.7 3.9 8.7 8.7 8.7 8.7-3.9 8.7-8.7z"})))):"",n.showFullscreenButton&&r.createElement(Yh,{buttonsBackgroundColor:n.backgroundColor,buttonsIconColor:n.iconColor,buttonsSize:n.size,buttonsIconPadding:n.iconPadding,title:"Enter fullscreen",className:"SRLExpandButton",onClick:a},r.createElement("div",{className:"SRLExpandButton"},r.createElement("svg",{className:"SRLExpandButton",xmlns:"http://www.w3.org/2000/svg",viewBox:"11 11 30 30"},r.createElement("path",{className:"SRLExpandButton",d:"M11.22 20.66v-7.91a1.52 1.52 0 011.53-1.53h7.91a.76.76 0 01.76.76v1.53a.77.77 0 01-.76.77h-6.38v6.38a.77.77 0 01-.77.76H12a.76.76 0 01-.78-.76zM29.58 12v1.53a.78.78 0 00.77.77h6.38v6.38a.76.76 0 00.76.76H39a.77.77 0 00.77-.76v-7.93a1.52 1.52 0 00-1.53-1.53h-7.89a.77.77 0 00-.77.78zM39 29.58h-1.51a.77.77 0 00-.76.77v6.38h-6.38a.77.77 0 00-.77.76V39a.78.78 0 00.77.77h7.91a1.52 1.52 0 001.53-1.53v-7.89a.78.78 0 00-.79-.77zM21.42 39v-1.51a.76.76 0 00-.76-.76h-6.38v-6.38a.78.78 0 00-.77-.77H12a.77.77 0 00-.76.77v7.91a1.52 1.52 0 001.53 1.53h7.91a.77.77 0 00.74-.79z"})))),n.showCloseButton&&r.createElement(Gh,{buttonsBackgroundColor:n.backgroundColor,buttonsIconColor:n.iconColor,buttonsSize:n.size,buttonsIconPadding:n.iconPadding,title:"Close",className:"SRLCloseButton",onClick:function(){return s()}},r.createElement("div",{className:"SRLCloseButton"},r.createElement("svg",{className:"SRLCloseButton",xmlns:"http://www.w3.org/2000/svg",viewBox:"11 11 30 30"},r.createElement("path",{className:"SRLCloseButton",d:"M27.92 25l8.84-8.84 1.82-1.82c.27-.27.27-.71 0-.97l-1.95-1.95a.682.682 0 0 0-.97 0L25 22.08 14.34 11.42a.682.682 0 0 0-.97 0l-1.95 1.95c-.27.27-.27.71 0 .97L22.08 25 11.42 35.66c-.27.27-.27.71 0 .97l1.95 1.95c.27.27.71.27.97 0L25 27.92l8.84 8.84 1.82 1.82c.27.27.71.27.97 0l1.95-1.95c.27-.27.27-.71 0-.97L27.92 25z"}))))),n.showNextButton&&r.createElement(tf,{buttonsBackgroundColor:n.backgroundColor,buttonsIconColor:n.iconColor,buttonsSize:n.size,buttonsIconPadding:n.iconPadding,thumbnailsPosition:w,thumbnailsDivSizes:T,thumbnailsSize:E,hideThumbnails:d,title:"Next",className:"SRLNextButton",onClick:function(){return c(o)}},r.createElement("div",{className:"SRLNextButton"},r.createElement("svg",{className:"SRLNextButton",xmlns:"http://www.w3.org/2000/svg",viewBox:"11 11 30 30"},r.createElement("path",{className:"SRLPrevButton",d:"M24.53 11.36l-.44.44c-.29.29-.29.76 0 1.05l11.09 11.09H11.83c-.41 0-.75.33-.75.75v.62c0 .41.33.75.75.75h23.35L24.09 37.14c-.29.29-.29.76 0 1.05l.44.44c.29.29.76.29 1.05 0l13.11-13.11c.29-.29.29-.76 0-1.05l-13.1-13.11a.754.754 0 0 0-1.06 0z"})))),n.showPrevButton&&r.createElement(ef,{buttonsBackgroundColor:n.backgroundColor,buttonsIconColor:n.iconColor,buttonsSize:n.size,buttonsIconPadding:n.iconPadding,title:"Previous",className:"SRLPrevButton",thumbnailsPosition:w,thumbnailsDivSizes:T,thumbnailsSize:E,hideThumbnails:d,onClick:function(){return h(o)}},r.createElement("div",{className:"SRLPrevButton"},r.createElement("svg",{className:"SRLPrevButton",xmlns:"http://www.w3.org/2000/svg",viewBox:"11 11 30 30"},r.createElement("path",{className:"SRLPrevButton",d:"M25.47 38.64l.44-.44c.29-.29.29-.76 0-1.05L14.82 26.06h23.35c.41 0 .75-.33.75-.75v-.62c0-.41-.33-.75-.75-.75H14.82l11.09-11.09c.29-.29.29-.76 0-1.05l-.44-.44a.742.742 0 0 0-1.05 0L11.31 24.47c-.29.29-.29.76 0 1.05l13.11 13.11c.29.3.76.3 1.05.01z"})))))};nf.propTypes={autoplay:et.bool,buttons:et.shape({backgroundColor:et.string,iconColor:et.string,iconPadding:et.string,showAutoplayButton:et.bool,showCloseButton:et.bool,showDownloadButton:et.bool,showFullscreenButton:et.bool,showNextButton:et.bool,showPrevButton:et.bool,showThumbnailsButton:et.bool,size:et.string}),hideThumbnails:et.bool,buttonsOffsetFromProgressBar:et.string,currentElementID:et.string,handleCloseLightbox:et.func,handleFullScreen:et.func,handleImageDownload:et.func,handleNextElement:et.func,handlePanzoom:et.func,handlePrevElement:et.func,handleThumbnails:et.func,panzoomEnabled:et.bool,setAutoplay:et.func,settings:et.shape({autoplaySpeed:et.number}),showProgressBar:et.bool,showThumbnails:et.bool,thumbnailsPosition:et.string,SRLThumbnailsRef:et.object,thumbnailsSize:et.array};var rf=En.div(Hh||(Hh=Et(["\n  width: 100%;\n  height: ",";\n  background-color: ",";\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 9999;\n"])),(function(t){return t.barHeight}),(function(t){return t.backgroundColor})),of=En.div(qh||(qh=Et(["\n  height: ",";\n  width: 100%;\n  background-color: ",";\n  position: absolute;\n  top: 0;\n  left: 0;\n  transform: scaleX(0);\n  transform-origin: 0;\n"])),(function(t){return t.barHeight}),(function(t){return t.fillColor})),sf=function(t){var e=t.autoplay,n=t.autoplaySpeed,i=t.progressBar,o=t.currentElementID,s=it((0,r.useState)(!1),2),a=s[0],u=s[1];return(0,r.useEffect)((function(){u(!1)}),[o]),Jc((function(){u(!0)}),e?n/100:null,o),r.createElement(rf,{barHeight:i.height,backgroundColor:i.backgroundColor,className:"SRLProgressBar"},r.createElement(of,{barHeight:i.height,fillColor:i.fillColor,style:{transform:"scaleX(".concat(a?1:0,")"),transitionDuration:"".concat(a?n+"ms":"0ms")}}))};function af(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.addEventListener&&t.addEventListener.apply(t,e)}function uf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.removeEventListener&&t.removeEventListener.apply(t,e)}sf.propTypes={autoplay:et.bool,autoplaySpeed:et.number,currentElementID:et.string,progressBar:et.shape({backgroundColor:et.string,fillColor:et.string,height:et.string})};var cf=["mousemove","mousedown","resize","keydown","touchstart","wheel"],lf=!1;if("undefined"!=typeof window){var hf={get passive(){lf=!0}};window.addEventListener("testPassive",null,hf),window.removeEventListener("testPassive",null,hf)}var ff="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),df=[],pf=!1,mf=-1,gf=void 0,vf=void 0,yf=function(t){return df.some((function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))}))},bf=function(t){var e=t||window.event;return!!yf(e.target)||e.touches.length>1||(e.preventDefault&&e.preventDefault(),!1)},wf=function(t){var e=t.options,n=t.callbacks,i=t.selectedElement,o=t.elements,s=t.dispatch,a=t.compensateForScrollbar,u=(0,r.useContext)(ct),c=(0,r.useRef)(),l=(0,r.useRef)(),h=(0,r.useRef)(),f=(0,r.useRef)(),d=e.buttons,p=e.settings,m=e.progressBar,g=e.thumbnails,v=n.onCountSlides,y=n.onSlideChange,b=n.onLightboxClosed,w=n.onLightboxOpened,E=(0,r.useCallback)((function(t){if("function"==typeof y)return u.callbacks.onSlideChange(t);console.error('Simple React Lightbox error: you are not passing a function in your "onSlideChange" callback! You are passing a '.concat(Sc(y),"."))}),[u.callbacks,y]),T=(0,r.useCallback)((function(t){"function"==typeof w?u.callbacks.onLightboxOpened(t):console.error('Simple React Lightbox error: you are not passing a function in your "onLightboxOpened" callback! You are passing a '.concat(Sc(w),"."))}),[u.callbacks,w]),S=(0,r.useCallback)((function(t){"function"==typeof b?u.callbacks.onLightboxClosed(t):console.error('Simple React Lightbox error: you are not passing a function in your "onLightboxClosed" callback! You are passing a '.concat(Sc(b),"."))}),[u.callbacks,b]),_=(0,r.useCallback)((function(t){"function"==typeof v?u.callbacks.onCountSlides(t):console.error('Simple React Lightbox error: you are not passing a function in your "onCountSlides" callback! You are passing a '.concat(Sc(v),"."))}),[u.callbacks,v]),x=it((0,r.useState)(!1),2),A=x[0],I=x[1],C=it((0,r.useState)(!1),2),k=C[0],P=C[1],R=it((0,r.useState)(),2),O=R[0],N=R[1],L=it((0,r.useState)(!1),2),D=L[0],M=L[1],U=function(t,e,n){void 0===t&&(t=6e4),void 0===e&&(e=!1),void 0===n&&(n=cf);var i=(0,r.useState)(e),o=i[0],s=i[1];return(0,r.useEffect)((function(){for(var e,r=!0,i=o,a=function(t){r&&(i=t,s(t))},u=function(t,e,n,r){var i,o=!1,s=0;function a(){i&&clearTimeout(i)}function u(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];var h=this,f=Date.now()-s;function d(){s=Date.now(),n.apply(h,c)}function p(){i=void 0}o||(r&&!i&&d(),a(),void 0===r&&f>t?d():!0!==e&&(i=setTimeout(r?p:d,void 0===r?t-f:t)))}return"boolean"!=typeof e&&(r=n,n=e,e=void 0),u.cancel=function(){a(),o=!0},u}(50,(function(){i&&a(!1),clearTimeout(e),e=setTimeout((function(){return a(!0)}),t)})),c=function(){document.hidden||u()},l=0;l<n.length;l++)af(window,n[l],u);return af(document,"visibilitychange",c),e=setTimeout((function(){return a(!0)}),t),function(){r=!1;for(var t=0;t<n.length;t++)uf(window,n[t],u);uf(document,"visibilitychange",c)}}),[t,n]),o}(p.hideControlsAfter<1e3?9999999:p.hideControlsAfter),V=(0,r.useCallback)((function(t){return gt.exports.findIndex(o,(function(e){return e.id===t}))}),[o]),F=(0,r.useCallback)((function(t,e,n){N(n?"next"===n?"next":"previous"===n?"previous":void 0:t>e?"next":t<e?"previous":void 0)}),[]),j=(0,r.useCallback)((function(){M(!D)}),[D]),B=(0,r.useCallback)((function(t){p.disablePanzoom||P(t)}),[p.disablePanzoom]),z=(0,r.useCallback)((function(t,e,n,r){B(!1),F(t,e,r),s({type:"HANDLE_ELEMENT",element:n})}),[F,B,s]),$=(0,r.useCallback)((function(t,e){var n=V(t),r=o[n];z(t,e,r),E({action:"selected",slides:{previous:o[n-1],current:r,next:o[n+1]},index:n})}),[o,V,E,z]),H=(0,r.useCallback)((function(t){var e=V(t),n=o[e-1]||o[o.length-1];z(t,null,n,"previous");var r=e-1==-1?o.length-1:e-1;E({action:"left",slides:{previous:o[r-1],current:n,next:o[r+1]},index:r})}),[o,V,E,z]),q=(0,r.useCallback)((function(t){var e=V(t),n=o[e+1]||o[0];z(t,null,n,"next");var r=e+1===o.length?0:e+1;E({action:"right",slides:{previous:o[r-1],current:n,next:o[r+1]},index:r})}),[o,V,E,z]),W=(0,r.useCallback)((function(){s({type:"CLOSE_LIGHTBOX"}),S({opened:!1,currentSlide:u.selectedElement})}),[s,S,u.selectedElement]);Jc((function(){return q(i.id)}),A?p.autoplaySpeed:null,i.id);var K=Bc((function(t){"ArrowRight"!==t&&"ArrowUp"!==t||q(i.id),"ArrowLeft"!==t&&"ArrowDown"!==t||H(i.id),"Escape"===t&&W()}),300);(0,r.useEffect)((function(){return T({opened:!0,currentSlide:u.selectedElement}),_({totalSlide:u.elements.length}),"undefined"!=typeof window&&(document.body.classList.add("SRLOpened"),document.body.style.marginRight=a+"px",function(t,e){if(t){if(!df.some((function(e){return e.targetElement===t}))){var n={targetElement:t,options:e||{}};df=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(df),[n]),ff?(t.ontouchstart=function(t){1===t.targetTouches.length&&(mf=t.targetTouches[0].clientY)},t.ontouchmove=function(e){1===e.targetTouches.length&&function(t,e){var n=t.targetTouches[0].clientY-mf;!yf(t.target)&&(e&&0===e.scrollTop&&n>0||function(t){return!!t&&t.scrollHeight-t.scrollTop<=t.clientHeight}(e)&&n<0?bf(t):t.stopPropagation())}(e,t)},pf||(document.addEventListener("touchmove",bf,lf?{passive:!1}:void 0),pf=!0)):function(t){if(void 0===vf){var e=!!t&&!0===t.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;e&&n>0&&(vf=document.body.style.paddingRight,document.body.style.paddingRight=n+"px")}void 0===gf&&(gf=document.body.style.overflow,document.body.style.overflow="hidden")}(e)}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")}(document.getElementsByClassName(".SRLOpened"),{allowTouchMove:function(t){return t.className.includes("SRLThumbnailsContainer")||t.className.includes("SRLThumb")}})),function(){document.body.classList.remove("SRLOpened"),document.body.style.marginRight="0",ff?(df.forEach((function(t){t.targetElement.ontouchstart=null,t.targetElement.ontouchmove=null})),pf&&(document.removeEventListener("touchmove",bf,lf?{passive:!1}:void 0),pf=!1),mf=-1):(void 0!==vf&&(document.body.style.paddingRight=vf,vf=void 0),void 0!==gf&&(document.body.style.overflow=gf,gf=void 0)),df=[]}}),[]),(0,r.useEffect)((function(){return 0===p.hideControlsAfter&&p.hideControlsAfter||(U?null!==h.current&&void 0!==h.current&&h.current.classList.add("SRLIdle"):null!==h.current&&void 0!==h.current&&h.current.classList.contains("SRLIdle")&&h.current.classList.remove("SRLIdle")),void 0===i.id&&s({type:"HANDLE_ELEMENT",element:{source:o[0].source,caption:o[0].caption,id:o[0].id,width:o[0].width,height:o[0].height,type:o[0].type,showControls:o[0].showControls,videoAutoplay:o[0].videoAutoplay,muted:o[0].muted}}),p.disableKeyboardControls||(f.current=Xc(document,"keydown",(function(t){return K(t.key)}),!1)),function(){p.disableKeyboardControls||f.current()}}),[i.id,o,p.disablePanzoom,p.disableKeyboardControls,k,p.hideControlsAfter,U,K,O,u,s,i]);var G={autoplay:A,buttons:d,currentElementID:i.id,direction:O,handleCloseLightbox:W,handleCurrentElement:$,handleFullScreen:function(){var t="";if("undefined"!=typeof window&&(t=document.querySelector("#SRLLightbox")),document.fullscreenElement)document.exitFullscreen();else if(I(!1),null!==t)try{-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")?t.webkitRequestFullScreen():t.requestFullscreen()}catch(t){!function(t){console.error(t),console.warn("Sorry, your browser doesn't support this functionality!")}(t.message="SRL - ERROR WHEN USING FULLSCREEN API")}},handleImageDownload:function(){var t;(t=i.source,fetch(t).then((function(t){return t.blob()})).then((function(t){return new Promise((function(e,n){var r=new FileReader;r.onloadend=function(){return e(r.result)},r.onerror=n,r.readAsDataURL(t)}))}))).then((function(t){var e=document.createElement("a");e.href=t,e.download="".concat(u.options.settings.downloadedFileName,"-").concat(i.id),e.click()}))},handleNextElement:q,handlePanzoom:B,handlePrevElement:H,handleThumbnails:j,hideThumbnails:D,panzoomEnabled:k,setAutoplay:I,settings:p,SRLThumbnailsRef:c,SRLCaptionRef:l},Y={buttonsBackgroundColor:d.backgroundColor,buttonsIconColor:d.iconColor,buttonsSize:d.size,buttonsIconPadding:d.iconPadding,buttonsOffsetFromProgressBar:m.height,showProgressBar:m.showProgressBar,translations:u.options.translations,icons:u.options.icons};return r.createElement("div",{ref:h,className:"SRLStage"},m.showProgressBar&&A&&r.createElement(sf,{autoplay:A,autoplaySpeed:p.autoplaySpeed,progressBar:m,currentElementID:i.id}),r.createElement(nf,wt({},Y,G,{thumbnailsPosition:g.thumbnailsPosition,thumbnailsSize:g.thumbnailsSize,thumbnailsContainerPadding:g.thumbnailsContainerPadding,showThumbnails:g.showThumbnails,SRLThumbnailsRef:c})),r.createElement($h,wt({},i,G,{elements:o,options:e})))};function Ef(){var t=(0,r.useContext)(ct),e=t.isOpened,n=t.options.settings.usingPreact,i=it((0,r.useState)(0),2),o=i[0],s=i[1],a=(0,r.useRef)();return(0,r.useEffect)((function(){function t(){"undefined"!=typeof window&&(a.current=.01*window.innerHeight,document.documentElement.style.setProperty("--vh","".concat(a.current,"px")))}return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),(0,r.useEffect)((function(){"undefined"!=typeof window&&document.body.scrollHeight>window.innerHeight&&s(window.innerWidth-document.documentElement.clientWidth)})),n?r.createElement(Tc,{selector:"SRLLightbox",isOpened:e},r.createElement(wf,wt({},t,{compensateForScrollbar:o}))):r.createElement(bc,null,e&&r.createElement(Tc,{selector:"SRLLightbox",isOpened:e},r.createElement(wf,wt({},t,{compensateForScrollbar:o}))))}wf.propTypes={callbacks:et.object,compensateForScrollbar:et.number,elements:et.array,isOpened:et.bool,dispatch:et.func,selectedElement:et.object,options:et.shape({thumbnails:et.shape({thumbnailsContainerPadding:et.string,thumbnailsPosition:et.string,thumbnailsSize:et.array,showThumbnails:et.bool}),settings:et.shape({overlayColor:et.string,autoplaySpeed:et.number,disableKeyboardControls:et.bool,disablePanzoom:et.bool,hideControlsAfter:et.oneOfType([et.number,et.bool])}),buttons:et.shape({backgroundColor:et.string,iconColor:et.string,iconPadding:et.string,size:et.string}),progressBar:et.shape({showProgressBar:et.bool,background:et.string,height:et.string})})},Ef.propTypes={context:et.object};var Tf=function(t){var e=t.children;return r.createElement(lt,null,e,r.createElement(Ef,null))};Tf.propTypes={children:et.oneOfType([et.arrayOf(et.node),et.node]).isRequired}},2238:function(t,e,n){"use strict";n.d(e,{Jn:function(){return w},qX:function(){return g},Xd:function(){return m},Mq:function(){return T},ZF:function(){return E},KN:function(){return S}});var r=n(8463),i=n(3333),o=n(4444);class s{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const a="@firebase/app",u="0.7.10",c=new i.Yd("@firebase/app"),l="[DEFAULT]",h={[a]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},f=new Map,d=new Map;function p(t,e){try{t.container.addComponent(e)}catch(n){c.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function m(t){const e=t.name;if(d.has(e))return c.debug(`There were multiple attempts to register component ${e}.`),!1;d.set(e,t);for(const n of f.values())p(n,t);return!0}function g(t,e){return t.container.getProvider(e)}const v={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."},y=new o.LL("app","Firebase",v);class b{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw y.create("app-deleted",{appName:this._name})}}const w="9.6.0";function E(t,e={}){if("object"!==typeof e){e={name:e}}const n=Object.assign({name:l,automaticDataCollectionEnabled:!1},e),i=n.name;if("string"!==typeof i||!i)throw y.create("bad-app-name",{appName:String(i)});const s=f.get(i);if(s){if((0,o.vZ)(t,s.options)&&(0,o.vZ)(n,s.config))return s;throw y.create("duplicate-app",{appName:i})}const a=new r.H0(i);for(const r of d.values())a.addComponent(r);const u=new b(t,n,a);return f.set(i,u),u}function T(t="[DEFAULT]"){const e=f.get(t);if(!e)throw y.create("no-app",{appName:t});return e}function S(t,e,n){var i;let o=null!==(i=h[t])&&void 0!==i?i:t;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const t=[`Unable to register library "${o}" with version "${e}":`];return s&&t.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void c.warn(t.join(" "))}m(new r.wA(`${o}-version`,(()=>({library:o,version:e})),"VERSION"))}var _;_="",m(new r.wA("platform-logger",(t=>new s(t)),"PRIVATE")),S(a,u,_),S(a,u,"esm2017"),S("fire-js","")},8463:function(t,e,n){"use strict";n.d(e,{wA:function(){return i},H0:function(){return a}});var r=n(4444);class i{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const o="[DEFAULT]";class s{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new r.BH;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:r});n.resolve(t)}catch(e){}}}}clearInstance(t="[DEFAULT]"){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t="[DEFAULT]"){return this.instances.has(t)}getOptions(t="[DEFAULT]"){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(r){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===o?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(t="[DEFAULT]"){return this.component?this.component.multipleInstances?t:o:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new s(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},3333:function(t,e,n){"use strict";n.d(e,{in:function(){return i},Yd:function(){return c}});const r=[];var i;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},u=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=a[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class c{constructor(t){this.name=t,this._logLevel=s,this._logHandler=u,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in i))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?o[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,179],(function(){return e(1780),e(387)}));var n=t.O();_N_E=n}]);